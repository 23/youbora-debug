/**
 * @license MIT
 * youbora-html5-plugin 6.0.0-rc
 * Packed with youboralib v6.0.0-rc
 * Copyright NicePopleAtWork <http://nicepeopleatwork.com/>
 * @author Jordi Aguilar
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.youbora=e()}}(function(){return function e(t,n,i){function r(o,a){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!a&&u)return u(o,!0);if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t,n){t.exports={_args:[[{raw:"youboralib@6.0.0-rc",scope:null,escapedName:"youboralib",name:"youboralib",rawSpec:"6.0.0-rc",spec:"6.0.0-rc",type:"version"},"/home/jaguilar/workspace/youboralib6/plugins/html5"]],_from:"youboralib@6.0.0-rc",_id:"youboralib@6.0.0-rc",_inCache:!0,_location:"/youboralib",_nodeVersion:"6.9.1",_npmOperationalInternal:{host:"packages-18-east.internal.npmjs.com",tmp:"tmp/youboralib-6.0.0-rc.tgz_1480068193823_0.4878544704988599"},_npmUser:{name:"jaguilar",email:"jaguilar@nicepeopleatwork.com"},_npmVersion:"3.10.8",_phantomChildren:{},_requested:{raw:"youboralib@6.0.0-rc",scope:null,escapedName:"youboralib",name:"youboralib",rawSpec:"6.0.0-rc",spec:"6.0.0-rc",type:"version"},_requiredBy:["#USER","/"],_resolved:"https://registry.npmjs.org/youboralib/-/youboralib-6.0.0-rc.tgz",_shasum:"49a60bac4fb3b3e437c81de51c516aaa3246b9f5",_shrinkwrap:null,_spec:"youboralib@6.0.0-rc",_where:"/home/jaguilar/workspace/youboralib6/plugins/html5",author:{name:"Jordi Aguilar"},bugs:{email:"project@hostname.com"},dependencies:{},description:"[![js-standard-style](https://img.shields.io/badge/code%20style-standard-brightgreen.svg)](http://standardjs.com) [![Build Status](https://travis-ci.org/NicePeopleAtWork/Youbora-YouboraLib-JS.svg)](https://travis-ci.org/NicePeopleAtWork/Youbora-YouboraLib",devDependencies:{browserify:"^13.1.0",codecov:"^1.0.1",del:"^2.2.2",eslint:"^3.7.1","eslint-config-standard":"^6.2.0","eslint-plugin-node":"^2.1.2","eslint-plugin-promise":"^3.4.0","eslint-plugin-standard":"^2.0.1",gulp:"^3.9.1","gulp-load-plugins":"^1.3.0","gulp-rename":"^1.2.2","gulp-sourcemaps":"^1.6.0","gulp-streamify":"^1.0.2","gulp-uglify":"^2.0.0","gulp-util":"^3.0.7",istanbul:"^0.4.5",jasmine:"^2.5.2","mock-browser":"^0.92.12",through2:"^2.0.1","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.1.0",watchify:"^3.7.0"},directories:{},dist:{shasum:"49a60bac4fb3b3e437c81de51c516aaa3246b9f5",tarball:"https://registry.npmjs.org/youboralib/-/youboralib-6.0.0-rc.tgz"},gitHead:"3faa412c235955726fd798158265fe5ce84c6644",homepage:"https://github.com/NicePeopleAtWork/Youbora-YouboraLib-JS#readme",license:"MIT",main:"src/youboralib.js",maintainers:[{name:"jaguilar",email:"jaguilar@nicepeopleatwork.com"}],name:"youboralib",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+https://github.com/NicePeopleAtWork/Youbora-YouboraLib-JS.git"},scripts:{build:"gulp build",postversion:"git push && git push --tags",pretest:"npm run build",preversion:"npm test",test:"istanbul cover --include-all-sources --root src ./node_modules/jasmine/bin/jasmine.js",version:"npm run build && git add -A"},version:"6.0.0-rc"}},{}],2:[function(e,t,n){var i=e("../object"),r=e("../log"),s=e("../comm/request"),o=e("../plugin/flagstatus"),a=e("../plugin/chronostatus"),u=i.extend({constructor:function(e){this._info=e,this._monitor=e.plugin.monitor,this._flags=e.plugin.flags,this._chronos=e.plugin.chronos,e.plugin.adnalyzer?(this._adFlags=e.plugin.adnalyzer.flags,this._adChronos=e.plugin.adnalyzer.chronos,this._adMonitor=e.plugin.adnalyzer._adMonitor):(this._adFlags=new o,this._adChronos=new a)},getIsAllowed:function(){return!0},setChronosAndFlags:function(){},getServiceName:function(){return"/"},getParams:function(){return{}},notice:function(e){r.notice(this.getServiceName())},buildRequest:function(e){var t=null;if(this.getIsAllowed()){this.setChronosAndFlags(),e=this.getParams(e);var n=this.getServiceName();t=new s(null,n,e),this.notice(e)}return t},_buildParams:function(e,t){return e=e||{},t.forEach(function(t){if(!e[t]){var n=u.Param[t];this._info[n]?(e[t]=this._info[n](),this._info.lastSent[t]=e[t]):r.warn("Trying to call undefined getter "+t+":"+n)}}.bind(this)),e},_buildParamsIfDifferent:function(e,t){return e=e||{},t.forEach(function(t){if(!e[t]){var n=u.Param[t];if(this._info[n]){var i=this._info[n]();this._info.lastSent[t]!==i&&i&&(e[t]=i,this._info.lastSent[t]=i)}else r.warn("Trying to call undefined getter "+t+":"+n)}}.bind(this)),e}},{Param:{playhead:"getPlayhead",playrate:"getPlayrate",fps:"getFramesPerSecond",droppedFrames:"getDroppedFrames",mediaDuration:"getDuration",bitrate:"getBitrate",throughput:"getThroughput",rendition:"getRendition",title:"getTitle",title2:"getTitle2",live:"getIsLive",mediaResource:"getResource",transactionCode:"getTransactionCode",properties:"getMetadata",playerVersion:"getPlayerVersion",player:"getPlayerName",cdn:"getCdn",pluginVersion:"getPluginVersion",param1:"getExtraparam1",param2:"getExtraparam2",param3:"getExtraparam3",param4:"getExtraparam4",param5:"getExtraparam5",param6:"getExtraparam6",param7:"getExtraparam7",param8:"getExtraparam8",param9:"getExtraparam9",param10:"getExtraparam10",adPosition:"getAdPosition",adPlayhead:"getAdPlayhead",adDuration:"getAdDuration",adBitrate:"getAdBitrate",adTitle:"getAdTitle",adResource:"getAdResource",adPlayerVersion:"getAdPlayerVersion",adProperties:"getAdMetadata",adnalyzerVersion:"getAdnalyzerVersion",pluginInfo:"getPluginInfo",isp:"getIsp",connectionType:"getConnectionType",ip:"getIp",deviceCode:"getDeviceCode",system:"getAccountCode",accountCode:"getAccountCode",username:"getUsername",joinDuration:"getJoinDuration",bufferDuration:"getBufferDuration",seekDuration:"getSeekDuration",pauseDuration:"getPauseDuration",adJoinDuration:"getAdJoinDuration",adBufferDuration:"getAdBufferDuration",totalAdDuration:"getTotalAdDuration",preloadDuration:"getPreloadDuration",adPauseDuration:"getAdPauseDuration",referer:"getReferer",nodeHost:"getNodeHost",nodeType:"getNodeType",nodeTypeString:"getNodeTypeString"}});t.exports=u},{"../comm/request":28,"../log":32,"../object":33,"../plugin/chronostatus":35,"../plugin/flagstatus":36}],3:[function(e,t,n){var i=e("./actionbuilder"),r=i.extend({getIsAllowed:function(){return!this._flags.isHalted&&this._adFlags.isJoined&&!this._adFlags.isBuffering},setChronosAndFlags:function(){this._adFlags.isBuffering=!0,this._adChronos.buffer.start()},getServiceName:function(){return"/adBuffer-begin"}});t.exports=r},{"./actionbuilder":2}],4:[function(e,t,n){var i=e("./actionbuilder"),r=e("../log"),s=i.extend({getIsAllowed:function(){return!this._flags.isHalted&&this._adFlags.isJoined&&this._adFlags.isBuffering},setChronosAndFlags:function(){this._adFlags.isBuffering=!1,this._adChronos.buffer.stop()},getServiceName:function(){return"/adBufferUnderrun"},notice:function(e){r.notice(this.getServiceName()+" "+e.adBufferDuration+"ms")},getParams:function(e){return e=this._buildParams(e,["adBufferDuration","adPlayhead","adPosition"]),e.adNumber=this._info.lastSent.adNumber,e}});t.exports=s},{"../log":32,"./actionbuilder":2}],5:[function(e,t,n){var i=e("./actionbuilder"),r=e("../log"),s=i.extend({getIsAllowed:function(){return!this._flags.isHalted&&this._adFlags.isStarted&&!this._adFlags.isJoined},setChronosAndFlags:function(){this._adFlags.isJoined=!0,this._adChronos.join.stop()},getServiceName:function(){return"/adJoin"},notice:function(e){r.notice(this.getServiceName()+" "+e.joinDuration+"ms")},getParams:function(e){return e=this._buildParams(e,["joinAdDuration","adPlayhead"]),e=this._buildParamsIfDifferent(e,["adTitle","adDuration","adResource"]),e.adNumber=this._info.lastSent.adNumber,e}});t.exports=s},{"../log":32,"./actionbuilder":2}],6:[function(e,t,n){var i=e("./actionbuilder"),r=e("../log"),s=i.extend({getIsAllowed:function(){return!this._flags.isHalted&&this._adFlags.isJoined&&!this._adFlags.isPaused},setChronosAndFlags:function(){this._adFlags.isPaused=!0,this._adChronos.pause.start()},getServiceName:function(){return"/adPause"},notice:function(e){r.notice(this.getServiceName()+" at "+e.adPlayhead+"s")},getParams:function(e){return e=this._buildParams(e,["adPlayhead","adPosition"]),e.adNumber=this._info.lastSent.adNumber,e}});t.exports=s},{"../log":32,"./actionbuilder":2}],7:[function(e,t,n){var i=e("./actionbuilder"),r=e("../log"),s=i.extend({getIsAllowed:function(){return!this._flags.isHalted&&this._adFlags.isJoined&&this._adFlags.isPaused},setChronosAndFlags:function(){this._adFlags.isPaused=!1,this._adChronos.pause.stop()},getServiceName:function(){return"/adResume"},notice:function(e){r.notice(this.getServiceName()+" at "+e.adPlayhead+"s")},getParams:function(e){return e=this._buildParams(e,["adPauseDuration","adPlayhead","adPosition"]),e.adNumber=this._info.lastSent.adNumber,e}});t.exports=s},{"../log":32,"./actionbuilder":2}],8:[function(e,t,n){var i=e("./actionbuilder"),r=e("../log"),s=i.extend({getIsAllowed:function(){return!this._flags.isHalted&&this._flags.isStarted&&!this._adFlags.isStarted},setChronosAndFlags:function(){this._adFlags.isStarted=!0,this._adChronos.join.start(),this._adChronos.total.start(),this._adMonitor&&this._adMonitor.start()},getServiceName:function(){return"/adStart"},notice:function(e){r.notice(this.getServiceName()+" "+(e.adTitle||e.adResource))},getParams:function(e){var t=this._getAdNumber();return e=this._buildParams(e,["playhead","adTitle","adPosition","adDuration","adResource","adPlayerVersion","adProperties","adnalyzerVersion"]),e.adNumber=t,e},_getAdNumber:function(){var e=this._info.lastSent.adNumber;return e&&this._info.lastSent.adPosition===this._info.getAdPosition()?e+=1:e=1,this._info.lastSent.adNumber=e,e}});t.exports=s},{"../log":32,"./actionbuilder":2}],9:[function(e,t,n){var i=e("./actionbuilder"),r=e("../log"),s=i.extend({getIsAllowed:function(){return!this._flags.isHalted&&this._adFlags.isStarted},setChronosAndFlags:function(){var e=this._adChronos.total;e.stop(),this._adFlags.reset(),this._adChronos.reset(),this._adChronos.total=e,this._adMonitor&&this._adMonitor.stop()},getServiceName:function(){return"/adStop"},notice:function(e){r.notice(this.getServiceName()+" "+e.totalAdDuration+"ms")},getParams:function(e){var e=this._buildParams(e,["adBitrate","adPlayhead","totalAdDuration","adPosition"]);return e.adNumber=this._info.lastSent.adNumber,e}});t.exports=s},{"../log":32,"./actionbuilder":2}],10:[function(e,t,n){var i=e("./actionbuilder"),r=e("../log"),s=i.extend({getIsAllowed:function(){return!this._flags.isHalted&&this._flags.isJoined&&!this._flags.isBuffering},setChronosAndFlags:function(e){e.data&&e.data.convertFromSeek===!0&&this._flags.isSeeking?(r.notice("Converting current buffer to seek"),this._chronos.buffer.startTime=this._chronos.seek.startTime,this._chronos.buffer.lastTime=0,this._chronos.seek.stop(),this._flags.isSeeking=!1):this._chronos.buffer.start(),this._flags.isBuffering=!0},getServiceName:function(){return"/buffer-begin"}});t.exports=s},{"../log":32,"./actionbuilder":2}],11:[function(e,t,n){var i=e("./actionbuilder"),r=e("../log"),s=i.extend({getIsAllowed:function(){return!this._flags.isHalted&&this._flags.isJoined&&this._flags.isBuffering},setChronosAndFlags:function(){this._flags.isBuffering=!1,this._chronos.buffer.stop()},getServiceName:function(){return"/bufferUnderrun"},notice:function(e){r.notice(this.getServiceName()+" "+e.bufferDuration+"ms")},getParams:function(e){return this._buildParams(e,["bufferDuration","playhead"])}});t.exports=s},{"../log":32,"./actionbuilder":2}],12:[function(e,t,n){var i=e("./actionbuilder"),r=e("../log"),s=i.extend({getServiceName:function(){return"/data"},notice:function(e){r.notice(this.getServiceName()+" "+e.system)},getParams:function(e){return e=this._buildParams(e,["pluginVersion","system"]),e.apiVersion="v6,v7",e.outputformat="jsonp",e}});t.exports=s},{"../log":32,"./actionbuilder":2}],13:[function(e,t,n){var i=e("./actionbuilder"),r=e("./start"),s=e("../log"),o=i.extend({getServiceName:function(){return"/error"},notice:function(e){s.notice(this.getServiceName()+" "+e.errorMsg)},getParams:function(e){return e=new r(this._info).getParams(e),this._buildParams(e,["player"])}});t.exports=o},{"../log":32,"./actionbuilder":2,"./start":24}],14:[function(e,t,n){var i=e("./error"),r=e("../log"),s=i.extend({setChronosAndFlags:function(){this._flags.reset(),this._adFlags.reset(),this._chronos.reset(),this._adChronos.reset(),this._flags.isHalted=!0},notice:function(e){r.notice(this.getServiceName()+" FATAL "+e.errorMsg)},getParams:function(e){return e=i.prototype.getParams.apply(this,e),e.errorLevel="fatal",e}});t.exports=s},{"../log":32,"./error":13}],15:[function(e,t,n){var i=e("./start"),r=i.extend({setChronosAndFlags:function(){this._flags.isInitiated=!0},getServiceName:function(){return"/init"}});t.exports=r},{"./start":24}],16:[function(e,t,n){var i=e("./actionbuilder"),r=e("../log"),s=i.extend({getIsAllowed:function(){return!this._flags.isHalted&&this._flags.isStarted&&!this._flags.isJoined&&!this._adFlags.isStarted},setChronosAndFlags:function(){this._flags.isJoined=!0,this._chronos.join.stop()},getServiceName:function(){return"/joinTime"},notice:function(e){r.notice(this.getServiceName()+" "+e.joinDuration+"ms")},getParams:function(e){return e=this._buildParams(e,["joinDuration","playhead"]),this._buildParamsIfDifferent(e,["title","title2","live","mediaDuration","mediaResource"])}});t.exports=s},{"../log":32,"./actionbuilder":2}],17:[function(e,t,n){var i=e("./actionbuilder"),r=e("../log"),s=i.extend({getIsAllowed:function(){return!this._flags.isHalted&&this._flags.isJoined&&!this._flags.isPaused},setChronosAndFlags:function(){this._flags.isPaused=!0,this._chronos.pause.start()},getServiceName:function(){return"/pause"},notice:function(e){r.notice(this.getServiceName()+" at "+e.playhead+"s")},getParams:function(e){return this._buildParams(e,["playhead"])}});t.exports=s},{"../log":32,"./actionbuilder":2}],18:[function(e,t,n){var i=e("./actionbuilder"),r=e("../log"),s=i.extend({getIsAllowed:function(){return!this._flags.isHalted&&this._flags.isStarted},getServiceName:function(){return"/ping"},notice:function(e){r.verbose(this.getServiceName())},getParams:function(e){return e=this._buildParams(e,["playhead","bitrate","throughput","fps","droppedFrames","playrate","adPlayhead","adBitrate"]),this._flags.isBuffering&&(e=this._buildParams(e,["bufferDuration"])),this._flags.isPaused&&(e=this._buildParams(e,["pauseDuration"])),this._flags.isSeeking&&(e=this._buildParams(e,["seekDuration"])),this._flags.isAdBuffering&&(e=this._buildParams(e,["adBufferDuration"])),e.entities=this._getChangedEntities(),e},_getChangedEntities:function(){return this._buildParamsIfDifferent({},["rendition","title","title2","live","mediaDuration","mediaResource","param1","param2","param3","param4","param5","param6","param7","param8","param9","param10","adTitle","connectionType","deviceCode","ip","username","cdn","nodeHost","nodeType","nodeTypeString"])}});t.exports=s},{"../log":32,"./actionbuilder":2}],19:[function(e,t,n){var i=e("./actionbuilder"),r=i.extend({getIsAllowed:function(){return!this._flags.isPreloading},setChronosAndFlags:function(){this._flags.isPreloading=!0,this._chronos.preload.start()},getServiceName:function(){return"/preload-begin"}});t.exports=r},{"./actionbuilder":2}],20:[function(e,t,n){var i=e("./actionbuilder"),r=i.extend({getIsAllowed:function(){return this._flags.isPreloading},setChronosAndFlags:function(){this._flags.isPreloading&&(this._flags.isPreloading=!1,this._chronos.preload.stop())},getServiceName:function(){return"/preload-end "+this._chronos.preload.getDeltaTime(!1)+"ms"}});t.exports=r},{"./actionbuilder":2}],21:[function(e,t,n){var i=e("./actionbuilder"),r=e("../log"),s=i.extend({getIsAllowed:function(){return!this._flags.isHalted&&this._flags.isJoined&&this._flags.isPaused},setChronosAndFlags:function(){this._flags.isPaused=!1,this._chronos.pause.stop()},getServiceName:function(){return"/resume"},notice:function(e){r.notice(this.getServiceName()+" at "+e.playhead+"s")},getParams:function(e){return this._buildParams(e,["pauseDuration","playhead"])}});t.exports=s},{"../log":32,"./actionbuilder":2}],22:[function(e,t,n){var i=e("./actionbuilder"),r=e("../log"),s=i.extend({getIsAllowed:function(){return!this._flags.isHalted&&this._flags.isJoined&&!this._flags.isSeeking},setChronosAndFlags:function(e){e.data&&e.data.convertFromBuffer!==!1&&this._flags.isBuffering?(r.notice("Converting current buffer to seek"),this._chronos.seek.startTime=this._chronos.buffer.startTime,this._chronos.seek.lastTime=0,this._chronos.buffer.stop(),this._flags.isBuffering=!1):this._chronos.seek.start(),this._flags.isSeeking=!0},getServiceName:function(){return"/seek-begin"}});t.exports=s},{"../log":32,"./actionbuilder":2}],23:[function(e,t,n){var i=e("./actionbuilder"),r=e("../log"),s=i.extend({getIsAllowed:function(){return!this._flags.isHalted&&this._flags.isJoined&&this._flags.isSeeking},setChronosAndFlags:function(){this._flags.isSeeking=!1,this._chronos.seek.stop()},getServiceName:function(){return"/seek"},notice:function(e){r.notice(this.getServiceName()+" to "+e.playhead+" in "+e.seekDuration+"ms")},getParams:function(e){return this._buildParams(e,["seekDuration","playhead"])}});t.exports=s},{"../log":32,"./actionbuilder":2}],24:[function(e,t,n){var i=e("./actionbuilder"),r=e("../log"),s=i.extend({getIsAllowed:function(){return!this._flags.isStarted},setChronosAndFlags:function(){this._flags.isStarted=!0,this._flags.isHalted=!1,0===this._chronos.join.startTime&&this._chronos.join.start(),this._chronos.total.start(),this._monitor&&this._monitor.start()},getServiceName:function(){return"/start"},notice:function(e){r.notice(this.getServiceName()+" "+(e.title||e.mediaResource))},getParams:function(e){return this._buildParams(e,["accountCode","username","rendition","title","title2","live","mediaDuration","mediaResource","transactionCode","properties","cdn","playerVersion","param1","param2","param3","param4","param5","param6","param7","param8","param9","param10","pluginVersion","pluginInfo","isp","connectionType","ip","deviceCode","preloadDuration"])}});t.exports=s},{"../log":32,"./actionbuilder":2}],25:[function(e,t,n){var i=e("./actionbuilder"),r=e("../log"),s=i.extend({getIsAllowed:function(){return!this._flags.isHalted&&this._flags.isStarted},setChronosAndFlags:function(){var e=this._chronos.total;e.stop(),this._flags.reset(),this._adFlags.reset(),this._chronos.reset(),this._adChronos.reset(),this._chronos.total=e,this._monitor&&this._monitor.stop()},getServiceName:function(){return"/stop"},notice:function(e){r.notice(this.getServiceName()+" at "+e.playhead+"s")},getParams:function(e){return this._buildParams(e,["bitrate","playhead"])}});t.exports=s},{"../log":32,"./actionbuilder":2}],26:[function(e,t,n){var i=e("./object"),r=i.extend({constructor:function(){this.startTime=0,this.stopTime=0,this.offset=0},getDeltaTime:function(e){var t=(new Date).getTime();return this.startTime?(e&&!this.stopTime&&(this.stopTime=t),this.offset+(t-this.startTime)):-1},start:function(){this.startTime=(new Date).getTime(),this.stopTime=0},stop:function(){return this.stopTime=(new Date).getTime(),this.startTime?this.offset+(this.stopTime-this.startTime):-1}});t.exports=r},{"./object":33}],27:[function(e,t,n){var i=e("../object"),r=e("../log"),s=e("./request"),o=e("../transform/transform"),a=i.extend({constructor:function(){this.transforms=[],this._requests=[]},sendRequest:function(e,t){e&&("function"==typeof t&&e.on(s.Event.SUCCESS,t),this._registerRequest(e))},buildRequest:function(e,t,n,i){n=n||{};var r=new s(e,t,n);"function"==typeof i&&r.on(s.Event.SUCCESS,i),this._registerRequest(r)},addTransform:function(e){e.parse&&e.isBlocking?(this.transforms.push(e),e.on(o.Event.DONE,this._processRequests.bind(this))):r.warn(e+" is not a valid RequestTransform.")},removeTransform:function(e){var t=this.transforms.indexOf(e);t!==-1?this.transforms.splice(t,1):r.warn("Trying to remove unexisting Transform '"+e+"'.")},_registerRequest:function(e){this._requests.push(e),this._processRequests()},_processRequests:function(){var e=this._requests;this._requests=[];for(var t=[];e.length;){var n=e.shift();this._transform(n)?n.send():t.push(n)}for(;t.length;)this._requests.push(t.shift())},_transform:function(e){var t=!0;return this.transforms.forEach(function(n){return n.isBlocking(e)?void(t=!1):void n.parse(e)}),t}});t.exports=a},{"../log":32,"../object":33,"../transform/transform":45,"./request":28}],28:[function(e,t,n){var i=e("../object"),r=e("../log"),s=i.extend({constructor:function(e,t,n,i){this.xhr=this.createXHR(),this.host=e||"",this.service=t||"",this.params=n||{},this.options=Object.assign({method:"GET",requestHeaders:{},maxRetries:3,retryAfter:5e3,cache:!1},i),this.retries=0,this.options.cache||this.setParam("timemark",(new Date).getTime())},createXHR:function(){try{return XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return r.error(e),{}}},getXHR:function(){return this.xhr},getUrl:function(){return this.host+this.service+this.getParamString()},on:function(e,t){return"function"==typeof t?this.xhr.addEventListener(e,t.bind(this,this)):r.warn("Tried to register a not-a-function callback."),this},off:function(e,t){return"function"==typeof t?this.xhr.removeEventListener(e,t):r.warn("Tried to register a not-a-function callback."),this},getParamString:function(){try{var e="?";for(var t in this.params){var n=this.params[t];null!==n&&"object"==typeof n?e+=encodeURIComponent(t)+"="+encodeURIComponent(JSON.stringify(n))+"&":null!==n&&"undefined"!=typeof n&&""!==n&&(e+=encodeURIComponent(t)+"="+encodeURIComponent(n)+"&")}return e.slice(0,-1)}catch(e){return r.error(e),""}},getParam:function(e){return this.params[e]},setParam:function(e,t){return this.params[e]=t,this},send:function(){try{if(this.xhr.open(this.options.method,this.getUrl(),!0),this.options.requestHeaders)for(var e in this.options.requestHeaders)this.options.requestHeaders.hasOwnProperty(e)&&this.xhr.setRequestHeader(e,this.options.requestHeaders[e]);if(this.options.retryAfter>0&&this.options.maxRetries>0){var t=function(){this.retries>=this.options.maxRetries?r.error('Aborting failed request "'+this.service+'". Max retries reached.'):(r.warn('YBRequest "'+this.service+'" failed. Retry '+(this.retries+1)+" of "+this.options.maxRetries+" in "+this.options.retryAfter+"ms."),setTimeout(function(){this.retries+=1,this.send()}.bind(this),this.options.retryAfter))};0===this.retries&&this.on(s.Event.ERROR,t.bind(this))}r.logLevel<=r.Level.VERBOSE&&r.verbose("XHR Req: "+this.getUrl());for(var n in s._globalListeners)s._globalListeners[n].forEach(function(e){this.on(n,e)}.bind(this));return this.xhr.send()}catch(e){r.error(e)}}},{Event:{SUCCESS:"load",LOAD:"load",ERROR:"error",ABORT:"abort"},_globalListeners:{},onEvery:function(e,t){"function"==typeof t?(s._globalListeners[e]=s._globalListeners[e]||[],s._globalListeners[e].push(t)):r.warn("Callback "+t+" is not a function.")},offEvery:function(e,t){if(s._globalListeners[e]){var n=s._globalListeners[e].indexOf(t);n!==-1&&s._globalListeners[e].splice(n,1)}}});t.exports=s},{"../log":32,"../object":33}],29:[function(e,t,n){var i=e("../object"),r=e("../timer"),s=e("../log"),o=e("../comm/communication"),a=e("./infogatherer"),u=e("../transform/view"),l=e("../transform/nqs6"),c=e("../transform/resource"),h=e("../actionbuilder/ping"),d=e("../actionbuilder/preloadbegin"),g=e("../actionbuilder/preloadend"),f=e("../actionbuilder/init"),p=e("../actionbuilder/start"),m=e("../actionbuilder/join"),_=e("../actionbuilder/pause"),b=e("../actionbuilder/resume"),y=e("../actionbuilder/seekbegin"),v=e("../actionbuilder/seekend"),w=e("../actionbuilder/bufferbegin"),P=e("../actionbuilder/bufferend"),T=e("../actionbuilder/stop"),R=e("../actionbuilder/error"),N=e("../actionbuilder/fatalerror"),E=e("../actionbuilder/adstart"),x=e("../actionbuilder/adjoin"),S=e("../actionbuilder/adpause"),A=e("../actionbuilder/adresume"),L=e("../actionbuilder/adbufferbegin"),D=e("../actionbuilder/adbufferend"),C=e("../actionbuilder/adstop"),k=i.extend({constructor:function(e,t){this.plugin=e,this.options=t,k.map.push(e),this._init(),this._registerListeners()},setOptions:function(e){this.options.setOptions(e)},getOptions:function(){return this.options},_init:function(){this._info=new a(this),this._ping=this._ping=new r(this._sendPing.bind(this),5e3),this.viewTransform=new u(this._info),this.viewTransform.on(u.Event.DONE,function(e){this._ping.interval=1e3*e.target.response.pingTime}.bind(this)),this.resourceTransform=new c(this.options,this._info)},reset:function(){this.stopPings(),this.resourceTransform=new c(this.options,this._info)},_initComm:function(){this.resourceTransform.init(this._info.getResource()),this._comm=new o,this._comm.addTransform(this.viewTransform),this._comm.addTransform(this.resourceTransform),this._comm.addTransform(new l)},startPings:function(){this._ping.isRunning||this._ping.start()},stopPings:function(){this._ping.stop()},_registerListeners:function(){this.plugin.on("init",this._initListener.bind(this)),this.plugin.on("start",this._startListener.bind(this)),this.plugin.on("join",this._joinListener.bind(this)),this.plugin.on("pause",this._pauseListener.bind(this)),this.plugin.on("resume",this._resumeListener.bind(this)),this.plugin.on("seek-begin",this._seekBeginListener.bind(this)),this.plugin.on("seek-end",this._seekEndListener.bind(this)),this.plugin.on("buffer-begin",this._bufferBeginListener.bind(this)),this.plugin.on("buffer-end",this._bufferEndListener.bind(this)),this.plugin.on("error",this._errorListener.bind(this)),this.plugin.on("fatal-error",this._fatalErrorListener.bind(this)),this.plugin.on("stop",this._stopListener.bind(this)),this.plugin.on("preload-begin",this._preloadBeginListener.bind(this)),this.plugin.on("preload-end",this._preloadEndListener.bind(this))},setAdnalyzer:function(){this.plugin.adnalyzer?this._registerAdnalyzerListeners():s.warn("Tried to call controller.setAdnalyzer without an adnalyzed defined.")},_registerAdnalyzerListeners:function(){this.plugin.adnalyzer.on("start",this._adStartListener.bind(this)),this.plugin.adnalyzer.on("join",this._adJoinListener.bind(this)),this.plugin.adnalyzer.on("pause",this._adPauseListener.bind(this)),this.plugin.adnalyzer.on("resume",this._adResumeListener.bind(this)),this.plugin.adnalyzer.on("buffer-begin",this._adBufferBeginListener.bind(this)),this.plugin.adnalyzer.on("buffer-end",this._adBufferEndListener.bind(this)),this.plugin.adnalyzer.on("stop",this._adStopListener.bind(this))},_sendRequest:function(e,t,n){t&&this.options["config.enabled"]&&(n&&this.plugin.adnalyzer?this.plugin.adnalyzer.emit("pre-"+e.type):this.plugin.emit("pre-"+e.type),this._comm.sendRequest(t))},_executeBuilder:function(e,t,n){t.getIsAllowed()&&(t.setChronosAndFlags(e),t.notice(),n&&this.plugin.adnalyzer?this.plugin.adnalyzer.emit("pre-"+e.type):this.plugin.emit("pre-"+e.type))},_preloadBeginListener:function(e){this._executeBuilder(e,new d(this._info))},_preloadEndListener:function(e){this._executeBuilder(e,new g(this._info))},_initListener:function(e){var t=new f(this._info);t.getIsAllowed()&&(this.viewTransform.nextView(),this._initComm(),this.startPings()),this._sendRequest(e,t.buildRequest())},_startListener:function(e){var t=new p(this._info);t.getIsAllowed()&&(this.plugin.flags.isInitiated||this.viewTransform.nextView(),this._comm||this._initComm(),this.startPings()),this._sendRequest(e,t.buildRequest())},_joinListener:function(e){this._sendRequest(e,new m(this._info).buildRequest())},_pauseListener:function(e){this._sendRequest(e,new _(this._info).buildRequest())},_resumeListener:function(e){this._sendRequest(e,new b(this._info).buildRequest())},_seekBeginListener:function(e){this._executeBuilder(e,new y(this._info))},_seekEndListener:function(e){this._sendRequest(e,new v(this._info).buildRequest())},_bufferBeginListener:function(e){this._executeBuilder(e,new w(this._info))},_bufferEndListener:function(e){this._sendRequest(e,new P(this._info).buildRequest())},_errorListener:function(e){this._comm||this._initComm(),this._sendRequest(e,new R(this._info).buildRequest())},_fatalErrorListener:function(e){this._comm||this._initComm(),this._sendRequest(e,new N(this._info).buildRequest()),this.reset()},_stopListener:function(e){this._sendRequest(e,new T(this._info).buildRequest()),this.reset()},_adStartListener:function(e){this._sendRequest(e,new E(this._info).buildRequest(),!0)},_adJoinListener:function(e){this._sendRequest(e,new x(this._info).buildRequest(),!0)},_adPauseListener:function(e){this._sendRequest(e,new S(this._info).buildRequest(),!0)},_adResumeListener:function(e){this._sendRequest(e,new A(this._info).buildRequest(),!0)},_adBufferBeginListener:function(e){this._executeBuilder(e,new L(this._info),!0)},_adBufferEndListener:function(e){this._sendRequest(e,new D(this._info).buildRequest(),!0)},_adStopListener:function(e){this._sendRequest(e,new C(this._info).buildRequest(),!0)},_sendPing:function(e){if(this.options["config.enabled"]){var t=new h(this._info);this._comm.sendRequest(t.buildRequest({diffTime:e}))}}},{map:[]});t.exports=k},{"../actionbuilder/adbufferbegin":3,"../actionbuilder/adbufferend":4,"../actionbuilder/adjoin":5,"../actionbuilder/adpause":6,"../actionbuilder/adresume":7,"../actionbuilder/adstart":8,"../actionbuilder/adstop":9,"../actionbuilder/bufferbegin":10,"../actionbuilder/bufferend":11,"../actionbuilder/error":13,"../actionbuilder/fatalerror":14,"../actionbuilder/init":15,"../actionbuilder/join":16,"../actionbuilder/pause":17,"../actionbuilder/ping":18,"../actionbuilder/preloadbegin":19,"../actionbuilder/preloadend":20,"../actionbuilder/resume":21,"../actionbuilder/seekbegin":22,"../actionbuilder/seekend":23,"../actionbuilder/start":24,"../actionbuilder/stop":25,"../comm/communication":27,"../log":32,"../object":33,"../timer":40,"../transform/nqs6":43,"../transform/resource":44,"../transform/view":46,"./infogatherer":30}],30:[function(e,t,n){var i=e("../object"),r=e("../log"),s=e("../util"),o=e("../version"),a=i.extend({constructor:function(e){this.plugin=e.plugin,this._options=e.options,this._controller=e,this.lastSent={}},getHost:function(){return s.addProtocol(s.stripProtocol(this._options["config.host"],this._options["config.httpSecure"]))},getPlayhead:function(){var e=0;try{e=this.plugin.getPlayhead()}catch(e){r.warn("An error occurred while calling getPlayhead",e)}return s.parseNumber(e,0)},getPlayrate:function(){var e="";try{e=this.plugin.getPlayrate()}catch(e){r.warn("An error occured while calling getPlayrate",e)}return e},getFramesPerSecond:function(){var e="";try{e=this.plugin.getFramesPerSecond()}catch(e){r.warn("An error occured while calling getFramesPerSecond",e)}return e},getDroppedFrames:function(){var e="";try{e=this.plugin.getDroppedFrames(),e||(e=this.getWebkitDroppedFrames())}catch(e){r.warn("An error occured while calling getDroppedFrames",e)}return s.parseNumber(e,0)},getWebkitDroppedFrames:function(){return this.plugin.tag&&this.plugin.tag.webkitDroppedFrameCount?this.plugin.tag.webkitDroppedFrameCount:null},getDuration:function(){var e=this._options["content.duration"];if(null===e)try{e=this.plugin.getDuration()}catch(e){r.warn("An error occured while calling getDuration",e)}return s.parseNumber(Math.round(e),0)},getBitrate:function(){var e=this._options["content.bitrate"];if(null===e){try{e=this.plugin.getBitrate()}catch(e){r.warn("An error occured while calling getBitrate",e)}e&&e!==-1||(e=this.getWebkitBitrate())}return s.parseNumber(e,-1)},getWebkitBitrate:function(){if(this.plugin.tag&&this.plugin.tag.webkitVideoDecodedByteCount){var e=this.plugin.tag.webkitVideoDecodedByteCount;
if(this._lastAdBitrate){var t=this.plugin.tag.webkitVideoDecodedByteCount-this._lastAdBitrate;e=Math.round(t/5*8)}return this._lastAdBitrate=this.plugin.tag.webkitVideoDecodedByteCount,0!==e?e:-1}},getThroughput:function(){var e=this._options["content.throughput"];if(null===e)try{e=this.plugin.getThroughput()}catch(e){r.warn("An error occured while calling getThroughput",e)}return s.parseNumber(e,-1)},getRendition:function(){var e=this._options["content.rendition"];if(null===e)try{e=this.plugin.getRendition()}catch(e){r.warn("An error occured while calling getRendition",e)}return e},getTitle:function(){var e=this._options["content.title"];if(null===e)try{e=this.plugin.getTitle()}catch(e){r.warn("An error occured while calling getTitle",e)}return e},getTitle2:function(){var e=this._options["content.title2"];if(null===e)try{e=this.plugin.getTitle2()}catch(e){r.warn("An error occured while calling getTitle2",e)}return e},getIsLive:function(){var e=this._options["content.isLive"];if(null===e)try{e=this.plugin.getIsLive()}catch(e){r.warn("An error occured while calling getIsLive",e)}return e},getResource:function(){var e=null;return this._controller.resourceTransform.isBlocking()||(e=this._controller.resourceTransform.getResource()),e||this.getOriginalResource()},getOriginalResource:function(){var e=null;if(e=this._options["content.resource"],null===e)try{e=this.plugin.getResource()}catch(t){r.warn("An error occured while calling getResource",t),e=null}return e||"unknown"},getTransactionCode:function(){return this._options["content.transactionCode"]},getMetadata:function(){return this._options["content.metadata"]},getPlayerVersion:function(){var e="";try{e=this.plugin.getPlayerVersion()}catch(e){r.warn("An error occured while calling getPlayerVersion",e)}return e},getPlayerName:function(){var e="";try{e=this.plugin.getPlayerName()}catch(e){r.warn("An error occured while calling getPlayerName",e)}return e},getCdn:function(){var e=null;return this._controller.resourceTransform.isBlocking()||(e=this._controller.resourceTransform.getCdnName()),e||this._options["content.cdn"]},getPluginVersion:function(){var e="";try{e=this.plugin.getVersion()}catch(e){r.warn("An error occured while calling getPluginVersion",e)}return e},getExtraparam1:function(){return this._options["extraparam.1"]},getExtraparam2:function(){return this._options["extraparam.2"]},getExtraparam3:function(){return this._options["extraparam.3"]},getExtraparam4:function(){return this._options["extraparam.4"]},getExtraparam5:function(){return this._options["extraparam.5"]},getExtraparam6:function(){return this._options["extraparam.6"]},getExtraparam7:function(){return this._options["extraparam.7"]},getExtraparam8:function(){return this._options["extraparam.8"]},getExtraparam9:function(){return this._options["extraparam.9"]},getExtraparam10:function(){return this._options["extraparam.10"]},getAdPosition:function(){var e=null;if(this.plugin.adnalyzer)try{e=this.plugin.adnalyzer.getPosition()}catch(e){r.warn("An error occured while calling getAdPosition",e)}return e},getAdPlayhead:function(){var e=null;if(this.plugin.adnalyzer)try{e=this.plugin.adnalyzer.getPlayhead()}catch(e){r.warn("An error occured while calling getAdPlayhead",e)}return s.parseNumber(e,0)},getAdDuration:function(){var e=null;if(this.plugin.adnalyzer)try{e=this.plugin.adnalyzer.getDuration()}catch(e){r.warn("An error occured while calling getAdDuration",e)}return s.parseNumber(e,0)},getAdBitrate:function(){var e=null;if(this.plugin.adnalyzer){try{e=this.plugin.adnalyzer.getBitrate()}catch(e){r.warn("An error occured while calling getAdBitrate",e)}e&&e!==-1||(e=this.getWebkitAdBitrate())}return s.parseNumber(e,-1)},getWebkitAdBitrate:function(){if(this.plugin.tag&&this.plugin.tag.webkitVideoDecodedByteCount){var e=this.plugin.tag.webkitVideoDecodedByteCount;if(this._lastAdBitrate){var t=this.plugin.tag.webkitVideoDecodedByteCount-this._lastAdBitrate;e=Math.round(t/5*8)}return this._lastAdBitrate=this.plugin.tag.webkitVideoDecodedByteCount,0!==e?e:-1}},getAdTitle:function(){var e=null;if(this.plugin.adnalyzer)try{e=this.plugin.adnalyzer.getTitle()}catch(e){r.warn("An error occured while calling getAdTitle",e)}return e},getAdResource:function(){var e=null;if(this.plugin.adnalyzer)try{e=this.plugin.adnalyzer.getResource()}catch(e){r.warn("An error occured while calling getAdResource",e)}return e},getAdPlayerVersion:function(){var e=null;if(this.plugin.adnalyzer)try{e=this.plugin.adnalyzer.getPlayerVersion()}catch(e){r.warn("An error occured while calling getAdPlayerVersion",e)}return e},getAdMetadata:function(){return this._options["ad.metadata"]},getAdnalyzerVersion:function(){var e=null;if(this.plugin.adnalyzer)try{e=this.plugin.adnalyzer.getVersion()}catch(e){r.warn("An error occured while calling getAdnalyzerVersion",e)}return e},getPluginInfo:function(){var e={pluginVersion:this.getPluginVersion(),libVersion:o,adnalyzerVersion:this.getAdnalyzerVersion()};return e},getIp:function(){return this._options["network.ip"]},getIsp:function(){return this._options["network.isp"]},getConnectionType:function(){return this._options["network.connectionType"]},getDeviceCode:function(){return this._options["device.code"]},getAccountCode:function(){return this._options["config.accountCode"]},getUsername:function(){return this._options["config.username"]},getReferer:function(){var e="";return"undefined"!=typeof window&&window.location&&(e=window.location.href),e},getNodeHost:function(){return this._controller.resourceTransform.getNodeHost()},getNodeType:function(){return this._controller.resourceTransform.getNodeType()},getNodeTypeString:function(){return this._controller.resourceTransform.getNodeTypeString()},getJoinDuration:function(){return this.plugin.chronos.join.getDeltaTime(!1)},getBufferDuration:function(){return this.plugin.chronos.buffer.getDeltaTime(!1)},getSeekDuration:function(){return this.plugin.chronos.seek.getDeltaTime(!1)},getPauseDuration:function(){return this.plugin.chronos.pause.getDeltaTime(!1)},getPreloadDuration:function(){return this.plugin.chronos.preload.getDeltaTime(!1)},getAdJoinDuration:function(){return this.plugin.adnalyzer?this.plugin.adnalyzer.chronos.join.getDeltaTime(!1):-1},getAdBufferDuration:function(){return this.plugin.adnalyzer?this.plugin.adnalyzer.chronos.buffer.getDeltaTime(!1):-1},getAdPauseDuration:function(){return this.plugin.adnalyzer?this.plugin.adnalyzer.chronos.pause.getDeltaTime(!1):-1},getTotalAdDuration:function(){return this.plugin.adnalyzer?this.plugin.adnalyzer.chronos.total.getDeltaTime(!1):-1}});t.exports=a},{"../log":32,"../object":33,"../util":47,"../version":48}],31:[function(e,t,n){var i=e("./object"),r=i.extend({on:function(e,t){if(this._listeners=this._listeners||{},"function"==typeof t)return this._listeners[e]=this._listeners[e]||[],this._listeners[e].push(t),this},off:function(e,t){if(this._listeners=this._listeners||{},this._listeners[e]){var n=this._listeners[e].indexOf(t);n!==-1&&this._listeners[e].splice(n,1)}return this},emit:function(e,t){return this._listeners=this._listeners||{},Array.isArray(this._listeners[e])&&this._listeners[e].forEach(this._eachCallback.bind(this,e,t)),Array.isArray(this._listeners["*"])&&this._listeners["*"].forEach(this._eachCallback.bind(this,e,t)),this},_eachCallback:function(e,t,n){"function"==typeof n&&n({type:e,data:t,target:this})}});t.exports=r},{"./object":33}],32:[function(e,t,n){var i=e("./emitter"),r={_emitter:new i,on:function(){r._emitter.on.apply(r._emitter,arguments)},off:function(){r._emitter.off.apply(r._emitter,arguments)},emit:function(){r._emitter.emit.apply(r._emitter,arguments)},Level:{SILENT:6,ERROR:5,WARNING:4,NOTICE:3,DEBUG:2,VERBOSE:1},Event:{LOG:"log"},logLevel:5,plainLogs:!1,report:function(e,t,n){if(console&&console.log){t=t||r.Level.NOTICE,n=n||"darkcyan";var i={5:"e",4:"w",3:"n",2:"d",1:"v"},s=i[t],o="[Youbora]"+r._getCurrentTime()+" "+s+":";if(this.emit("log",{level:t,msg:e,prefix:o}),r.logLevel<=t)if(r.plainLogs||document.documentMode)r._plainReport(e,o);else{var a;a=t===r.Level.ERROR&&console.error?console.error:t===r.Level.WARNING&&console.warn?console.warn:t===r.Level.DEBUG&&console.debug?console.debug:console.log,o="%c"+o,e instanceof Array?(e.splice(0,0,o,"color: "+n),a.apply(console,e)):a.call(console,o,"color: "+n,e)}}},_getCurrentTime:function(){var e=new Date,t=("0"+e.getDate()).slice(-2),n=("0"+e.getMinutes()).slice(-2),i=("0"+e.getSeconds()).slice(-2),r=("00"+e.getMilliseconds()).slice(-3);return"["+t+":"+n+":"+i+"."+r+"]"},_plainReport:function(e,t){if(e instanceof Array)for(var n in e)r._plainReport(e[n],t);else"string"==typeof e?console.log(t+" "+e):(console.log(t+" <next line>"),console.log(e))},error:function(){r.report([].slice.call(arguments),r.Level.ERROR,"darkred")},warn:function(){r.report([].slice.call(arguments),r.Level.WARNING,"darkorange")},notice:function(){r.report([].slice.call(arguments),r.Level.NOTICE,"darkgreen")},debug:function(){r.report([].slice.call(arguments),r.Level.DEBUG,"indigo")},verbose:function(){r.report([].slice.call(arguments),r.Level.VERBOSE,"navy")},loadLevelFromUrl:function(){if("undefined"!=typeof window&&window.location&&window.location.search){var e=/\?.*&*youbora-debug=(.+)/i.exec(window.location.search);null!==e&&(r.logLevel=e[1]);var t=/\?.*&*youbora-debug=plain/i.exec(window.location.search);null!==t&&(r.plainLogs=!0)}}};t.exports=r},{"./emitter":31}],33:[function(e,t,n){var i=function(){};i.prototype={constructor:function(){}},i.extend=function(e,t){var n,i=this;return n=e&&Object.prototype.hasOwnProperty.call(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},Object.assign(n,i,t),n.prototype=Object.create(i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&Object.assign(n.prototype,e),n.__super__=i.prototype,n},t.exports=i},{}],34:[function(e,t,n){var i=e("./object"),r=e("./log"),s=i.extend({constructor:function(e){this["config.enabled"]=!0,this["config.httpSecure"]=null,this["config.host"]="nqs.nice264.com",this["config.accountCode"]="nicetest",this["config.username"]=null,this["parse.HLS"]=!1,this["parse.CDNNameHeader"]="x-cdn-forward",this["parse.CDNNode"]=!1,this["parse.CDNNode.list"]=["Akamai","Cloudfront","Level3","Fastly","Highwinds"],this["network.ip"]=null,this["network.isp"]=null,this["network.connectionType"]=null,this["device.code"]=null,this["content.resource"]=null,this["content.isLive"]=null,this["content.title"]=null,this["content.title2"]=null,this["content.duration"]=null,this["content.transactionCode"]=null,this["content.bitrate"]=null,this["content.throughput"]=null,this["content.rendition"]=null,this["content.cdn"]=null,this["content.metadata"]={},this["ad.metadata"]={},this["extraparam.1"]=null,this["extraparam.2"]=null,this["extraparam.3"]=null,this["extraparam.4"]=null,this["extraparam.5"]=null,this["extraparam.6"]=null,this["extraparam.7"]=null,this["extraparam.8"]=null,this["extraparam.9"]=null,this["extraparam.10"]=null,this.setOptions(e)},setOptions:function(e,t){try{if(t=t||this,"undefined"!=typeof e)for(var n in e)"object"==typeof t[n]&&null!==t[n]?this.setOptions(e[n],t[n]):t[n]=e[n]}catch(e){r.error(e)}}});t.exports=s},{"./log":32,"./object":33}],35:[function(e,t,n){var i=e("../object"),r=e("../chrono"),s=i.extend({constructor:function(){this.reset()},reset:function(){this.preload=new r,this.join=new r,this.seek=new r,this.pause=new r,this.buffer=new r,this.total=new r}});t.exports=s},{"../chrono":26,"../object":33}],36:[function(e,t,n){var i=e("../object"),r=i.extend({constructor:function(){this.reset()},reset:function(){this.isPreloading=!1,this.isInitiated=!1,this.isStarted=!1,this.isJoined=!1,this.isPaused=!1,this.isSeeking=!1,this.isBuffering=!1,this.isHalted=!1}});t.exports=r},{"../object":33}],37:[function(e,t,n){var i=e("../emitter"),r=e("../options"),s=e("../controller/controller"),o=e("../log"),a=e("../version"),u=e("./chronostatus"),l=e("./flagstatus"),c=e("./playheadmonitor"),h=i.extend({constructor:function(e){this.flags=new l,this.chronos=new u,e!==!0&&(this.player=null,this.tag=null,this.adnalyzer=null,this.controller=new s(this,new r(e)),o.notice("Plugin "+this.getVersion()+" with Lib "+a+" is ready."))},beginMonitoring:function(e){"string"==typeof e?this.player=document.getElementById(e):this.player=e,this.tag=this.player,this.resumeMonitoring()},resumeMonitoring:function(){this.controller&&this.flags.isStarted&&this.controller.startPings(),this.registerListeners&&this.registerListeners()},pauseMonitoring:function(){this.controller&&this.flags.isStarted&&this.controller.stopPings(),this.unregisterListeners&&this.unregisterListeners()},endMonitoring:function(){this.pauseMonitoring(),this.player=null,this.tag=null,this.controller&&this.controller.reset()},registerListeners:function(){},unregisterListeners:function(){},getPlayhead:function(){return 0},getPlayrate:function(){return this.flags.isPaused?0:1},getFramesPerSecond:function(){return null},getDroppedFrames:function(){return null},getDuration:function(){return 0},getBitrate:function(){return-1},getThroughput:function(){return-1},getRendition:function(){return""},getTitle:function(){return""},getTitle2:function(){return""},getIsLive:function(){return!1},getResource:function(){return"unknown"},getPlayerVersion:function(){return null},getPlayerName:function(){return null},getVersion:function(){return"6.0.0-Generic"},getPosition:function(){return null},setAdnalyzer:function(e){this.adnalyzer=e,this.controller&&this.controller.setAdnalyzer()},setOptions:function(e){this.controller?this.controller.setOptions(e):o.warn("Tried to call setOptions in a plugin without controller.")},getOptions:function(){return this.controller?this.controller.getOptions():void o.warn("Tried to call getOptions in a plugin without controller.")},createBufferMonitor:function(){this.monitor=new c(this,c.Type.BUFFER)},createSeekMonitor:function(){this.monitor=new c(this,c.Type.SEEK)},createBufferAndSeekMonitor:function(){this.monitor=new c(this,c.Type.SEEK|c.Type.BUFFER)}},{Event:{INIT:"init",START:"start",JOIN:"join",PAUSE:"pause",RESUME:"resume",SEEK_BEGIN:"seek-begin",SEEK_END:"seek-end",BUFFER_BEGIN:"buffer-begin",BUFFER_END:"buffer-end",ERROR:"error",FATAL_ERROR:"fatal-error",STOP:"stop",PRELOAD_BEGIN:"preload-begin",PRELOAD_END:"preload-end",PRE_START:"pre-start",PRE_JOIN:"pre-join",PRE_PAUSE:"pre-pause",PRE_RESUME:"pre-resume",PRE_SEEK_BEGIN:"pre-seek-begin",PRE_SEEK_END:"pre-seek-end",PRE_BUFFER_BEGIN:"pre-buffer-begin",PRE_BUFFER_END:"pre-buffer-end",PRE_ERROR:"pre-error",PRE_FATAL_ERROR:"pre-fatal-error",PRE_STOP:"pre-stop",PRE_PRELOAD_BEGIN:"pre-preload-begin",PRE_PRELOAD_END:"pre-preload-end"}});t.exports=h},{"../controller/controller":29,"../emitter":31,"../log":32,"../options":34,"../version":48,"./chronostatus":35,"./flagstatus":36,"./playheadmonitor":38}],38:[function(e,t,n){var i=e("../object"),r=e("../timer"),s=e("../chrono"),o=i.extend({constructor:function(e,t,n){this._plugin=e,this._seekEnabled=t&o.Type.SEEK,this._bufferEnabled=t&o.Type.BUFFER,this._interval=n||800,this._chrono=new s,this._jumpNextProgress=!1,this._lastPlayhead=0,this._interval>0&&(this._timer=new r(this.progress.bind(this),this._interval)),this._registerListeners()},start:function(){this._timer.start()},stop:function(){this._timer&&this._timer.stop()},_registerListeners:function(){this._plugin.on("resume",this._resumeListener.bind(this))},_resumeListener:function(e){this._jumpNextProgress=!0},progress:function(){if(this._jumpNextProgress)return void(this._jumpNextProgress=!1);var e=this._chrono.stop();this._chrono.start();var t=e*o.kTHRESHOLD_RATIO,n=e/o.kTHRESHOLD_RATIO,i=e*o.kMIN_BUFFER_RATIO,r=this._getPlayhead(),s=1e3*Math.abs(this._lastPlayhead-r);s<n?this._bufferEnabled&&this._lastPlayhead>0&&!this._plugin.flags.isBuffering&&!this._plugin.flags.isPaused&&!this._plugin.flags.isSeeking&&this._plugin.emit("buffer-begin"):s>t?this._seekEnabled&&this._lastPlayhead>0&&!this._plugin.flags.isSeeking&&this._plugin.emit("seek-begin"):this._seekEnabled&&this._plugin.flags.isSeeking?this._plugin.emit("seek-end"):this._bufferEnabled&&this._plugin.flags.isBuffering&&this._plugin.chronos.buffer.getDeltaTime(!1)>i&&this._plugin.emit("buffer-end"),this._lastPlayhead=r},_getPlayhead:function(){return this._plugin.getPlayhead()}},{Type:{NONE:0,BUFFER:1,SEEK:2},kTHRESHOLD_RATIO:2,kMIN_BUFFER_RATIO:1.1});t.exports=o},{"../chrono":26,"../object":33,"../timer":40}],39:[function(e,t,n){var i=function(){Function.prototype.bind=Function.prototype.bind||function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice,n=t.call(arguments,1),i=this,r=function(){},s=function(){return i.apply(this instanceof r?this:e||window,n.concat(t.call(arguments)))};return r.prototype=this.prototype,s.prototype=new r,s},Object.assign=Object.assign||function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t},Object.create=Object.create||function(){var e=function(){};return function(t,n){if(t!==Object(t)&&null!==t)throw TypeError("Argument must be an object, or null");e.prototype=t||{};var i=new e;return e.prototype=null,void 0!==n&&Object.defineProperties(i,n),null===t&&(i.prototype=null),i}}(),Array.prototype.forEach=Array.prototype.forEach||function(e,t){if("function"!=typeof e)throw new TypeError(e+" is not a function!");for(var n=this.length,i=0;i<n;i++)e.call(t,this[i],i,this)},Array.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};t.exports=i},{}],40:[function(e,t,n){var i=e("./object"),r=e("./chrono"),s=i.extend({constructor:function(e,t){this.callback=e,this.interval=t||5e3,this.isRunning=!1,this._timer=null,this.chrono=new r},start:function(){this.isRunning=!0,this._setTick()},stop:function(){this.isRunning=!1,this._timer&&clearTimeout(this._timer)},_setTick:function(){this.chrono.start(),this.timer=setTimeout(function(){this.callback(this.chrono.stop()),this._setTick()}.bind(this),this.interval)}});t.exports=s},{"./chrono":26,"./object":33}],41:[function(e,t,n){var i=e("./transform"),r=e("../log"),s=e("../comm/request"),o=i.extend({constructor:function(e){this._options=Object.assign({cdnName:null,parsers:[],requestHeaders:{},parseType:function(){return 0}},e)},addParser:function(e){return this._options.parsers.push(e),this},setCdnName:function(e){return this._options.cdnName=e,this},setRequestHeader:function(e,t){return this._options.requestHeaders[e]=t,this},setParseType:function(e){return this._options.parseType=e,this},getCdnName:function(){return this._cdnName},getNodeHost:function(){return this._cdnNodeHost},getNodeTypeString:function(){return this._cdnNodeTypeString},getNodeType:function(){return this._cdnNodeType},parse:function(e,t){t=t||{};var n=JSON.stringify(this._options.requestHeaders);t[n]?this._parseResponse(t[n]):this._requestResponse(e,t)},_requestResponse:function(e,t){var n=JSON.stringify(this._options.requestHeaders),i=new s(e,null,null,{method:"HEAD",maxRetries:0,requestHeaders:this._options.requestHeaders});i.on(s.Event.SUCCESS,function(e){t[n]=e.getXHR().getAllResponseHeaders(),this._parseResponse(t[n])}.bind(this)),i.on(s.Event.ERROR,function(e){this.done()}.bind(this)),i.send()},_parseResponse:function(e){this._options.parsers.forEach(function(t){e.split("\n").forEach(function(e){var n=e.indexOf(":");if(n!==-1){var i=e.slice(0,n);i===t.headerName&&this._executeParser(t,e.slice(n+1))}}.bind(this))}.bind(this)),this.done()},_executeParser:function(e,t){try{var n=e.regex.exec(t.trim());if(null!==n)switch(this._options.cdnName&&(this._cdnName=this._options.cdnName),e.element){case"host":this._cdnNodeHost=n[1];break;case"type":this._cdnNodeTypeString=n[1],this._cdnNodeType=this._options.parseType(this._cdnNodeTypeString);break;case"host+type":this._cdnNodeHost=n[1],this._cdnNodeTypeString=n[2],this._cdnNodeType=this._options.parseType(this._cdnNodeTypeString);break;case"type+host":this._cdnNodeTypeString=n[1],this._cdnNodeType=this._options.parseType(this._cdnNodeTypeString),this._cdnNodeHost=n[2];break;case"name":this._cdnName=n[1].toUpperCase()}}catch(e){r.warn("CDN parsing for "+this._options.cdnName+" could not parse header value "+t)}}},{_cdns:{Level3:{cdnName:"LEVEL3",parsers:[{element:"host+type",headerName:"X-WR-DIAG",regex:/Host:(.+)\sType:(.+)/}],requestHeaders:{"X-WR-DIAG":"host"},parseType:function(e){switch(e){case"TCP_HIT":case"TCP_MEM_HIT":case"TCP_IMS_HIT":return 1;case"TCP_MISS":return 2;default:return 0}}},Cloudfront:{cdnName:"CLOUDFRT",parsers:[{element:"host",headerName:"X-Amz-Cf-Id",regex:/(.+)/},{element:"type",headerName:"X-Cache",regex:/(\S+)\s.+/}],parseType:function(e){switch(e){case"Hit":return 1;case"Miss":return 2;default:return 0}}},Akamai:{cdnName:"AKAMAI",parsers:[{element:"type+host",headerName:"X-Cache",regex:/(.+)\sfrom\s.+\(.+\/(.+)\).*/}],parseType:function(e){switch(e){case"TCP_HIT":return 1;case"TCP_MISS":return 2;default:return 0}}},Highwinds:{cdnName:"HIGHNEGR",parsers:[{element:"host+type",headerName:"X-HW",regex:/.+,[0-9]+\.(.+)\.(.+)/}],parseType:function(e){switch(e){case"c":case"x":return 1;default:return 2}}},Fastly:{cdnName:"FASTLY",parsers:[{element:"host",headerName:"X-Served-By",regex:/([^,\s]+)$/},{element:"type",headerName:"X-Cache",regex:/([^,\s]+)$/}],parseType:function(e){switch(e){case"HIT":return 1;case"MISS":return 2;default:return 0}}},Balancer:{parsers:[{element:"name",headerName:null,regex:/(.+)/}]}},setBalancerHeaderName:function(e){o._cdns.Balancer.parsers[0].headerName=e},create:function(e){return o._cdns[e]?new o(o._cdns[e]):void r.warn("Tried to create an unexisting CdnTransform named "+e)},add:function(e,t){o._cdns[e]=t}});t.exports=o},{"../comm/request":28,"../log":32,"./transform":45}],42:[function(e,t,n){var i=e("./transform"),r=e("../comm/request"),s=e("../log"),o=i.extend({constructor:function(){this._realResource=null},parse:function(e,t){t=t||"";try{var n=/((\S*?)(\.m3u8|\.m3u|\.ts|\.mp4)(\?\S*|\n|\r|$))/i.exec(e)}catch(e){s.warn("Parse HLS Regex failed",e),this.done()}if(null!==n){var i=n[1].trim(),o=t.lastIndexOf("/");if(0!==i.indexOf("http")&&o!==-1&&(i=t.slice(0,o)+"/"+i),".m3u8"===n[3]||".m3u"===n[3]){var a=new r(i,null,null,{cache:!0});a.on(r.Event.SUCCESS,function(e){this.parse(e.getXHR().responseText,n[2])}.bind(this)),a.on(r.Event.ERROR,function(e){this.done()}.bind(this)),a.send()}else this._realResource=i,this.done()}else this.done()},getResource:function(){return this._realResource}});t.exports=o},{"../comm/request":28,"../log":32,"./transform":45}],43:[function(e,t,n){var i=e("./transform"),r=i.extend({constructor:function(){this.done()},parse:function(e){switch(this._cloneParam(e,"accountCode","system"),this._cloneParam(e,"transactionCode","transcode"),this._cloneParam(e,"username","user"),this._cloneParam(e,"mediaResource","resource"),this._cloneParam(e,"errorMsg","msg"),"/joinTime"!==e.service&&this._cloneParam(e,"playhead","time"),e.service){case"/start":this._cloneParam(e,"mediaDuration","duration");break;case"/joinTime":this._cloneParam(e,"joinDuration","time"),this._cloneParam(e,"playhead","eventTime");break;case"/seek":this._cloneParam(e,"seekDuration","duration");break;case"/bufferUnderrun":this._cloneParam(e,"bufferDuration","duration");break;case"/ping":for(var t in e.params.entities){e.params.entityType=t,e.params.entityValue=e.params.entities[t];break}}},_cloneParam:function(e,t,n){e.params[n]=e.params[t]}});t.exports=r},{"./transform":45}],44:[function(e,t,n){var i=e("./transform"),r=e("./hls"),s=e("./cdn"),o=e("../log"),a=i.extend({constructor:function(e,t){a.__super__.constructor.apply(this,arguments),this._hlsEnabled=e["parse.HLS"],this._cdnEnabled=e["parse.CDNNode"],this._cdnList=e["parse.CDNNode.list"],this._cdnNameHeader=e["parse.CDNNameHeader"],s.setBalancerHeaderName(this._cdnNameHeader),this._info=t,this._isBusy=!1},getResource:function(){return this._realResource||this._initResource},getCdnName:function(){return this._cdnName},getNodeHost:function(){return this._cdnNodeHost},getNodeTypeString:function(){return this._cdnNodeTypeString},getNodeType:function(){return this._cdnNodeType},init:function(e){this._isBusy||(this._isBusy=!0,this._initResource=e,this._setTimeout(),this._hlsEnabled?this._parseHLS():this._cdnEnabled?this._parseCDN():this.done())},_setTimeout:function(){this._parseTimeout=setTimeout(function(){this._isBusy&&(this.done(),o.warn("ResourceTransform has exceded the maximum execution time (3s) and will be aborted."))}.bind(this),3e3)},_parseHLS:function(){var e=new r;e.on(r.Event.DONE,function(){this._realResource=this._hlsTransform.getResource(),this._cdnEnabled?this._parseCDN():this.done()}.bind(this)),e.parse(this._initResource)},_parseCDN:function(){var e=this._cdnList.slice();e.forEach(function(e){if(!this.getNodeHost()){var t=s.create(e);t.on(s.Event.DONE,function(){this._cdnName=t.getCdnName(),this._cdnNodeHost=t.getNodeHost(),this._cdnNodeTypeString=t.getNodeTypeString(),this._cdnNodeType=t.getNodeType(),this.getNodeHost()&&this.done()}.bind(this)),t.parse(this.getResource())}}.bind(this))},parse:function(e){"/start"===e.service&&(this._info.lastSent.mediaResource=e.params.mediaResource=this.getResource(),this._cdnEnabled&&(this._info.lastSent.cdn=e.params.cdn=e.params.cdn||this.getCdnName(),this._info.lastSent.nodeHost=e.params.nodeHost=this.getNodeHost(),this._info.lastSent.nodeType=e.params.nodeType=this.getNodeType(),e.params.nodeTypeString=this.getNodeTypeString(),this._info.lastSent.nodeTypeString=e.params.nodeTypeString))}});t.exports=a},{"../log":32,"./cdn":41,"./hls":42,"./transform":45}],45:[function(e,t,n){var i=e("../emitter"),r=i.extend({constructor:function(){this._isBusy=!0},parse:function(){},isBlocking:function(e){return this._isBusy},done:function(){this._isBusy=!1,this.emit(r.Event.DONE)}},{Event:{DONE:"done"}});t.exports=r},{"../emitter":31}],46:[function(e,t,n){var i=e("../comm/request"),r=e("./transform"),s=e("../log"),o=e("../util"),a=e("../actionbuilder/data"),u=r.extend({constructor:function(e){u.__super__.constructor.apply(this,arguments),this.response={},this._viewIndex=-1;var t=new a(e).buildRequest();t.host=e.getHost(),this._requestData(t)},_requestData:function(e){e.on(i.Event.SUCCESS,this._receiveData.bind(this)).on(i.Event.ERROR,this._failedData.bind(this)).send(),"nicetest"===e.params.system&&s.error("No accountCode has been set. Please set your accountCode inside plugin's options.")},_receiveData:function(e,t){try{var n=e.getXHR().response,i=JSON.parse(n.slice(n.indexOf("(")+1,n.lastIndexOf(")")));this.response.host=o.addProtocol(i.q.h),this.response.code=i.q.c,this.response.pingTime=i.q.pt,this.done()}catch(e){s.error("Fastdata response is invalid.")}},_failedData:function(e,t){s.error("Fastdata request failed.")},nextView:function(){return this._viewIndex+=1,this.getViewCode()},getViewCode:function(){return this.response.code+"_"+this._viewIndex},parse:function(e){e.host=e.host||this.response.host,e.params.code=e.params.code||this.getViewCode(),"/ping"!==e.service&&"/start"!==e.service||(e.params.pingTime=e.params.pingTime||this.response.pingTime)}});t.exports=u},{"../actionbuilder/data":12,"../comm/request":28,"../log":32,"../util":47,"./transform":45}],47:[function(e,t,n){var i=e("./log"),r={stripProtocol:function(e){try{return e.replace(/^(.*?:\/\/|\/\/)/i,"")}catch(t){return i.warn(t),e}},addProtocol:function(e,t){try{return t===!0?"https://"+e:0===window.location.protocol.indexOf("http")?"//"+e:"http://"+e}catch(e){return i.warn(e),"http://localhost/"}},parseNumber:function(e,t){return!isNaN(e)&&e>=0&&e!==1/0&&null!==e&&"undefined"!=typeof e?e:t},listenAllEvents:function(e,t,n){try{if(i.logLevel<=i.Level.DEBUG){n=n||function(e){i.debug("Event: "+e.type)};var r=["canplay","buffering","waiting","ended","play","playing","pause","resume","error","abort","seek","seeking","seeked","stalled","dispose","loadeddata","loadstart"];t&&(null===t[0]?(t.shift(),r=t):r=r.concat(t));for(var s=0;s<r.length;s++)"function"==typeof e?e.call(window,r[s],n):e.on?e.on(r[s],n):e.addEventListener&&e.addEventListener(r[s],n)}}catch(e){i.error(e)}},buildRenditionString:function(e,t,n){1===arguments.length&&(n=e,e=null,t=null);var i="";return e&&t&&(i=e+"x"+t,n>0&&(i+="@")),n<1?i:(n<1e3?i+=Math.round(n)+"bps":n<1e6?(n=Math.round(n/1e3),i+=n+"Kbps"):(n=Math.round(n/1e4)/100,i+=n+"Mbps"),i||null)}};t.exports=r},{"./log":32}],48:[function(e,t,n){t.exports=e("../package.json").version},{"../package.json":1}],49:[function(e,t,n){var i=r,r={};r.noConflict=function(){return r=i,this},r.VERSION=e("./version"),e("./polyfills")(),r.Object=e("./object"),r.Emitter=e("./emitter"),r.Log=e("./log"),r.Util=e("./util"),r.Chrono=e("./chrono"),r.Timer=e("./timer"),r.Options=e("./options"),r.Request=e("./comm/request"),r.Communication=e("./comm/communication"),r.Transform=e("./transform/transform"),r.ResourceTransform=e("./transform/resource"),r.CdnTransform=e("./transform/cdn"),r.Controller=e("./controller/controller"),r.ChronoStatus=e("./plugin/chronostatus"),r.FlagStatus=e("./plugin/flagstatus"),r.PlayheadMonitor=e("./plugin/playheadmonitor"),r.plugins={Generic:e("./plugin/generic")},r.Log.loadLevelFromUrl(),t.exports=r},{"./chrono":26,"./comm/communication":27,"./comm/request":28,"./controller/controller":29,"./emitter":31,"./log":32,"./object":33,"./options":34,"./plugin/chronostatus":35,"./plugin/flagstatus":36,"./plugin/generic":37,"./plugin/playheadmonitor":38,"./polyfills":39,"./timer":40,"./transform/cdn":41,"./transform/resource":44,"./transform/transform":45,"./util":47,"./version":48}],50:[function(e,t,n){t.exports={name:"youbora-html5-plugin",version:"6.0.0-rc",description:"",main:"src/plugin.js",scripts:{build:"gulp build",version:"npm run build && git add -A",postversion:"git push && git push --tags"},dependencies:{youboralib:"^6.0.0-rc"},devDependencies:{browserify:"^13.1.0",del:"^2.2.2",eslint:"^3.7.1","eslint-config-standard":"^6.2.0","eslint-plugin-node":"^2.1.2","eslint-plugin-promise":"^3.4.0","eslint-plugin-standard":"^2.0.1",gulp:"^3.9.1","gulp-load-plugins":"^1.3.0","gulp-rename":"^1.2.2","gulp-sourcemaps":"^1.6.0","gulp-streamify":"^1.0.2","gulp-uglify":"^2.0.0","gulp-util":"^3.0.7",through2:"^2.0.1","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.1.0",watchify:"^3.7.0"},repository:{type:"git",url:"git+https://github.com/NicePeopleAtWork/Youbora-Html5-JS.git"},author:"Jordi Aguilar",license:"MIT",bugs:{email:"support@nicepeopleatwork.com"},homepage:"https://github.com/NicePeopleAtWork/Youbora-Html5-JS#readme"}},{}],51:[function(e,t,n){var i=e("youboralib"),r=e("../package.json");i.plugins.Html5=i.plugins.Generic.extend({getVersion:function(){return r.version+"-html5"},getPlayhead:function(){return this.player?this.player.currentTime:0},getDuration:function(){return this.player?this.player.duration:0},getResource:function(){return this.player?this.player.currentSrc:"unknown"},getPlayerName:function(){return"html5"},getPlayerVersion:function(){return this.getPlayerName()},registerListeners:function(){i.Util.listenAllEvents(this.player),this.createBufferMonitor(),this.player.addEventListener("play",this.playListener.bind(this)),this.player.addEventListener("timeupdate",this.timeupdateListener.bind(this)),this.player.addEventListener("pause",this.pauseListener.bind(this)),this.player.addEventListener("playing",this.playingListener.bind(this)),this.player.addEventListener("error",this.errorListener.bind(this)),this.player.addEventListener("seeking",this.seekingListener.bind(this)),this.player.addEventListener("ended",this.endedListener.bind(this))},unregisterListeners:function(){this.monitor.stop(),this.player.removeEventListener("play",this.onPlay),this.player.removeEventListener("timeupdate",this.onTimeupdate),this.player.removeEventListener("pause",this.onPause),
this.player.removeEventListener("playing",this.onPlaying),this.player.removeEventListener("error",this.onError),this.player.removeEventListener("seeking",this.onSeeking),this.player.removeEventListener("ended",this.onEnded)},playListener:function(e){this.emit("start")},timeupdateListener:function(e){this.getPlayhead()>.1&&this.emit("join")},pauseListener:function(e){this.emit("pause")},playingListener:function(e){this.emit("resume"),this.emit("seek-end")},errorListener:function(e){this.emit("error",{msg:"PLAY_FAILURE"})},seekingListener:function(e){this.emit("seek-begin")},endedListener:function(e){this.emit("stop")}}),t.exports=i},{"../package.json":50,youboralib:49}]},{},[51])(51)});
//# sourceMappingURL=sp.min.js.map
