{"version":3,"sources":["node_modules/youboralib/package.json","node_modules/youboralib/src/actionbuilder/actionbuilder.js","node_modules/youboralib/src/actionbuilder/adbufferbegin.js","node_modules/youboralib/src/actionbuilder/adbufferend.js","node_modules/youboralib/src/actionbuilder/adjoin.js","node_modules/youboralib/src/actionbuilder/adpause.js","node_modules/youboralib/src/actionbuilder/adresume.js","node_modules/youboralib/src/actionbuilder/adstart.js","node_modules/youboralib/src/actionbuilder/adstop.js","node_modules/youboralib/src/actionbuilder/bufferbegin.js","node_modules/youboralib/src/actionbuilder/bufferend.js","node_modules/youboralib/src/actionbuilder/data.js","node_modules/youboralib/src/actionbuilder/error.js","node_modules/youboralib/src/actionbuilder/fatalerror.js","node_modules/youboralib/src/actionbuilder/init.js","node_modules/youboralib/src/actionbuilder/join.js","node_modules/youboralib/src/actionbuilder/pause.js","node_modules/youboralib/src/actionbuilder/ping.js","node_modules/youboralib/src/actionbuilder/preloadbegin.js","node_modules/youboralib/src/actionbuilder/preloadend.js","node_modules/youboralib/src/actionbuilder/resume.js","node_modules/youboralib/src/actionbuilder/seekbegin.js","node_modules/youboralib/src/actionbuilder/seekend.js","node_modules/youboralib/src/actionbuilder/start.js","node_modules/youboralib/src/actionbuilder/stop.js","node_modules/youboralib/src/chrono.js","node_modules/youboralib/src/comm/communication.js","node_modules/youboralib/src/comm/request.js","node_modules/youboralib/src/controller/controller.js","node_modules/youboralib/src/controller/infogatherer.js","node_modules/youboralib/src/emitter.js","node_modules/youboralib/src/log.js","node_modules/youboralib/src/object.js","node_modules/youboralib/src/options.js","node_modules/youboralib/src/plugin/chronostatus.js","node_modules/youboralib/src/plugin/flagstatus.js","node_modules/youboralib/src/plugin/generic.js","node_modules/youboralib/src/plugin/playheadmonitor.js","node_modules/youboralib/src/polyfills.js","node_modules/youboralib/src/timer.js","node_modules/youboralib/src/transform/cdn.js","node_modules/youboralib/src/transform/hls.js","node_modules/youboralib/src/transform/nqs6.js","node_modules/youboralib/src/transform/resource.js","node_modules/youboralib/src/transform/transform.js","node_modules/youboralib/src/transform/view.js","node_modules/youboralib/src/util.js","node_modules/youboralib/src/youboralib.js","package.json","src/plugin.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","youbora","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","_args","raw","scope","escapedName","name","rawSpec","spec","type","_from","_id","_inCache","_location","_phantomChildren","_requested","_requiredBy","_resolved","_shasum","_shrinkwrap","_spec","_where","author","bugs","email","dependencies","description","devDependencies","browserify","codecov","del","eslint","eslint-config-standard","eslint-plugin-node","eslint-plugin-promise","eslint-plugin-standard","gulp","gulp-load-plugins","gulp-rename","gulp-sourcemaps","gulp-streamify","gulp-uglify","gulp-util","istanbul","jasmine","mock-browser","through2","vinyl-buffer","vinyl-source-stream","watchify","gitHead","homepage","license","main","optionalDependencies","readme","readmeFilename","repository","url","scripts","build","postversion","pretest","test","version","2","YouboraObject","Log","YBRequest","FlagStatus","ChronoStatus","ActionBuilder","extend","constructor","infomanager","_info","_monitor","plugin","monitor","_flags","flags","_chronos","chronos","adnalyzer","_adFlags","_adChronos","_adMonitor","getIsAllowed","setChronosAndFlags","getServiceName","getParams","notice","req","buildRequest","params","request","service","_buildParams","paramList","forEach","param","getterName","Param","lastSent","warn","bind","_buildParamsIfDifferent","value","playhead","playrate","fps","droppedFrames","mediaDuration","bitrate","throughput","rendition","title","title2","live","mediaResource","transactionCode","properties","playerVersion","player","cdn","pluginVersion","param1","param2","param3","param4","param5","param6","param7","param8","param9","param10","adPosition","adPlayhead","adDuration","adBitrate","adTitle","adResource","adPlayerVersion","adProperties","adnalyzerVersion","pluginInfo","isp","connectionType","ip","deviceCode","system","accountCode","username","joinDuration","bufferDuration","seekDuration","pauseDuration","adJoinDuration","adBufferDuration","totalAdDuration","preloadDuration","adPauseDuration","referer","nodeHost","nodeType","nodeTypeString","../comm/request","../log","../object","../plugin/chronostatus","../plugin/flagstatus","3","AdBufferBeginActionBuilder","isHalted","isJoined","isBuffering","buffer","start","./actionbuilder","4","AdBufferEndActionBuilder","stop","adNumber","5","AdJoinActionBuilder","isStarted","join","6","AdPauseActionBuilder","isPaused","pause","7","AdResumeActionBuilder","8","AdStartActionBuilder","total","_getAdNumber","getAdPosition","9","AdStopActionBuilder","chrono","reset","10","BufferBeginActionBuilder","data","convertFromSeek","isSeeking","startTime","seek","lastTime","11","BufferEndActionBuilder","12","DataActionBuilder","apiVersion","outputformat","13","StartActionBuilder","ErrorActionBuilder","errorMsg","./start","14","FatalErrorActionBuilder","prototype","apply","errorLevel","./error","15","InitActionBuilder","isInitiated","16","JoinActionBuilder","17","PauseActionBuilder","18","PingActionBuilder","verbose","isAdBuffering","entities","_getChangedEntities","19","PreloadBeginActionBuilder","isPreloading","preload","20","PreloadEndActionBuilder","21","ResumeActionBuilder","22","SeekBeginActionBuilder","convertFromBuffer","23","SeekEndActionBuilder","24","25","StopActionBuilder","26","Chrono","stopTime","offset","getDeltaTime","now","Date","getTime","./object","27","Transform","Communication","transforms","_requests","sendRequest","callback","on","Event","SUCCESS","_registerRequest","host","addTransform","transform","parse","isBlocking","push","DONE","_processRequests","removeTransform","pos","indexOf","splice","workingQueue","rejected","shift","_transform","send","ret","../transform/transform","./request","28","options","xhr","createXHR","Object","assign","method","requestHeaders","maxRetries","retryAfter","cache","retries","setParam","XMLHttpRequest","ActiveXObject","err","error","getXHR","getUrl","getParamString","event","addEventListener","off","removeEventListener","key","encodeURIComponent","JSON","stringify","slice","getParam","open","hasOwnProperty","setRequestHeader","genericError","setTimeout","ERROR","logLevel","Level","VERBOSE","_globalListeners","LOAD","ABORT","onEvery","offEvery","index","29","Timer","InfoGatherer","ViewTransform","Nqs6Transform","ResourceTransform","YouboraController","map","_init","_registerListeners","setOptions","getOptions","_ping","_sendPing","viewTransform","interval","target","response","pingTime","resourceTransform","stopPings","_initComm","init","getResource","_comm","startPings","isRunning","_initListener","_startListener","_joinListener","_pauseListener","_resumeListener","_seekBeginListener","_seekEndListener","_bufferBeginListener","_bufferEndListener","_errorListener","_fatalErrorListener","_stopListener","_preloadBeginListener","_preloadEndListener","setAdnalyzer","_registerAdnalyzerListeners","_adStartListener","_adJoinListener","_adPauseListener","_adResumeListener","_adBufferBeginListener","_adBufferEndListener","_adStopListener","_sendRequest","emit","_executeBuilder","builder","nextView","diffTime","../actionbuilder/adbufferbegin","../actionbuilder/adbufferend","../actionbuilder/adjoin","../actionbuilder/adpause","../actionbuilder/adresume","../actionbuilder/adstart","../actionbuilder/adstop","../actionbuilder/bufferbegin","../actionbuilder/bufferend","../actionbuilder/error","../actionbuilder/fatalerror","../actionbuilder/init","../actionbuilder/join","../actionbuilder/pause","../actionbuilder/ping","../actionbuilder/preloadbegin","../actionbuilder/preloadend","../actionbuilder/resume","../actionbuilder/seekbegin","../actionbuilder/seekend","../actionbuilder/start","../actionbuilder/stop","../comm/communication","../timer","../transform/nqs6","../transform/resource","../transform/view","./infogatherer","30","Util","controller","_options","_controller","getHost","addProtocol","stripProtocol","getPlayhead","parseNumber","getPlayrate","getFramesPerSecond","getDroppedFrames","getWebkitDroppedFrames","tag","webkitDroppedFrameCount","getDuration","Math","round","getBitrate","getWebkitBitrate","webkitVideoDecodedByteCount","_lastAdBitrate","delta","getThroughput","getRendition","getTitle","getTitle2","getIsLive","getOriginalResource","getTransactionCode","getMetadata","getPlayerVersion","getPlayerName","getCdn","getCdnName","getPluginVersion","getVersion","getExtraparam1","getExtraparam2","getExtraparam3","getExtraparam4","getExtraparam5","getExtraparam6","getExtraparam7","getExtraparam8","getExtraparam9","getExtraparam10","getPosition","getAdPlayhead","getAdDuration","getAdBitrate","getWebkitAdBitrate","getAdTitle","getAdResource","getAdPlayerVersion","getAdMetadata","getAdnalyzerVersion","getPluginInfo","libVersion","getIp","getIsp","getConnectionType","getDeviceCode","getAccountCode","getUsername","getReferer","location","href","getNodeHost","getNodeType","getNodeTypeString","getJoinDuration","getBufferDuration","getSeekDuration","getPauseDuration","getPreloadDuration","getAdJoinDuration","getAdBufferDuration","getAdPauseDuration","getTotalAdDuration","../util","../version","31","Emitter","_listeners","Array","isArray","_eachCallback","32","_emitter","arguments","SILENT","WARNING","NOTICE","DEBUG","LOG","plainLogs","report","msg","level","color","console","log","letters","letter","prefix","_getCurrentTime","document","documentMode","_plainReport","logMethod","debug","d","hh","getDate","mm","getMinutes","ss","getSeconds","mmm","getMilliseconds","m","loadLevelFromUrl","search","exec","m2","./emitter","33","protoProps","staticProps","NewClass","parent","create","enumerable","writable","configurable","34","Options","base","./log","35","../chrono","36","37","Controller","PlayheadMonitor","GenericPlugin","beginMonitoring","getElementById","resumeMonitoring","registerListeners","pauseMonitoring","unregisterListeners","endMonitoring","createBufferMonitor","Type","BUFFER","createSeekMonitor","SEEK","createBufferAndSeekMonitor","INIT","START","JOIN","PAUSE","RESUME","SEEK_BEGIN","SEEK_END","BUFFER_BEGIN","BUFFER_END","FATAL_ERROR","STOP","PRELOAD_BEGIN","PRELOAD_END","PRE_START","PRE_JOIN","PRE_PAUSE","PRE_RESUME","PRE_SEEK_BEGIN","PRE_SEEK_END","PRE_BUFFER_BEGIN","PRE_BUFFER_END","PRE_ERROR","PRE_FATAL_ERROR","PRE_STOP","PRE_PRELOAD_BEGIN","../controller/controller","../emitter","../options","./chronostatus","./flagstatus","./playheadmonitor","38","_plugin","_seekEnabled","_bufferEnabled","_interval","_chrono","_jumpNextProgress","_lastPlayhead","_timer","progress","deltaTime","seekThreshold","kTHRESHOLD_RATIO","bufferThreshold","minBuffer","kMIN_BUFFER_RATIO","currentPlayhead","_getPlayhead","diffPlayhead","abs","NONE","39","applyPolyfills","Function","b","TypeError","C","concat","undefined","output","source","nextKey","Temp","propertiesObject","result","defineProperties","thisArg","len","toString","obj","40","_setTick","clearTimeout","timer","./chrono","41","CdnTransform","cdnName","parsers","parseType","addParser","parser","setCdnName","setParseType","_cdnName","_cdnNodeHost","_cdnNodeTypeString","_cdnNodeType","responses","headerString","_parseResponse","_requestResponse","resp","getAllResponseHeaders","done","headers","split","line","headerName","_executeParser","matches","regex","trim","element","toUpperCase","_cdns","Level3","X-WR-DIAG","Cloudfront","Akamai","Highwinds","Fastly","Balancer","setBalancerHeaderName","add","./transform","42","HlsTransform","_realResource","resource","parentResource","res","lastIndexOf","responseText","43","_cloneParam","entityType","entityValue","to","from","44","info","__super__","_hlsEnabled","_cdnEnabled","_cdnList","_cdnNameHeader","_isBusy","_initResource","_setTimeout","_parseHLS","_parseCDN","_parseTimeout","hlsTransform","_hlsTransform","cdnList","cdnTransform","./cdn","./hls","45","46","_viewIndex","_requestData","_receiveData","_failedData","q","h","c","pt","getViewCode","../actionbuilder/data","47","replace","httpSecure","protocol","def","isNaN","Infinity","listenAllEvents","extraEvents","playerEvents","buildRenditionString","width","height","48","../package.json","49","previousYoubora","noConflict","VERSION","Request","plugins","Generic","./comm/communication","./comm/request","./controller/controller","./options","./plugin/chronostatus","./plugin/flagstatus","./plugin/generic","./plugin/playheadmonitor","./polyfills","./timer","./transform/cdn","./transform/resource","./transform/transform","./util","./version","50","youboralib","51","pkg","Html5","currentTime","duration","currentSrc","playListener","timeupdateListener","pauseListener","playingListener","errorListener","seekingListener","endedListener","onPlay","onTimeupdate","onPause","onPlaying","onError","onSeeking","onEnded"],"mappings":"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","file":"sp.min.js","sourcesContent":["module.exports={\n  \"_args\": [\n    [\n      {\n        \"raw\": \"youboralib@../../youboralib/\",\n        \"scope\": null,\n        \"escapedName\": \"youboralib\",\n        \"name\": \"youboralib\",\n        \"rawSpec\": \"../../youboralib/\",\n        \"spec\": \"/home/jaguilar/workspace/youboralib6/youboralib\",\n        \"type\": \"directory\"\n      },\n      \"/home/jaguilar/workspace/youboralib6/plugins/html5\"\n    ]\n  ],\n  \"_from\": \"../../youboralib\",\n  \"_id\": \"youboralib@6.0.0-beta.13\",\n  \"_inCache\": true,\n  \"_location\": \"/youboralib\",\n  \"_phantomChildren\": {},\n  \"_requested\": {\n    \"raw\": \"youboralib@../../youboralib/\",\n    \"scope\": null,\n    \"escapedName\": \"youboralib\",\n    \"name\": \"youboralib\",\n    \"rawSpec\": \"../../youboralib/\",\n    \"spec\": \"/home/jaguilar/workspace/youboralib6/youboralib\",\n    \"type\": \"directory\"\n  },\n  \"_requiredBy\": [\n    \"#USER\",\n    \"/\"\n  ],\n  \"_resolved\": \"file:../../youboralib\",\n  \"_shasum\": \"7835db336125a5ac98ed827ebae566c06ee0c5bc\",\n  \"_shrinkwrap\": null,\n  \"_spec\": \"youboralib@../../youboralib/\",\n  \"_where\": \"/home/jaguilar/workspace/youboralib6/plugins/html5\",\n  \"author\": {\n    \"name\": \"Jordi Aguilar\"\n  },\n  \"bugs\": {\n    \"email\": \"project@hostname.com\"\n  },\n  \"dependencies\": {},\n  \"description\": \"[![js-standard-style](https://img.shields.io/badge/code%20style-standard-brightgreen.svg)](http://standardjs.com) [![Build Status](https://travis-ci.org/NicePeopleAtWork/Youbora-YouboraLib-JS.svg)](https://travis-ci.org/NicePeopleAtWork/Youbora-YouboraLib-JS) [![codecov](https://codecov.io/gh/NicePeopleAtWork/Youbora-YouboraLib-JS/branch/master/graph/badge.svg)](https://codecov.io/gh/NicePeopleAtWork/Youbora-YouboraLib-JS)\",\n  \"devDependencies\": {\n    \"browserify\": \"^13.1.0\",\n    \"codecov\": \"^1.0.1\",\n    \"del\": \"^2.2.2\",\n    \"eslint\": \"^3.7.1\",\n    \"eslint-config-standard\": \"^6.2.0\",\n    \"eslint-plugin-node\": \"^2.1.2\",\n    \"eslint-plugin-promise\": \"^3.4.0\",\n    \"eslint-plugin-standard\": \"^2.0.1\",\n    \"gulp\": \"^3.9.1\",\n    \"gulp-load-plugins\": \"^1.3.0\",\n    \"gulp-rename\": \"^1.2.2\",\n    \"gulp-sourcemaps\": \"^1.6.0\",\n    \"gulp-streamify\": \"^1.0.2\",\n    \"gulp-uglify\": \"^2.0.0\",\n    \"gulp-util\": \"^3.0.7\",\n    \"istanbul\": \"^0.4.5\",\n    \"jasmine\": \"^2.5.2\",\n    \"mock-browser\": \"^0.92.12\",\n    \"through2\": \"^2.0.1\",\n    \"vinyl-buffer\": \"^1.0.0\",\n    \"vinyl-source-stream\": \"^1.1.0\",\n    \"watchify\": \"^3.7.0\"\n  },\n  \"gitHead\": \"757dd88985b0735b183d333e4ed95ac09d784d1b\",\n  \"homepage\": \"https://github.com/NicePeopleAtWork/Youbora-YouboraLib-JS#readme\",\n  \"license\": \"MIT\",\n  \"main\": \"src/youboralib.js\",\n  \"name\": \"youboralib\",\n  \"optionalDependencies\": {},\n  \"readme\": \"# Youbora-YouboraLib-JS\\n[![js-standard-style](https://img.shields.io/badge/code%20style-standard-brightgreen.svg)](http://standardjs.com)\\n[![Build Status](https://travis-ci.org/NicePeopleAtWork/Youbora-YouboraLib-JS.svg)](https://travis-ci.org/NicePeopleAtWork/Youbora-YouboraLib-JS)\\n[![codecov](https://codecov.io/gh/NicePeopleAtWork/Youbora-YouboraLib-JS/branch/master/graph/badge.svg)](https://codecov.io/gh/NicePeopleAtWork/Youbora-YouboraLib-JS)\\n\\n\\n## Folder Structure\\n\\n```\\n/\\n├── dist/  Built & Minified files ready to include and run\\n├── gulp/  Build scripts\\n├── spec/  Jasmine tests\\n└── src/   Sourcecode of the project\\n```\\n\\n## Documentation\\nPlease refer to [Developer Portal](http://developer.nicepeopleatwork.com).\\n\\n## Installation\\n\\n\\n### Using NPM\\n\\nIf you want to use NPM to wrap youbora inside your project, use this command:\\n\\n```\\nnpm install --save Youboralib\\n```\\n\\nAnd then, inside your code:\\n\\n```js\\nvar youbora = require('youboralib')\\n```\\n\\n\\n### Using CDN\\n\\nIf you want to include our hosted file, please refer [here](http://developer.nicepeopleatwork.com/plugins/integration/release/javascript-lib-releases/).\\n\\n\\n## I need help!\\nIf you find a bug, have a suggestion or need assistance send an E-mail to <support@nicepeopleatwork.com>\\n\\n\\n## Contribute\\nFork the repo and run the following command:\\n\\n```\\nnpm install\\nnpm run build\\n```\\n\\nThis will install and execute gulp build. Develop your changes and open a pull-request.\\n\\n### Publishing changes\\nOnce a change is done (or a pull request merged) NPAW will run this scripts:\\n\\nRun the following script to update the version & tag this repo.\\n\\n`npm version NEW_VERSION`\\n\\nThen run this to publish it to npm (version must be unique).\\n\\n`npm publish`\",\n  \"readmeFilename\": \"README.md\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git+https://github.com/NicePeopleAtWork/Youbora-YouboraLib-JS.git\"\n  },\n  \"scripts\": {\n    \"build\": \"gulp build\",\n    \"postversion\": \"git push && git push --tags\",\n    \"pretest\": \"npm run build\",\n    \"preversion\": \"npm test\",\n    \"test\": \"istanbul cover --include-all-sources --root src ./node_modules/jasmine/bin/jasmine.js\",\n    \"version\": \"npm run build && git add -A\"\n  },\n  \"version\": \"6.0.0-beta.13\"\n}\n","var YouboraObject = require('../object')\nvar Log = require('../log')\nvar YBRequest = require('../comm/request')\nvar FlagStatus = require('../plugin/flagstatus')\nvar ChronoStatus = require('../plugin/chronostatus')\n\nvar ActionBuilder = YouboraObject.extend(\n  /** @lends ActionBuilder.prototype */\n  {\n    /**\n     * This class will build params associated with each event: /start, /joinTime...\n     *\n     * @constructs ActionBuilder\n     * @extends YouboraObject\n     * @memberof youbora\n     * @abstract\n     *\n     * @param {InfoManager} gatherer An InfoManager instance\n     */\n    constructor: function (infomanager) {\n      this._info = infomanager\n\n      this._monitor = infomanager.plugin.monitor\n      this._flags = infomanager.plugin.flags\n      this._chronos = infomanager.plugin.chronos\n\n      if (infomanager.plugin.adnalyzer) {\n        this._adFlags = infomanager.plugin.adnalyzer.flags\n        this._adChronos = infomanager.plugin.adnalyzer.chronos\n        this._adMonitor = infomanager.plugin.adnalyzer._adMonitor\n      } else {\n        this._adFlags = new FlagStatus()\n        this._adChronos = new ChronoStatus()\n      }\n    },\n\n    /**\n     * Override this method to check the associated flags. ie: return this._info.getIsStartSent()\n     */\n    getIsAllowed: function () {\n      return true\n    },\n\n    /**\n     * Override this method to update chronos and flags as needed.\n     * ie: this._info.plugin.chronos.joinDuration.start()\n     *\n     * @returns {boolean}\n     */\n    setChronosAndFlags: function () {},\n\n    /**\n     * Override this method to return the service name. ie: /start, /joinTime...\n     *\n     * @returns {string}\n     */\n    getServiceName: function () {\n      return '/'\n    },\n\n    /**\n     * Override this method to return the params needed for the request.\n     *\n     * @returns {object}\n     */\n    getParams: function () {\n      return {}\n    },\n\n    /**\n     * Notices when the request is succesfully generated. Override this for custom logs\n     *\n     * @param {object} params Object of params created.\n     */\n    notice: function (req) {\n      Log.notice(this.getServiceName())\n    },\n\n    /**\n     * Returns a request ready to be enqueued using {@link Communication#sendRequest}\n     *\n     * @param {object} [params] Params to be sent to getParams function.\n     * @return {YBRequest}\n     */\n    buildRequest: function (params) {\n      var request = null\n\n      if (this.getIsAllowed()) {\n        this.setChronosAndFlags()\n\n        params = this.getParams(params)\n        var service = this.getServiceName()\n\n        request = new YBRequest(null, service, params)\n\n        this.notice(params)\n      }\n\n      return request\n    },\n\n    /**\n     * Adds to params all the entities specified in paramList, unless they are already set.\n     *\n     * @private\n     * @param {Object} params Object of params key:value.\n     * @param {Array[string]} paramList A list of params to fetch.\n     */\n    _buildParams: function (params, paramList) {\n      params = params || {}\n      paramList.forEach(function (param) {\n        if (params[param]) { return }\n        var getterName = ActionBuilder.Param[param]\n\n        if (this._info[getterName]) {\n          params[param] = this._info[getterName]()\n          this._info.lastSent[param] = params[param]\n        } else {\n          Log.warn('Trying to call undefined getter ' + param + ':' + getterName)\n        }\n      }.bind(this))\n      return params\n    },\n\n    /**\n     * Similar to _buildParams but only adds params if they have changed.\n     *\n     * @private\n     * @param {Object} params Object of params key:value.\n     * @param {Array[string]} paramList A list of params to fetch.\n     */\n    _buildParamsIfDifferent: function (params, paramList) {\n      params = params || {}\n      paramList.forEach(function (param) {\n        if (params[param]) { return }\n        var getterName = ActionBuilder.Param[param]\n\n        if (this._info[getterName]) {\n          var value = this._info[getterName]()\n          if (this._info.lastSent[param] !== value && value) {\n            params[param] = value\n            this._info.lastSent[param] = value\n          }\n        } else {\n          Log.warn('Trying to call undefined getter ' + param + ':' + getterName)\n        }\n      }.bind(this))\n      return params\n    }\n  }, {\n    // Static Members\n    /** List of params and its related getter */\n    Param: {\n      playhead: 'getPlayhead',\n      playrate: 'getPlayrate',\n      fps: 'getFramesPerSecond',\n      droppedFrames: 'getDroppedFrames',\n      mediaDuration: 'getDuration',\n      bitrate: 'getBitrate',\n      throughput: 'getThroughput',\n      rendition: 'getRendition',\n      title: 'getTitle',\n      title2: 'getTitle2',\n      live: 'getIsLive',\n      mediaResource: 'getResource',\n      transactionCode: 'getTransactionCode',\n      properties: 'getMetadata',\n      playerVersion: 'getPlayerVersion',\n      player: 'getPlayerName',\n      cdn: 'getCdn',\n      pluginVersion: 'getPluginVersion',\n\n      param1: 'getExtraparam1',\n      param2: 'getExtraparam2',\n      param3: 'getExtraparam3',\n      param4: 'getExtraparam4',\n      param5: 'getExtraparam5',\n      param6: 'getExtraparam6',\n      param7: 'getExtraparam7',\n      param8: 'getExtraparam8',\n      param9: 'getExtraparam9',\n      param10: 'getExtraparam10',\n\n      adPosition: 'getAdPosition',\n      adPlayhead: 'getAdPlayhead',\n      adDuration: 'getAdDuration',\n      adBitrate: 'getAdBitrate',\n      adTitle: 'getAdTitle',\n      adResource: 'getAdResource',\n      adPlayerVersion: 'getAdPlayerVersion',\n      adProperties: 'getAdMetadata',\n      adnalyzerVersion: 'getAdnalyzerVersion',\n\n      pluginInfo: 'getPluginInfo',\n\n      isp: 'getIsp',\n      connectionType: 'getConnectionType',\n      ip: 'getIp',\n\n      deviceCode: 'getDeviceCode',\n\n      system: 'getAccountCode',\n      accountCode: 'getAccountCode',\n      username: 'getUsername',\n\n      joinDuration: 'getJoinDuration',\n      bufferDuration: 'getBufferDuration',\n      seekDuration: 'getSeekDuration',\n      pauseDuration: 'getPauseDuration',\n\n      adJoinDuration: 'getAdJoinDuration',\n      adBufferDuration: 'getAdBufferDuration',\n      totalAdDuration: 'getTotalAdDuration',\n      preloadDuration: 'getPreloadDuration',\n      adPauseDuration: 'getAdPauseDuration',\n\n      referer: 'getReferer',\n\n      nodeHost: 'getNodeHost',\n      nodeType: 'getNodeType',\n      nodeTypeString: 'getNodeTypeString'\n    }\n\n  }\n)\n\nmodule.exports = ActionBuilder\n","var ActionBuilder = require('./actionbuilder')\n\n/**\n * This class will build request, manipulate flags and chronos for the associated event.\n *\n * @constructs AdBufferBeginActionBuilder\n * @extends ActionBuilder\n * @memberof youbora\n * @abstract\n */\nvar AdBufferBeginActionBuilder = ActionBuilder.extend(\n  /** @lends AdBufferBeginActionBuilder.prototype */\n  {\n    /**\n     * Check the associated flags. ie: return this._info.getIsAdBufferBeginSent()\n     *\n     * @returns {boolean}\n     */\n    getIsAllowed: function () {\n      return !this._flags.isHalted &&\n        this._adFlags.isJoined &&\n        !this._adFlags.isBuffering\n    },\n\n    /**\n     *update chronos and flags as needed.\n     * ie: this._info.plugin.chronos.total.start()\n     */\n    setChronosAndFlags: function () {\n      this._adFlags.isBuffering = true\n\n      this._adChronos.buffer.start()\n    },\n\n    /**\n     * Return the service name\n     *\n     * @returns {string}\n     */\n    getServiceName: function () {\n      return '/adBuffer-begin'\n    }\n  }\n)\n\nmodule.exports = AdBufferBeginActionBuilder\n","var ActionBuilder = require('./actionbuilder')\nvar Log = require('../log')\n\n/**\n * This class will build request, manipulate flags and chronos for the associated event.\n *\n * @constructs AdBufferEndActionBuilder\n * @extends ActionBuilder\n * @memberof youbora\n * @abstract\n */\nvar AdBufferEndActionBuilder = ActionBuilder.extend(\n  /** @lends AdBufferEndActionBuilder.prototype */\n  {\n\n    /**\n     * Check the associated flags. ie: return this._info.getIsAdBufferEndSent()\n     *\n     * @returns {boolean}\n     */\n    getIsAllowed: function () {\n      return !this._flags.isHalted &&\n        this._adFlags.isJoined &&\n        this._adFlags.isBuffering\n    },\n\n    /**\n     *update chronos and flags as needed.\n     * ie: this._info.plugin.chronos.total.start()\n     */\n    setChronosAndFlags: function () {\n      this._adFlags.isBuffering = false\n\n      this._adChronos.buffer.stop()\n    },\n\n    /**\n     * Return the service name\n     *\n     * @returns {string}\n     */\n    getServiceName: function () {\n      return '/adBufferUnderrun'\n    },\n\n    /**\n     * Logs successful request.\n     *\n     * @param {object} params Object of params created.\n     */\n    notice: function (params) {\n      Log.notice(this.getServiceName() + ' ' + params.adBufferDuration + 'ms')\n    },\n\n    /**\n     * Return the params needed for the request.\n     *\n     * @returns {object}\n     */\n    getParams: function (params) {\n      params = this._buildParams(params, ['adBufferDuration', 'adPlayhead', 'adPosition'])\n      params.adNumber = this._info.lastSent.adNumber\n      return params\n    }\n  }\n)\n\nmodule.exports = AdBufferEndActionBuilder\n","var ActionBuilder = require('./actionbuilder')\nvar Log = require('../log')\n\n/**\n * This class will build request, manipulate flags and chronos for the associated event.\n *\n * @constructs AdJoinActionBuilder\n * @extends ActionBuilder\n * @memberof youbora\n * @abstract\n */\nvar AdJoinActionBuilder = ActionBuilder.extend(\n  /** @lends AdJoinActionBuilder.prototype */\n  {\n\n    /**\n     * Check the associated flags. ie: return this._info.getIsAdJoinSent()\n     *\n     * @returns {boolean}\n     */\n    getIsAllowed: function () {\n      return !this._flags.isHalted &&\n        this._adFlags.isStarted &&\n        !this._adFlags.isJoined\n    },\n\n    /**\n     *update chronos and flags as needed.\n     * ie: this._info.plugin.chronos.total.start()\n     */\n    setChronosAndFlags: function () {\n      this._adFlags.isJoined = true\n\n      this._adChronos.join.stop()\n    },\n\n    /**\n     * Return the service name\n     *\n     * @returns {string}\n     */\n    getServiceName: function () {\n      return '/adJoin'\n    },\n\n    /**\n     * Logs successful request.\n     *\n     * @param {object} params Object of params created.\n     */\n    notice: function (params) {\n      Log.notice(this.getServiceName() + ' ' + params.joinDuration + 'ms')\n    },\n\n    /**\n     * Return the params needed for the request.\n     *\n     * @returns {object}\n     */\n    getParams: function (params) {\n      params = this._buildParams(params, ['joinAdDuration', 'adPlayhead'])\n      params = this._buildParamsIfDifferent(params, [\n        'adTitle',\n        'adDuration',\n        'adResource'\n      ])\n      params.adNumber = this._info.lastSent.adNumber\n      return params\n    }\n  }\n)\n\nmodule.exports = AdJoinActionBuilder\n","var ActionBuilder = require('./actionbuilder')\nvar Log = require('../log')\n\n/**\n * This class will build request, manipulate flags and chronos for the associated event.\n *\n * @constructs AdPauseActionBuilder\n * @extends ActionBuilder\n * @memberof youbora\n * @abstract\n */\nvar AdPauseActionBuilder = ActionBuilder.extend(\n  /** @lends AdPauseActionBuilder.prototype */\n  {\n\n    /**\n     * Check the associated flags. ie: return this._info.getIsAdPauseSent()\n     *\n     * @returns {boolean}\n     */\n    getIsAllowed: function () {\n      return !this._flags.isHalted &&\n        this._adFlags.isJoined &&\n        !this._adFlags.isPaused\n    },\n\n    /**\n     *update chronos and flags as needed.\n     * ie: this._info.plugin.chronos.total.start()\n     */\n    setChronosAndFlags: function () {\n      this._adFlags.isPaused = true\n\n      this._adChronos.pause.start()\n    },\n\n    /**\n     * Return the service name\n     *\n     * @returns {string}\n     */\n    getServiceName: function () {\n      return '/adPause'\n    },\n\n    /**\n     * Logs successful request.\n     *\n     * @param {object} params Object of params created.\n     */\n    notice: function (params) {\n      Log.notice(this.getServiceName() + ' at ' + params.adPlayhead + 's')\n    },\n\n    /**\n     * Return the params needed for the request.\n     *\n     * @returns {object}\n     */\n    getParams: function (params) {\n      params = this._buildParams(params, ['adPlayhead', 'adPosition'])\n      params.adNumber = this._info.lastSent.adNumber\n      return params\n    }\n  }\n)\n\nmodule.exports = AdPauseActionBuilder\n","var ActionBuilder = require('./actionbuilder')\nvar Log = require('../log')\n\n/**\n * This class will build request, manipulate flags and chronos for the associated event.\n *\n * @constructs AdResumeActionBuilder\n * @extends ActionBuilder\n * @memberof youbora\n * @abstract\n */\nvar AdResumeActionBuilder = ActionBuilder.extend(\n  /** @lends AdResumeActionBuilder.prototype */\n  {\n\n    /**\n     * Check the associated flags. ie: return this._info.getIsAdResumeSent()\n     *\n     * @returns {boolean}\n     */\n    getIsAllowed: function () {\n      return !this._flags.isHalted &&\n        this._adFlags.isJoined &&\n        this._adFlags.isPaused\n    },\n\n    /**\n     *update chronos and flags as needed.\n     * ie: this._info.plugin.chronos.total.start()\n     */\n    setChronosAndFlags: function () {\n      this._adFlags.isPaused = false\n\n      this._adChronos.pause.stop()\n    },\n\n    /**\n     * Return the service name\n     *\n     * @returns {string}\n     */\n    getServiceName: function () {\n      return '/adResume'\n    },\n\n    /**\n     * Logs successful request.\n     *\n     * @param {object} params Object of params created.\n     */\n    notice: function (params) {\n      Log.notice(this.getServiceName() + ' at ' + params.adPlayhead + 's')\n    },\n\n    /**\n     * Return the params needed for the request.\n     *\n     * @returns {object}\n     */\n    getParams: function (params) {\n      params = this._buildParams(params, ['adPauseDuration', 'adPlayhead', 'adPosition'])\n      params.adNumber = this._info.lastSent.adNumber\n      return params\n    }\n  }\n)\n\nmodule.exports = AdResumeActionBuilder\n","var ActionBuilder = require('./actionbuilder')\nvar Log = require('../log')\n\n/**\n * This class will build request, manipulate flags and chronos for the associated event.\n *\n * @constructs AdStartActionBuilder\n * @extends ActionBuilder\n * @memberof youbora\n * @abstract\n */\nvar AdStartActionBuilder = ActionBuilder.extend(\n  /** @lends AdStartActionBuilder.prototype */\n  {\n\n    /**\n     * Check the associated flags. ie: return this._info.getIsAdStartSent()\n     *\n     * @returns {boolean}\n     */\n    getIsAllowed: function () {\n      return !this._flags.isHalted &&\n        this._flags.isStarted &&\n        !this._adFlags.isStarted\n    },\n\n    /**\n     *update chronos and flags as needed.\n     * ie: this._info.plugin.chronos.total.start()\n     */\n    setChronosAndFlags: function () {\n      this._adFlags.isStarted = true\n\n      this._adChronos.join.start()\n      this._adChronos.total.start()\n\n      if (this._adMonitor) this._adMonitor.start()\n    },\n\n    /**\n     * Return the service name\n     *\n     * @returns {string}\n     */\n    getServiceName: function () {\n      return '/adStart'\n    },\n\n    /**\n     * Logs successful request.\n     *\n     * @param {object} params Object of params created.\n     */\n    notice: function (params) {\n      Log.notice(this.getServiceName() + ' ' + (params.adTitle || params.adResource))\n    },\n\n    /**\n     * Return the params needed for the request.\n     *\n     * @returns {object}\n     */\n    getParams: function (params) {\n      // We need to get this before buildParams is called or adNumber will be overrided\n      var adNumber = this._getAdNumber()\n\n      params = this._buildParams(params, [\n        'playhead',\n        'adTitle',\n        'adPosition',\n        'adDuration',\n        'adResource',\n        'adPlayerVersion',\n        'adProperties',\n\n        'adnalyzerVersion'\n      ])\n      params.adNumber = adNumber\n\n      return params\n    },\n\n    _getAdNumber: function () {\n      var adNumber = this._info.lastSent.adNumber\n      if (adNumber && this._info.lastSent.adPosition === this._info.getAdPosition()) {\n        adNumber += 1\n      } else {\n        adNumber = 1\n      }\n      this._info.lastSent.adNumber = adNumber\n      return adNumber\n    }\n  }\n)\n\nmodule.exports = AdStartActionBuilder\n","var ActionBuilder = require('./actionbuilder')\nvar Log = require('../log')\n\n/**\n * This class will build request, manipulate flags and chronos for the associated event.\n *\n * @constructs AdStopActionBuilder\n * @extends ActionBuilder\n * @memberof youbora\n * @abstract\n */\nvar AdStopActionBuilder = ActionBuilder.extend(\n  /** @lends AdStopActionBuilder.prototype */\n  {\n\n    /**\n     * Check the associated flags. ie: return this._info.getIsAdStopSent()\n     *\n     * @returns {boolean}\n     */\n    getIsAllowed: function () {\n      return !this._flags.isHalted &&\n        this._adFlags.isStarted\n    },\n\n    /**\n     *update chronos and flags as needed.\n     * ie: this._info.plugin.chronos.total.start()\n     */\n    setChronosAndFlags: function () {\n      var chrono = this._adChronos.total\n      chrono.stop()\n\n      this._adFlags.reset()\n      this._adChronos.reset()\n\n      this._adChronos.total = chrono\n\n      if (this._adMonitor) this._adMonitor.stop()\n    },\n\n    /**\n     * Return the service name\n     *\n     * @returns {string}\n     */\n    getServiceName: function () {\n      return '/adStop'\n    },\n\n    /**\n     * Logs successful request.\n     *\n     * @param {object} params Object of params created.\n     */\n    notice: function (params) {\n      Log.notice(this.getServiceName() + ' ' + params.totalAdDuration + 'ms')\n    },\n\n    /**\n     * Return the params needed for the request.\n     *\n     * @returns {object}\n     */\n    getParams: function (params) {\n      var params = this._buildParams(params, [\n        'adBitrate',\n        'adPlayhead',\n        'totalAdDuration',\n        'adPosition'\n      ])\n      params.adNumber = this._info.lastSent.adNumber\n      return params\n    }\n  }\n)\n\nmodule.exports = AdStopActionBuilder\n","var ActionBuilder = require('./actionbuilder')\nvar Log = require('../log')\n\n/**\n * This class will build request, manipulate flags and chronos for the associated event.\n *\n * @constructs BufferBeginActionBuilder\n * @extends ActionBuilder\n * @memberof youbora\n * @abstract\n */\nvar BufferBeginActionBuilder = ActionBuilder.extend(\n  /** @lends BufferBeginActionBuilder.prototype */\n  {\n\n    /**\n     * Check the associated flags. ie: return this._info.getIsBufferBeginSent()\n     *\n     * @returns {boolean}\n     */\n    getIsAllowed: function () {\n      return !this._flags.isHalted &&\n        this._flags.isJoined &&\n        !this._flags.isBuffering\n    },\n\n    /**\n     *update chronos and flags as needed.\n     * Will convert from seek if e.data.convertFromSeek is true.\n     * ie: this._info.plugin.chronos.total.start()\n     *\n     * @param {Object} [e] The event info\n     */\n    setChronosAndFlags: function (e) {\n      if (e.data && e.data.convertFromSeek === true && this._flags.isSeeking) {\n        Log.notice('Converting current buffer to seek')\n\n        this._chronos.buffer.startTime = this._chronos.seek.startTime\n        this._chronos.buffer.lastTime = 0\n        this._chronos.seek.stop()\n\n        this._flags.isSeeking = false\n      } else {\n        this._chronos.buffer.start()\n      }\n\n      this._flags.isBuffering = true\n    },\n\n    /**\n     * Return the service name\n     *\n     * @returns {string}\n     */\n    getServiceName: function () {\n      return '/buffer-begin'\n    }\n  }\n)\n\nmodule.exports = BufferBeginActionBuilder\n","var ActionBuilder = require('./actionbuilder')\nvar Log = require('../log')\n\n/**\n * This class will build request, manipulate flags and chronos for the associated event.\n *\n * @constructs BufferEndActionBuilder\n * @extends ActionBuilder\n * @memberof youbora\n * @abstract\n */\nvar BufferEndActionBuilder = ActionBuilder.extend(\n  /** @lends BufferEndActionBuilder.prototype */\n  {\n\n    /**\n     * Check the associated flags. ie: return this._info.getIsBufferEndSent()\n     *\n     * @returns {boolean}\n     */\n    getIsAllowed: function () {\n      return !this._flags.isHalted &&\n        this._flags.isJoined &&\n        this._flags.isBuffering\n    },\n\n    /**\n     *update chronos and flags as needed.\n     * ie: this._info.plugin.chronos.total.start()\n     */\n    setChronosAndFlags: function () {\n      this._flags.isBuffering = false\n\n      this._chronos.buffer.stop()\n    },\n\n    /**\n     * Return the service name\n     *\n     * @returns {string}\n     */\n    getServiceName: function () {\n      return '/bufferUnderrun'\n    },\n\n    /**\n     * Logs successful request.\n     *\n     * @param {object} params Object of params created.\n     */\n    notice: function (params) {\n      Log.notice(this.getServiceName() + ' ' + params.bufferDuration + 'ms')\n    },\n\n    /**\n     * Return the params needed for the request.\n     *\n     * @returns {object}\n     */\n    getParams: function (params) {\n      return this._buildParams(params, ['bufferDuration', 'playhead'])\n    }\n  }\n)\n\nmodule.exports = BufferEndActionBuilder\n","var ActionBuilder = require('./actionbuilder')\nvar Log = require('../log')\n\n/**\n * This class will build request, manipulate flags and chronos for the associated event.\n *\n * @constructs DataActionBuilder\n * @extends ActionBuilder\n * @memberof youbora\n * @abstract\n */\nvar DataActionBuilder = ActionBuilder.extend(\n  /** @lends DataActionBuilder.prototype */\n  {\n    /**\n     * Return the service name\n     *\n     * @returns {string}\n     */\n    getServiceName: function () {\n      return '/data'\n    },\n\n    /**\n     * Logs successful request.\n     *\n     * @param {object} params Object of params created.\n     */\n    notice: function (params) {\n      Log.notice(this.getServiceName() + ' ' + params.system)\n    },\n\n    /**\n     * Return the params needed for the request.\n     *\n     * @returns {object}\n     */\n    getParams: function (params) {\n      params = this._buildParams(params, ['pluginVersion', 'system'])\n      params.apiVersion = 'v6,v7'\n      params.outputformat = 'jsonp'\n      return params\n    }\n  }\n)\n\nmodule.exports = DataActionBuilder\n","var ActionBuilder = require('./actionbuilder')\nvar StartActionBuilder = require('./start')\nvar Log = require('../log')\n\n/**\n * This class will build request, manipulate flags and chronos for the associated event.\n *\n * @constructs ErrorActionBuilder\n * @extends ActionBuilder\n * @memberof youbora\n * @abstract\n */\nvar ErrorActionBuilder = ActionBuilder.extend(\n  /** @lends ErrorActionBuilder.prototype */\n  {\n    /**\n     * Return the service name\n     *\n     * @returns {string}\n     */\n    getServiceName: function () {\n      return '/error'\n    },\n\n    /**\n     * Logs successful request.\n     *\n     * @param {object} params Object of params created.\n     */\n    notice: function (params) {\n      Log.notice(this.getServiceName() + ' ' + params.errorMsg)\n    },\n\n    /**\n     * Return the params needed for the request.\n     *\n     * @returns {object}\n     */\n    getParams: function (params) {\n      params = new StartActionBuilder(this._info).getParams(params)\n      return this._buildParams(params, ['player'])\n    }\n  }\n)\n\nmodule.exports = ErrorActionBuilder\n","var ErrorActionBuilder = require('./error')\nvar Log = require('../log')\n\n/**\n * This class will build request, manipulate flags and chronos for the associated event.\n *\n * @constructs FatalErrorActionBuilder\n * @extends ErrorActionBuilder\n * @memberof youbora\n * @abstract\n */\nvar FatalErrorActionBuilder = ErrorActionBuilder.extend(\n  /** @lends FatalErrorActionBuilder.prototype */\n  {\n    /**\n     *update chronos and flags as needed.\n     * ie: this._info.plugin.chronos.joinDuration.start()\n     */\n    setChronosAndFlags: function () {\n      this._flags.reset()\n      this._adFlags.reset()\n      this._chronos.reset()\n      this._adChronos.reset()\n\n      this._flags.isHalted = true\n    },\n\n    /**\n     * Logs successful request.\n     *\n     * @param {object} params Object of params created.\n     */\n    notice: function (params) {\n      Log.notice(this.getServiceName() + ' FATAL ' + params.errorMsg)\n    },\n\n    /**\n     * Return the params needed for the request.\n     *\n     * @returns {object}\n     */\n    getParams: function (params) {\n      params = ErrorActionBuilder.prototype.getParams.apply(this, params)\n      params.errorLevel = 'fatal'\n      return params\n    }\n  }\n)\n\nmodule.exports = FatalErrorActionBuilder\n","var StartActionBuilder = require('./start')\n\n/**\n * This class will build request, manipulate flags and chronos for the associated event.\n *\n * @constructs InitActionBuilder\n * @extends StartActionBuilder\n * @memberof youbora\n * @abstract\n */\nvar InitActionBuilder = StartActionBuilder.extend(\n  /** @lends InitActionBuilder.prototype */\n  {\n    /**\n     *update chronos and flags as needed.\n     * ie: this._info.plugin.chronos.joinDuration.start()\n     */\n    setChronosAndFlags: function () {\n      this._flags.isInitiated = true\n    },\n\n    /**\n     * Return the service name\n     *\n     * @returns {string}\n     */\n    getServiceName: function () {\n      return '/init'\n    }\n  }\n)\n\nmodule.exports = InitActionBuilder\n","var ActionBuilder = require('./actionbuilder')\nvar Log = require('../log')\n\n/**\n * This class will build request, manipulate flags and chronos for the associated event.\n *\n * @constructs JoinActionBuilder\n * @extends ActionBuilder\n * @memberof youbora\n * @abstract\n */\nvar JoinActionBuilder = ActionBuilder.extend(\n  /** @lends JoinActionBuilder.prototype */\n  {\n\n    /**\n     * Check the associated flags. ie: return this._info.getIsJoinSent()\n     *\n     * @returns {boolean}\n     */\n    getIsAllowed: function () {\n      return !this._flags.isHalted &&\n        this._flags.isStarted &&\n        !this._flags.isJoined &&\n        !this._adFlags.isStarted\n    },\n\n    /**\n     *update chronos and flags as needed.\n     * ie: this._info.plugin.chronos.join.start()\n     */\n    setChronosAndFlags: function () {\n      this._flags.isJoined = true\n\n      this._chronos.join.stop()\n    },\n\n    /**\n     * Return the service name\n     *\n     * @returns {string}\n     */\n    getServiceName: function () {\n      return '/joinTime'\n    },\n\n    /**\n     * Logs successful request.\n     *\n     * @param {object} params Object of params created.\n     */\n    notice: function (params) {\n      Log.notice(this.getServiceName() + ' ' + params.joinDuration + 'ms')\n    },\n\n    /**\n     * Return the params needed for the request.\n     *\n     * @returns {object}\n     */\n    getParams: function (params) {\n      params = this._buildParams(params, ['joinDuration', 'playhead'])\n      return this._buildParamsIfDifferent(params, [\n        'title',\n        'title2',\n        'live',\n        'mediaDuration',\n        'mediaResource'\n      ])\n    }\n  }\n)\n\nmodule.exports = JoinActionBuilder\n","var ActionBuilder = require('./actionbuilder')\nvar Log = require('../log')\n\n/**\n * This class will build request, manipulate flags and chronos for the associated event.\n *\n * @constructs PauseActionBuilder\n * @extends ActionBuilder\n * @memberof youbora\n * @abstract\n */\nvar PauseActionBuilder = ActionBuilder.extend(\n  /** @lends PauseActionBuilder.prototype */\n  {\n\n    /**\n     * Check the associated flags. ie: return this._info.getIsPauseSent()\n     *\n     * @returns {boolean}\n     */\n    getIsAllowed: function () {\n      return !this._flags.isHalted &&\n        this._flags.isJoined &&\n        !this._flags.isPaused\n    },\n\n    /**\n     *update chronos and flags as needed.\n     * ie: this._info.plugin.chronos.total.start()\n     */\n    setChronosAndFlags: function () {\n      this._flags.isPaused = true\n\n      this._chronos.pause.start()\n    },\n\n    /**\n     * Return the service name\n     *\n     * @returns {string}\n     */\n    getServiceName: function () {\n      return '/pause'\n    },\n\n    /**\n     * Logs successful request.\n     *\n     * @param {object} params Object of params created.\n     */\n    notice: function (params) {\n      Log.notice(this.getServiceName() + ' at ' + params.playhead + 's')\n    },\n\n    /**\n     * Return the params needed for the request.\n     *\n     * @returns {object}\n     */\n    getParams: function (params) {\n      return this._buildParams(params, ['playhead'])\n    }\n  }\n)\n\nmodule.exports = PauseActionBuilder\n","var ActionBuilder = require('./actionbuilder')\nvar Log = require('../log')\n\n/**\n * This class will build request, manipulate flags and chronos for the associated event.\n *\n * @constructs PingActionBuilder\n * @extends ActionBuilder\n * @memberof youbora\n * @abstract\n */\nvar PingActionBuilder = ActionBuilder.extend(\n  /** @lends PingActionBuilder.prototype */\n  {\n    /**\n     * Check the associated flags. ie: return this._info.getIsPingSent()\n     *\n     * @returns {boolean}\n     */\n    getIsAllowed: function () {\n      return !this._flags.isHalted &&\n        this._flags.isStarted\n    },\n\n    /**\n     * Return the service name\n     *\n     * @returns {string}\n     */\n    getServiceName: function () {\n      return '/ping'\n    },\n\n    /**\n     * Logs successful request.\n     */\n    notice: function (params) {\n      Log.verbose(this.getServiceName())\n    },\n\n    /**\n     * Return the params needed for the request.\n     *\n     * @returns {object}\n     */\n    getParams: function (params) {\n      params = this._buildParams(params, [\n        'playhead',\n        'bitrate',\n        'throughput',\n        'fps',\n        'droppedFrames',\n        'playrate',\n\n        'adPlayhead',\n        'adBitrate'\n      ])\n\n      if (this._flags.isBuffering) params = this._buildParams(params, ['bufferDuration'])\n      if (this._flags.isPaused) params = this._buildParams(params, ['pauseDuration'])\n      if (this._flags.isSeeking) params = this._buildParams(params, ['seekDuration'])\n      if (this._flags.isAdBuffering) params = this._buildParams(params, ['adBufferDuration'])\n\n      params.entities = this._getChangedEntities()\n\n      return params\n    },\n\n    /**\n     * Return changed entities since last check\n     *\n     * @private\n     */\n    _getChangedEntities: function () {\n      return this._buildParamsIfDifferent({}, [\n        'rendition',\n        'title',\n        'title2',\n        'live',\n        'mediaDuration',\n        'mediaResource',\n        'param1',\n        'param2',\n        'param3',\n        'param4',\n        'param5',\n        'param6',\n        'param7',\n        'param8',\n        'param9',\n        'param10',\n        'adTitle',\n        'connectionType',\n        'deviceCode',\n        'ip',\n        'username',\n        'cdn',\n        'nodeHost',\n        'nodeType',\n        'nodeTypeString'\n      ])\n    }\n  }\n)\n\nmodule.exports = PingActionBuilder\n","var ActionBuilder = require('./actionbuilder')\n\n/**\n * This class will build request, manipulate flags and chronos for the associated event.\n *\n * @constructs PreloadBeginActionBuilder\n * @extends ActionBuilder\n * @memberof youbora\n * @abstract\n */\nvar PreloadBeginActionBuilder = ActionBuilder.extend(\n  /** @lends PreloadBeginActionBuilder.prototype */\n  {\n    /**\n     * Check the associated flags. ie: return this._info.getIsPreloadBeginSent()\n     *\n     * @returns {boolean}\n     */\n    getIsAllowed: function () {\n      return !this._flags.isPreloading\n    },\n\n    /**\n     *update chronos and flags as needed.\n     * ie: this._info.plugin.chronos.total.start()\n     */\n    setChronosAndFlags: function () {\n      this._flags.isPreloading = true\n\n      this._chronos.preload.start()\n    },\n\n    /**\n     * Return the service name\n     *\n     * @returns {string}\n     */\n    getServiceName: function () {\n      return '/preload-begin'\n    }\n  }\n)\n\nmodule.exports = PreloadBeginActionBuilder\n","var ActionBuilder = require('./actionbuilder')\n\n/**\n * This class will build request, manipulate flags and chronos for the associated event.\n *\n * @constructs PreloadEndActionBuilder\n * @extends ActionBuilder\n * @memberof youbora\n * @abstract\n */\nvar PreloadEndActionBuilder = ActionBuilder.extend(\n  /** @lends PreloadEndActionBuilder.prototype */\n  {\n    /**\n     * Check the associated flags. ie: return this._info.getIsPreloadEndSent()\n     *\n     * @returns {boolean}\n     */\n    getIsAllowed: function () {\n      return this._flags.isPreloading\n    },\n\n    /**\n     *update chronos and flags as needed.\n     * ie: this._info.plugin.chronos.total.start()\n     */\n    setChronosAndFlags: function () {\n      if (this._flags.isPreloading) {\n        this._flags.isPreloading = false\n\n        this._chronos.preload.stop()\n      }\n    },\n\n    /**\n     * Return the service name\n     *\n     * @returns {string}\n     */\n    getServiceName: function () {\n      return '/preload-end ' + this._chronos.preload.getDeltaTime(false) + 'ms'\n    }\n  }\n)\n\nmodule.exports = PreloadEndActionBuilder\n","var ActionBuilder = require('./actionbuilder')\nvar Log = require('../log')\n\n/**\n * This class will build request, manipulate flags and chronos for the associated event.\n *\n * @constructs ResumeActionBuilder\n * @extends ActionBuilder\n * @memberof youbora\n * @abstract\n */\nvar ResumeActionBuilder = ActionBuilder.extend(\n  /** @lends ResumeActionBuilder.prototype */\n  {\n\n    /**\n     * Check the associated flags. ie: return this._info.getIsResumeSent()\n     *\n     * @returns {boolean}\n     */\n    getIsAllowed: function () {\n      return !this._flags.isHalted &&\n        this._flags.isJoined &&\n        this._flags.isPaused\n    },\n\n    /**\n     *update chronos and flags as needed.\n     * ie: this._info.plugin.chronos.total.start()\n     */\n    setChronosAndFlags: function () {\n      this._flags.isPaused = false\n\n      this._chronos.pause.stop()\n    },\n\n    /**\n     * Return the service name\n     *\n     * @returns {string}\n     */\n    getServiceName: function () {\n      return '/resume'\n    },\n\n    /**\n     * Logs successful request.\n     *\n     * @param {object} params Object of params created.\n     */\n    notice: function (params) {\n      Log.notice(this.getServiceName() + ' at ' + params.playhead + 's')\n    },\n\n    /**\n     * Return the params needed for the request.\n     *\n     * @returns {object}\n     */\n    getParams: function (params) {\n      return this._buildParams(params, ['pauseDuration', 'playhead'])\n    }\n  }\n)\n\nmodule.exports = ResumeActionBuilder\n","var ActionBuilder = require('./actionbuilder')\nvar Log = require('../log')\n\n/**\n * This class will build request, manipulate flags and chronos for the associated event.\n *\n * @constructs SeekBeginActionBuilder\n * @extends ActionBuilder\n * @memberof youbora\n * @abstract\n */\nvar SeekBeginActionBuilder = ActionBuilder.extend(\n  /** @lends SeekBeginActionBuilder.prototype */\n  {\n\n    /**\n     * Check the associated flags. ie: return this._info.getIsSeekBeginSent()\n     *\n     * @returns {boolean}\n     */\n    getIsAllowed: function () {\n      return !this._flags.isHalted &&\n        this._flags.isJoined &&\n        !this._flags.isSeeking\n    },\n\n    /**\n     *update chronos and flags as needed.\n     * Will convert from buffer if e.data.convertFromSeek is NOT false.\n     * ie: this._info.plugin.chronos.total.start()\n     *\n     * @param {Object} [e] The event info\n     */\n    setChronosAndFlags: function (e) {\n      if (e.data && e.data.convertFromBuffer !== false && this._flags.isBuffering) {\n        Log.notice('Converting current buffer to seek')\n\n        this._chronos.seek.startTime = this._chronos.buffer.startTime\n        this._chronos.seek.lastTime = 0\n        this._chronos.buffer.stop()\n\n        this._flags.isBuffering = false\n      } else {\n        this._chronos.seek.start()\n      }\n\n      this._flags.isSeeking = true\n    },\n\n    /**\n     * Return the service name\n     *\n     * @returns {string}\n     */\n    getServiceName: function () {\n      return '/seek-begin'\n    }\n  }\n)\n\nmodule.exports = SeekBeginActionBuilder\n","var ActionBuilder = require('./actionbuilder')\nvar Log = require('../log')\n\n/**\n * This class will build request, manipulate flags and chronos for the associated event.\n *\n * @constructs SeekEndActionBuilder\n * @extends ActionBuilder\n * @memberof youbora\n * @abstract\n */\nvar SeekEndActionBuilder = ActionBuilder.extend(\n  /** @lends SeekEndActionBuilder.prototype */\n  {\n\n    /**\n     * Check the associated flags. ie: return this._info.getIsSeekEndSent()\n     *\n     * @returns {boolean}\n     */\n    getIsAllowed: function () {\n      return !this._flags.isHalted &&\n        this._flags.isJoined &&\n        this._flags.isSeeking\n    },\n\n    /**\n     *update chronos and flags as needed.\n     * ie: this._info.plugin.chronos.total.start()\n     */\n    setChronosAndFlags: function () {\n      this._flags.isSeeking = false\n\n      this._chronos.seek.stop()\n    },\n\n    /**\n     * Return the service name\n     *\n     * @returns {string}\n     */\n    getServiceName: function () {\n      return '/seek'\n    },\n\n    /**\n     * Logs successful request.\n     *\n     * @param {object} params Object of params created.\n     */\n    notice: function (params) {\n      Log.notice(this.getServiceName() +\n        ' to ' + params.playhead +\n        ' in ' + params.seekDuration + 'ms'\n      )\n    },\n\n    /**\n     * Return the params needed for the request.\n     *\n     * @returns {object}\n     */\n    getParams: function (params) {\n      return this._buildParams(params, ['seekDuration', 'playhead'])\n    }\n  }\n)\n\nmodule.exports = SeekEndActionBuilder\n","var ActionBuilder = require('./actionbuilder')\nvar Log = require('../log')\n\n/**\n * This class will build request, manipulate flags and chronos for the associated event.\n *\n * @constructs StartActionBuilder\n * @extends ActionBuilder\n * @memberof youbora\n * @abstract\n */\nvar StartActionBuilder = ActionBuilder.extend(\n  /** @lends StartActionBuilder.prototype */\n  {\n\n    /**\n     * Check the associated flags. ie: return this._info.getIsStartSent()\n     *\n     * @returns {boolean}\n     */\n    getIsAllowed: function () {\n      return !this._flags.isStarted\n    },\n\n    /**\n     *update chronos and flags as needed.\n     * ie: this._info.plugin.chronos.joinDuration.start()\n     */\n    setChronosAndFlags: function () {\n      this._flags.isStarted = true\n      this._flags.isHalted = false\n\n      if (this._chronos.join.startTime === 0) this._chronos.join.start()\n      this._chronos.total.start()\n\n      if (this._monitor) this._monitor.start()\n    },\n\n    /**\n     * Return the service name\n     *\n     * @returns {string}\n     */\n    getServiceName: function () {\n      return '/start'\n    },\n\n    /**\n     * Logs successful request.\n     *\n     * @param {object} params Object of params created.\n     */\n    notice: function (params) {\n      Log.notice(this.getServiceName() + ' ' + (params.title || params.mediaResource))\n    },\n\n    /**\n     * Return the params needed for the request.\n     *\n     * @returns {object}\n     */\n    getParams: function (params) {\n      return this._buildParams(params, [\n        'accountCode',\n        'username',\n        'rendition',\n        'title',\n        'title2',\n        'live',\n        'mediaDuration',\n        'mediaResource',\n        'transactionCode',\n        'properties',\n        'cdn',\n        'playerVersion',\n        'param1',\n        'param2',\n        'param3',\n        'param4',\n        'param5',\n        'param6',\n        'param7',\n        'param8',\n        'param9',\n        'param10',\n        'pluginVersion',\n        'pluginInfo',\n        'isp',\n        'connectionType',\n        'ip',\n        'deviceCode',\n        'preloadDuration'\n      ])\n    }\n  }\n)\n\nmodule.exports = StartActionBuilder\n","var ActionBuilder = require('./actionbuilder')\nvar Log = require('../log')\n\n/**\n * This class will build request, manipulate flags and chronos for the associated event.\n *\n * @constructs StopActionBuilder\n * @extends ActionBuilder\n * @memberof youbora\n * @abstract\n */\nvar StopActionBuilder = ActionBuilder.extend(\n  /** @lends StopActionBuilder.prototype */\n  {\n    /**\n     * Check the associated flags. ie: return this._info.getIsResumeSent()\n     *\n     * @returns {boolean}\n     */\n    getIsAllowed: function () {\n      return !this._flags.isHalted &&\n        this._flags.isStarted\n    },\n\n    /**\n     *update chronos and flags as needed.\n     * ie: this._info.plugin.chronos.total.start()\n     */\n    setChronosAndFlags: function () {\n      var chrono = this._chronos.total\n      chrono.stop()\n\n      this._flags.reset()\n      this._adFlags.reset()\n      this._chronos.reset()\n      this._adChronos.reset()\n\n      this._chronos.total = chrono\n\n      if (this._monitor) this._monitor.stop()\n    },\n\n    /**\n     * Return the service name\n     *\n     * @returns {string}\n     */\n    getServiceName: function () {\n      return '/stop'\n    },\n\n    /**\n     * Logs successful request.\n     *\n     * @param {object} params Object of params created.\n     */\n    notice: function (params) {\n      Log.notice(this.getServiceName() + ' at ' + params.playhead + 's')\n    },\n\n    /**\n     * Return the params needed for the request.\n     *\n     * @returns {object}\n     */\n    getParams: function (params) {\n      return this._buildParams(params, ['bitrate', 'playhead'])\n    }\n  }\n)\n\nmodule.exports = StopActionBuilder\n","var YouboraObject = require('./object')\n\nvar Chrono = YouboraObject.extend(\n  /** @lends Chrono.prototype */\n  {\n    /**\n     * This class calculates time lapses between two points.\n     *\n     * @constructs Chrono\n     * @extends YouboraObject\n     * @memberof youbora\n     */\n    constructor: function () {\n      /** Start time */\n      this.startTime = 0\n\n      /** Stop time */\n      this.stopTime = 0\n\n      /** Offset to be added to deltaTime and stop. in ms. */\n      this.offset = 0\n    },\n\n    /**\n     * Returns the time between start() and the last stop() in ms. Returns -1 if start wasn't \n     * called.\n     * @param {boolean} [stop=true] If true, it will force a stop() if it wasn't called before.\n     * @return {number} Time lapse in ms.\n     */\n    getDeltaTime: function (stop) {\n      var now = new Date().getTime()\n      if (this.startTime) {\n        if (stop && !this.stopTime) { this.stopTime = now }\n        return this.offset + (now - this.startTime)\n      } else {\n        return -1\n      }\n    },\n\n    /**\n     * Starts the chrono.\n     */\n    start: function () {\n      this.startTime = new Date().getTime()\n      this.stopTime = 0\n    },\n\n    /**\n     * Stops the timer and returns current delta time.\n     * @return {number} Returns the delta time\n     */\n    stop: function () {\n      this.stopTime = new Date().getTime()\n      return this.startTime ? this.offset + (this.stopTime - this.startTime) : -1\n    }\n  }\n)\n\nmodule.exports = Chrono\n","var YouboraObject = require('../object')\nvar Log = require('../log')\nvar YBRequest = require('./request')\nvar Transform = require('../transform/transform')\n\nvar Communication = YouboraObject.extend(\n  /** @lends Communication.prototype */\n  {\n    /**\n     * Youbora Communication implements an abstraction layer over API requests.\n     * Internally, Communication implements queues of {@link Request} objects.\n     * This queue can be blocked using {@link Transform}\n     *\n     * @constructs Communication\n     * @extends YouboraObject\n     * @memberof youbora\n     *\n     * @param {string} host The fastdata host address.\n     * @param {boolean} httpSecure True for https, false for http, undefined for //.\n     */\n    constructor: function () {\n      /** Array of {@link Transform}, only when the array is empty the request Queues will begin sending. */\n      this.transforms = []\n\n      /**\n       * Queue of {@link YBRequest}\n       * @private\n       */\n      this._requests = []\n    },\n\n    /**\n     * Enqueues the request provided.\n     *\n     * @param {YBRequest} request Request to be enqueued\n     * @param {function} [callback] The defined load callback to the Request\n     */\n    sendRequest: function (request, callback) {\n      if (request) {\n        if (typeof callback === 'function') request.on(YBRequest.Event.SUCCESS, callback)\n        this._registerRequest(request)\n      }\n    },\n\n    /**\n     * Build a generic request to the given host.\n     *\n     * @param {string} host Host of the service called.\n     * @param {string} service A string with the service to be called. ie: '/data', '/joinTime'...\n     * @param {Object} [params] Object of key:value params.\n     * @param {function} [callback] The defined load callback to the Request\n     */\n    buildRequest: function (host, service, params, callback) {\n      params = params || {}\n      var request = new YBRequest(host, service, params)\n      if (typeof callback === 'function') request.on(YBRequest.Event.SUCCESS, callback)\n      this._registerRequest(request)\n    },\n\n    /**\n     * Adds a Transform to the queue. See {@link Transform}.\n     *\n     * @param {RequestTransform} transform\n     */\n    addTransform: function (transform) {\n      if (transform.parse && transform.isBlocking) {\n        this.transforms.push(transform)\n        transform.on(Transform.Event.DONE, this._processRequests.bind(this))\n      } else {\n        Log.warn(transform + ' is not a valid RequestTransform.')\n      }\n    },\n\n    /**\n     * Removes a {@link Transform}.\n     *\n     * @param {RequestTransform} transform Transform object to remove.\n     */\n    removeTransform: function (transform) {\n      var pos = this.transforms.indexOf(transform)\n      if (pos !== -1) {\n        this.transforms.splice(pos, 1)\n      } else {\n        Log.warn('Trying to remove unexisting Transform \\'' + transform + '\\'.')\n      }\n    },\n\n    /**\n     * Adds an {@link YBRequest} to the queue of requests.\n     *\n     * @private\n     * @param {YBRequest} request The Request to be queued.\n     */\n    _registerRequest: function (request) {\n      this._requests.push(request)\n      this._processRequests()\n    },\n\n    /**\n     * Execute pending requests in the queue. Returns rejected ones to the queue.\n     * @private\n     */\n    _processRequests: function () {\n      var workingQueue = this._requests\n      this._requests = []\n\n      var rejected = []\n      while (workingQueue.length) {\n        var request = workingQueue.shift()\n        if (this._transform(request)) {\n          request.send()\n        } else {\n          rejected.push(request)\n        }\n      }\n\n      while (rejected.length) {\n        this._requests.push(rejected.shift())\n      }\n    },\n\n    /**\n     * Pass the given request to each transform.\n     * @private\n     * @returns {bool} True if everything is right. False if some parser rejected it.\n     */\n    _transform: function (request) {\n      var ret = true\n      this.transforms.forEach(function (transform) {\n        if (transform.isBlocking(request)) {\n          ret = false\n          return // break foreach loop\n        } else {\n          transform.parse(request)\n        }\n      })\n      return ret\n    }\n  })\n\nmodule.exports = Communication\n","var YouboraObject = require('../object')\nvar Log = require('../log')\n\nvar YBRequest = YouboraObject.extend(\n  /** @lends YBRequest.prototype */\n  {\n    /**\n     * YBYBRequest class will wrap XmlHttpRequest and extend its functionality, allowing youbora\n     * to manage queues, blockers and retries.\n     *\n     * @constructs YBRequest\n     * @extends Object\n     * @memberof youbora\n     *\n     * @param {string} host URL of the request. ie: nqs.nice264.com\n     * @param {string} [service] Name of the service. ie '/start'\n     * @param {Object} [params] Object of key:value params.\n     * @param {Object} [options] Object with custom options.\n     * @param {string} [options.method=\"GET\"] Specifies the method of the request. ie: \"GET\", \"HEAD\".\n     * @param {string} [options.requestHeaders] Object with options of requestHeaders.\n     * ie: { header: value }.\n     * @param {number} [options.retryAfter=5000] Time in ms before sending a failed request again.\n     * 0 to disable.\n     * @param {number} [options.maxRetries=3] Max number of retries. 0 to disable.\n     * @param {bool} [options.cache=false] If false, timestamp will be added to each request to\n     * prevent caching.\n     */\n    constructor: function (host, service, params, options) {\n      /** Instance of XmlHttpRequest (or the item returned by createXHR method). */\n      this.xhr = this.createXHR()\n\n      /** Host of the request */\n      this.host = host || ''\n\n      /** Service of the request */\n      this.service = service || ''\n\n      /** Object of params of the request */\n      this.params = params || {}\n\n      /** Options of the request */\n      this.options = Object.assign({\n        method: 'GET',\n        requestHeaders: {},\n        maxRetries: 3,\n        retryAfter: 5000,\n        cache: false\n      }, options)\n\n      /** Number of times this request has failed and retried. */\n      this.retries = 0\n\n      // Add timemark\n      if (!this.options.cache) {\n        this.setParam('timemark', new Date().getTime())\n      }\n    },\n\n    /**\n     * Creates XMLHttpRequest if it is available in the browser.\n     * If not, it tries to create an ActiveXObject XMLHTTP item.\n     * Override this function for custom environments.\n     *\n     * @return YBRequest handler.\n     */\n    createXHR: function () {\n      try {\n        if (XMLHttpRequest) {\n          return new XMLHttpRequest()\n        } else {\n          return new ActiveXObject('Microsoft.XMLHTTP')\n        }\n      } catch (err) {\n        Log.error(err)\n        return {}\n      }\n    },\n\n    /**\n     * Returns xhr object.\n     *\n     * @return {XmlHttpRequest} object.\n     */\n    getXHR: function () {\n      return this.xhr\n    },\n\n    /** Returns the complete formed url of the request url+service+params. */\n    getUrl: function () {\n      return this.host + this.service + this.getParamString()\n    },\n\n    /**\n     * Wraps this.getHXR.addEventListener.\n     * Accepts a callback that receives (this YBRequest, event)\n     */\n    on: function (event, callback) {\n      if (typeof callback === 'function') {\n        this.xhr.addEventListener(event, callback.bind(this, this))\n      } else {\n        Log.warn('Tried to register a not-a-function callback.')\n      }\n      return this\n    },\n\n    /** Wraps this.getHXR.removeEventListener */\n    off: function (event, callback) {\n      if (typeof callback === 'function') {\n        this.xhr.removeEventListener(event, callback)\n      } else {\n        Log.warn('Tried to register a not-a-function callback.')\n      }\n      return this\n    },\n\n    /**\n     * Returns the params of the request, stringified.\n     * ie: '?pluginVersion=5.1.0&systemCode=nicetv'.\n     * @return {string} Concatenated Params\n     */\n    getParamString: function () {\n      try {\n        var params = '?'\n        for (var key in this.params) {\n          var param = this.params[key]\n          if (param !== null && typeof param === 'object') {\n            params += encodeURIComponent(key) + '=' + encodeURIComponent(JSON.stringify(param)) + '&'\n          } else if (param !== null && typeof param !== 'undefined' && param !== '') {\n            params += encodeURIComponent(key) + '=' + encodeURIComponent(param) + '&'\n          }\n        }\n        return params.slice(0, -1)\n      } catch (err) {\n        Log.error(err)\n        return ''\n      }\n    },\n\n    /**\n     * Returns the value of the given param, or undefined.\n     * @param {string} key Name of the param.\n     * @return {any}\n     */\n    getParam: function (key) {\n      return this.params[key]\n    },\n\n    /**\n     * Add or set a parameter for the request.\n     * ie: if you want to add 'username=user' use setParam('username', 'user').\n     * @param {string} key Name of the param.\n     * @param {string} value Name of the param.\n     * @return this\n     */\n    setParam: function (key, value) {\n      this.params[key] = value\n      return this\n    },\n\n    /**\n     * Sends the request.\n     *\n     * @return returns xhr.send()\n     */\n    send: function () {\n      try {\n        this.xhr.open(this.options.method, this.getUrl(), true)\n\n        // Add custom headers\n        if (this.options.requestHeaders) {\n          for (var key in this.options.requestHeaders) {\n            if (this.options.requestHeaders.hasOwnProperty(key)) {\n              this.xhr.setRequestHeader(key, this.options.requestHeaders[key])\n            }\n          }\n        }\n\n        // Add retries system\n        if (this.options.retryAfter > 0 && this.options.maxRetries > 0) {\n          var genericError = function () {\n            if (this.retries >= this.options.maxRetries) {\n              Log.error('Aborting failed request \"' + this.service + '\". Max retries reached.')\n            } else {\n              Log.warn('YBRequest \"' + this.service + '\" failed. Retry ' + (this.retries + 1) + ' of ' +\n                this.options.maxRetries + ' in ' + this.options.retryAfter + 'ms.')\n\n              setTimeout(function () {\n                this.retries += 1\n                this.send()\n              }.bind(this), this.options.retryAfter)\n            }\n          }\n          if (this.retries === 0) {\n            this.on(YBRequest.Event.ERROR, genericError.bind(this))\n          }\n        }\n\n        // Log XHR\n        if (Log.logLevel <= Log.Level.VERBOSE) {\n          Log.verbose('XHR Req: ' + this.getUrl())\n        }\n\n        // Register 'on every' listeners\n        for (var event in YBRequest._globalListeners) {\n          YBRequest._globalListeners[event].forEach(function (callback) {\n            this.on(event, callback)\n          }.bind(this))\n        }\n\n        // Send\n        return this.xhr.send()\n      } catch (err) {\n        Log.error(err)\n      }\n    }\n  },\n\n  /** @lends YBRequest */\n  {\n    /**\n     * List of events that could be fired from XHR\n     * @enum\n     */\n    Event: {\n      /** Request successful */\n      SUCCESS: 'load',\n      /** Request successful */\n      LOAD: 'load', // Native JS\n      /** Request returned error */\n      ERROR: 'error',\n      /** Request aborted */\n      ABORT: 'abort'\n    },\n\n    /** @private */\n    _globalListeners: {},\n\n    /**\n     * Adds a callback to every instance.\n     * @param {string} event Name of the event.\n     * @param {function} callback Callback of the event.\n     */\n    onEvery: function (event, callback) {\n      if (typeof callback === 'function') {\n        YBRequest._globalListeners[event] = YBRequest._globalListeners[event] || []\n        YBRequest._globalListeners[event].push(callback)\n      } else {\n        Log.warn('Callback ' + callback + ' is not a function.')\n      }\n    },\n\n    /**\n     * Removes a global callback\n     * @param {string} event Name of the event.\n     * @param {function} callback Callback of the event.\n     */\n    offEvery: function (event, callback) {\n      if (YBRequest._globalListeners[event]) {\n        var index = YBRequest._globalListeners[event].indexOf(callback)\n        if (index !== -1) {\n          YBRequest._globalListeners[event].splice(index, 1)\n        }\n      }\n    }\n  })\n\nmodule.exports = YBRequest\n","var YouboraObject = require('../object')\nvar Timer = require('../timer')\nvar Log = require('../log')\n\nvar Communication = require('../comm/communication')\nvar InfoGatherer = require('./infogatherer')\nvar ViewTransform = require('../transform/view')\nvar Nqs6Transform = require('../transform/nqs6')\nvar ResourceTransform = require('../transform/resource')\n\nvar PingActionBuilder = require('../actionbuilder/ping')\nvar PreloadBeginActionBuilder = require('../actionbuilder/preloadbegin')\nvar PreloadEndActionBuilder = require('../actionbuilder/preloadend')\nvar InitActionBuilder = require('../actionbuilder/init')\nvar StartActionBuilder = require('../actionbuilder/start')\nvar JoinActionBuilder = require('../actionbuilder/join')\nvar PauseActionBuilder = require('../actionbuilder/pause')\nvar ResumeActionBuilder = require('../actionbuilder/resume')\nvar SeekBeginActionBuilder = require('../actionbuilder/seekbegin')\nvar SeekEndActionBuilder = require('../actionbuilder/seekend')\nvar BufferBeginActionBuilder = require('../actionbuilder/bufferbegin')\nvar BufferEndActionBuilder = require('../actionbuilder/bufferend')\nvar StopActionBuilder = require('../actionbuilder/stop')\nvar ErrorActionBuilder = require('../actionbuilder/error')\nvar FatalErrorActionBuilder = require('../actionbuilder/fatalerror')\nvar AdStartActionBuilder = require('../actionbuilder/adstart')\nvar AdJoinActionBuilder = require('../actionbuilder/adjoin')\nvar AdPauseActionBuilder = require('../actionbuilder/adpause')\nvar AdResumeActionBuilder = require('../actionbuilder/adresume')\nvar AdBufferBeginActionBuilder = require('../actionbuilder/adbufferbegin')\nvar AdBufferEndActionBuilder = require('../actionbuilder/adbufferend')\nvar AdStopActionBuilder = require('../actionbuilder/adstop')\n\nvar YouboraController = YouboraObject.extend(\n  /** @lends YouboraController.prototype */\n  {\n    /**\n     * This class will manage the main flow of the application.\n     *\n     * @constructs YouboraController\n     * @extends YouboraObject\n     * @memberof youbora\n     *\n     * @param {GenericPlugin} plugin A GenericPlugin instance\n     * @param {Options} options An Options instance\n     */\n    constructor: function (plugin, options) {\n      /** A reference to the plugin */\n      this.plugin = plugin\n\n      /** a reference to options object */\n      this.options = options\n\n      // Adds plugin to static map\n      YouboraController.map.push(plugin)\n\n      this._init()\n\n      this._registerListeners()\n    },\n\n    /**\n     * Sets the {@link Options}.\n     *\n     * @param {Object|bool} [options={}] An object compiling to {@link Options} constructor.\n     */\n    setOptions: function (options) {\n      this.options.setOptions(options)\n    },\n\n    /**\n     * Get the current options.\n     *\n     * @returns {Options}\n     */\n    getOptions: function () {\n      return this.options\n    },\n\n    /**\n     * Init class properties\n     */\n    _init: function () {\n      this._info = new InfoGatherer(this)\n      this._ping = this._ping = new Timer(this._sendPing.bind(this), 5000)\n\n      this.viewTransform = new ViewTransform(this._info)\n      this.viewTransform.on(ViewTransform.Event.DONE, function (e) { // Data response\n        this._ping.interval = e.target.response.pingTime * 1000\n      }.bind(this))\n\n      this.resourceTransform = new ResourceTransform(this.options, this._info)\n    },\n\n    /**\n     * Reset all variables and stop all timers\n     */\n    reset: function () {\n      this.stopPings()\n      this.resourceTransform = new ResourceTransform(this.options, this._info)\n    },\n\n    /**\n     * Initializes {@Communication}. Called in every /start.\n     * @private\n     */\n    _initComm: function () {\n      this.resourceTransform.init(this._info.getResource())\n\n      this._comm = new Communication()\n      this._comm.addTransform(this.viewTransform)\n      this._comm.addTransform(this.resourceTransform)\n      this._comm.addTransform(new Nqs6Transform())\n    },\n\n    /**\n     * Starts sending pings\n     */\n    startPings: function () {\n      if (!this._ping.isRunning) this._ping.start()\n    },\n\n    /**\n     * Stops sending pings\n     */\n    stopPings: function () {\n      this._ping.stop()\n    },\n\n    /**\n     * Set all the plugin listeners\n     * @private\n     */\n    _registerListeners: function () {\n      this.plugin.on('init', this._initListener.bind(this))\n      this.plugin.on('start', this._startListener.bind(this))\n      this.plugin.on('join', this._joinListener.bind(this))\n      this.plugin.on('pause', this._pauseListener.bind(this))\n      this.plugin.on('resume', this._resumeListener.bind(this))\n      this.plugin.on('seek-begin', this._seekBeginListener.bind(this))\n      this.plugin.on('seek-end', this._seekEndListener.bind(this))\n      this.plugin.on('buffer-begin', this._bufferBeginListener.bind(this))\n      this.plugin.on('buffer-end', this._bufferEndListener.bind(this))\n      this.plugin.on('error', this._errorListener.bind(this))\n      this.plugin.on('fatal-error', this._fatalErrorListener.bind(this))\n      this.plugin.on('stop', this._stopListener.bind(this))\n\n      this.plugin.on('preload-begin', this._preloadBeginListener.bind(this))\n      this.plugin.on('preload-end', this._preloadEndListener.bind(this))\n    },\n\n    /**\n     * Sets an adnalyer and register its listeners. Will be called automatically.\n     */\n    setAdnalyzer: function () {\n      if (this.plugin.adnalyzer) {\n        this._registerAdnalyzerListeners()\n      } else {\n        Log.warn('Tried to call controller.setAdnalyzer without an adnalyzed defined.')\n      }\n    },\n\n    _registerAdnalyzerListeners: function () {\n      this.plugin.adnalyzer.on('start', this._adStartListener.bind(this))\n      this.plugin.adnalyzer.on('join', this._adJoinListener.bind(this))\n      this.plugin.adnalyzer.on('pause', this._adPauseListener.bind(this))\n      this.plugin.adnalyzer.on('resume', this._adResumeListener.bind(this))\n      this.plugin.adnalyzer.on('buffer-begin', this._adBufferBeginListener.bind(this))\n      this.plugin.adnalyzer.on('buffer-end', this._adBufferEndListener.bind(this))\n      this.plugin.adnalyzer.on('stop', this._adStopListener.bind(this))\n    },\n\n    /**\n     * Send request to {@link Communication}\n     *\n     * @private\n     * @param {Object} event Event data\n     * @param {ActionBuilder} builder Builder object\n     * @param {boolean} [adnalyer=true] If true, pre-event will be emitted from the adnalyzer.\n     */\n    _sendRequest: function (event, request, adnalyzer) {\n      if (request && this.options['config.enabled']) {\n        if (adnalyzer && this.plugin.adnalyzer) {\n          this.plugin.adnalyzer.emit('pre-' + event.type)\n        } else {\n          this.plugin.emit('pre-' + event.type)\n        }\n        this._comm.sendRequest(request)\n      }\n    },\n\n    /**\n     * Set flags and notice\n     *\n     * @private\n     * @param {Object} event Event data\n     * @param {ActionBuilder} builder Builder object\n     * @param {boolean} [adnalyer=true] If true, pre-event will be emitted from the adnalyzer.\n     */\n    _executeBuilder: function (event, builder, adnalyzer) {\n      if (builder.getIsAllowed()) {\n        builder.setChronosAndFlags(event)\n        builder.notice()\n        if (adnalyzer && this.plugin.adnalyzer) {\n          this.plugin.adnalyzer.emit('pre-' + event.type)\n        } else {\n          this.plugin.emit('pre-' + event.type)\n        }\n      }\n    },\n\n    _preloadBeginListener: function (e) {\n      this._executeBuilder(e, new PreloadBeginActionBuilder(this._info))\n    },\n\n    _preloadEndListener: function (e) {\n      this._executeBuilder(e, new PreloadEndActionBuilder(this._info))\n    },\n\n    _initListener: function (e) {\n      var builder = new InitActionBuilder(this._info)\n      if (builder.getIsAllowed()) {\n        this.viewTransform.nextView()\n        this._initComm()\n        this.startPings()\n      }\n\n      this._sendRequest(e, builder.buildRequest())\n    },\n\n    _startListener: function (e) {\n      var builder = new StartActionBuilder(this._info)\n      if (builder.getIsAllowed()) {\n        if (!this.plugin.flags.isInitiated) this.viewTransform.nextView()\n        if (!this._comm) this._initComm()\n        this.startPings()\n      }\n\n      this._sendRequest(e, builder.buildRequest())\n    },\n\n    _joinListener: function (e) {\n      this._sendRequest(e, new JoinActionBuilder(this._info).buildRequest())\n    },\n\n    _pauseListener: function (e) {\n      this._sendRequest(e, new PauseActionBuilder(this._info).buildRequest())\n    },\n\n    _resumeListener: function (e) {\n      this._sendRequest(e, new ResumeActionBuilder(this._info).buildRequest())\n    },\n\n    _seekBeginListener: function (e) {\n      this._executeBuilder(e, new SeekBeginActionBuilder(this._info))\n    },\n\n    _seekEndListener: function (e) {\n      this._sendRequest(e, new SeekEndActionBuilder(this._info).buildRequest())\n    },\n\n    _bufferBeginListener: function (e) {\n      this._executeBuilder(e, new BufferBeginActionBuilder(this._info))\n    },\n\n    _bufferEndListener: function (e) {\n      this._sendRequest(e, new BufferEndActionBuilder(this._info).buildRequest())\n    },\n\n    _errorListener: function (e) {\n      if (!this._comm) this._initComm()\n      this._sendRequest(e, new ErrorActionBuilder(this._info).buildRequest())\n    },\n\n    _fatalErrorListener: function (e) {\n      if (!this._comm) this._initComm()\n      this._sendRequest(e, new FatalErrorActionBuilder(this._info).buildRequest())\n      this.reset()\n    },\n\n    _stopListener: function (e) {\n      this._sendRequest(e, new StopActionBuilder(this._info).buildRequest())\n      this.reset()\n    },\n\n    // Ads\n    _adStartListener: function (e) {\n      this._sendRequest(e, new AdStartActionBuilder(this._info).buildRequest(), true)\n    },\n\n    _adJoinListener: function (e) {\n      this._sendRequest(e, new AdJoinActionBuilder(this._info).buildRequest(), true)\n    },\n\n    _adPauseListener: function (e) {\n      this._sendRequest(e, new AdPauseActionBuilder(this._info).buildRequest(), true)\n    },\n\n    _adResumeListener: function (e) {\n      this._sendRequest(e, new AdResumeActionBuilder(this._info).buildRequest(), true)\n    },\n\n    _adBufferBeginListener: function (e) {\n      this._executeBuilder(e, new AdBufferBeginActionBuilder(this._info), true)\n    },\n\n    _adBufferEndListener: function (e) {\n      this._sendRequest(e, new AdBufferEndActionBuilder(this._info).buildRequest(), true)\n    },\n\n    _adStopListener: function (e) {\n      this._sendRequest(e, new AdStopActionBuilder(this._info).buildRequest(), true)\n    },\n\n    _sendPing: function (diffTime) {\n      if (this.options['config.enabled']) {\n        var builder = new PingActionBuilder(this._info)\n        this._comm.sendRequest(builder.buildRequest({ diffTime: diffTime }))\n      }\n    }\n  },\n  /** @lends YouboraController */\n  {\n    // Static members\n    /** Contains a static reference to plugins created. */\n    map: []\n  }\n)\n\nmodule.exports = YouboraController\n","var YouboraObject = require('../object')\nvar Log = require('../log')\nvar Util = require('../util')\nvar version = require('../version')\n\nvar InfoGatherer = YouboraObject.extend(\n  /** @lends InfoGatherer.prototype */\n  {\n    /**\n     * This class will fetch information about the reproduction from a {@link YouboraController}\n     *\n     * @constructs InfoGatherer\n     * @extends YouboraObject\n     * @memberof youbora\n     *\n     * @param {YouboraController} controller A YouboraController instance\n     */\n    constructor: function (controller) {\n      this.plugin = controller.plugin\n      this._options = controller.options\n      this._controller = controller\n\n      /** Stores last sent values */\n      this.lastSent = {}\n    },\n\n    // ------------------------------------- INFO GETTERS -----------------------------------------\n\n    /** Returns service host */\n    getHost: function () {\n      return Util.addProtocol(Util.stripProtocol(\n        this._options['config.host'],\n        this._options['config.httpSecure']\n      ))\n    },\n\n    /** Returns content's playhead */\n    getPlayhead: function () {\n      var ret = 0\n      try {\n        ret = this.plugin.getPlayhead()\n      } catch (err) {\n        Log.warn('An error occurred while calling getPlayhead', err)\n      }\n      return Util.parseNumber(ret, 0)\n    },\n\n    /** Returns content's PlayRate */\n    getPlayrate: function () {\n      var ret = ''\n      try {\n        ret = this.plugin.getPlayrate()\n      } catch (err) {\n        Log.warn('An error occured while calling getPlayrate', err)\n      }\n      return ret\n    },\n\n    /** Returns content's FramesPerSecond */\n    getFramesPerSecond: function () {\n      var ret = ''\n      try {\n        ret = this.plugin.getFramesPerSecond()\n      } catch (err) {\n        Log.warn('An error occured while calling getFramesPerSecond', err)\n      }\n      return ret\n    },\n\n    /** Returns content's DroppedFrames */\n    getDroppedFrames: function () {\n      var ret = ''\n      try {\n        ret = this.plugin.getDroppedFrames()\n        if (!ret) {\n          ret = this.getWebkitDroppedFrames()\n        }\n      } catch (err) {\n        Log.warn('An error occured while calling getDroppedFrames', err)\n      }\n      return Util.parseNumber(ret, 0)\n    },\n\n    /**\n     * Returns dropped frames as per webkitDroppedFrameCount\n     *\n     * @returns {number}\n     */\n    getWebkitDroppedFrames: function () {\n      if (this.plugin.tag && this.plugin.tag.webkitDroppedFrameCount) {\n        return this.plugin.tag.webkitDroppedFrameCount\n      }\n      return null\n    },\n\n    /** Returns content's Duration */\n    getDuration: function () {\n      var ret = this._options['content.duration']\n      if (ret === null) {\n        try {\n          ret = this.plugin.getDuration()\n        } catch (err) {\n          Log.warn('An error occured while calling getDuration', err)\n        }\n      }\n      return Util.parseNumber(Math.round(ret), 0)\n    },\n\n    /** Returns content's Bitrate */\n    getBitrate: function () {\n      var ret = this._options['content.bitrate']\n      if (ret === null) {\n        try {\n          ret = this.plugin.getBitrate()\n        } catch (err) {\n          Log.warn('An error occured while calling getBitrate', err)\n        }\n\n        if (!ret || ret === -1) {\n          ret = this.getWebkitBitrate()\n        }\n      }\n      return Util.parseNumber(ret, -1)\n    },\n\n    /**\n     * Returns bitrate as per webkitVideoDecodedByteCount\n     *\n     * @param {Object} tag Video tag DOM reference.\n     * @returns {number}\n     */\n    getWebkitBitrate: function () {\n      if (this.plugin.tag && this.plugin.tag.webkitVideoDecodedByteCount) {\n        var bitrate = this.plugin.tag.webkitVideoDecodedByteCount\n        if (this._lastAdBitrate) {\n          var delta = this.plugin.tag.webkitVideoDecodedByteCount - this._lastAdBitrate\n          bitrate = Math.round(((delta) / 5) * 8)\n        }\n        this._lastAdBitrate = this.plugin.tag.webkitVideoDecodedByteCount\n        return bitrate !== 0 ? bitrate : -1\n      }\n    },\n\n    /** Returns content's Throughput */\n    getThroughput: function () {\n      var ret = this._options['content.throughput']\n      if (ret === null) {\n        try {\n          ret = this.plugin.getThroughput()\n        } catch (err) {\n          Log.warn('An error occured while calling getThroughput', err)\n        }\n      }\n      return Util.parseNumber(ret, -1)\n    },\n\n    /** Returns content's Rendition */\n    getRendition: function () {\n      var ret = this._options['content.rendition']\n      if (ret === null) {\n        try {\n          ret = this.plugin.getRendition()\n        } catch (err) {\n          Log.warn('An error occured while calling getRendition', err)\n        }\n      }\n      return ret\n    },\n\n    /** Returns content's Title */\n    getTitle: function () {\n      var ret = this._options['content.title']\n      if (ret === null) {\n        try {\n          ret = this.plugin.getTitle()\n        } catch (err) {\n          Log.warn('An error occured while calling getTitle', err)\n        }\n      }\n      return ret\n    },\n\n    /** Returns content's Title2 */\n    getTitle2: function () {\n      var ret = this._options['content.title2']\n      if (ret === null) {\n        try {\n          ret = this.plugin.getTitle2()\n        } catch (err) {\n          Log.warn('An error occured while calling getTitle2', err)\n        }\n      }\n      return ret\n    },\n\n    /** Returns content's IsLive */\n    getIsLive: function () {\n      var ret = this._options['content.isLive']\n      if (ret === null) {\n        try {\n          ret = this.plugin.getIsLive()\n        } catch (err) {\n          Log.warn('An error occured while calling getIsLive', err)\n        }\n      }\n      return ret\n    },\n\n    /** Returns content's Resource after being parsed by the resourceTransform */\n    getResource: function () {\n      var ret = null\n      if (!this._controller.resourceTransform.isBlocking()) {\n        ret = this._controller.resourceTransform.getResource()\n      }\n\n      return ret || this.getOriginalResource()\n    },\n\n    /** Returns content's original Resource */\n    getOriginalResource: function () {\n      var ret = null\n      ret = this._options['content.resource']\n      if (ret === null) {\n        try {\n          ret = this.plugin.getResource()\n        } catch (err) {\n          Log.warn('An error occured while calling getResource', err)\n          ret = null\n        }\n      }\n      return ret || 'unknown'\n    },\n\n    /** Returns content's TransactionCode */\n    getTransactionCode: function () {\n      return this._options['content.transactionCode']\n    },\n\n    /** Returns content's Metadata */\n    getMetadata: function () {\n      return this._options['content.metadata']\n    },\n\n    /** Returns content's PlayerVersion */\n    getPlayerVersion: function () {\n      var ret = ''\n      try {\n        ret = this.plugin.getPlayerVersion()\n      } catch (err) {\n        Log.warn('An error occured while calling getPlayerVersion', err)\n      }\n      return ret\n    },\n\n    /** Returns content's PlayerName */\n    getPlayerName: function () {\n      var ret = ''\n      try {\n        ret = this.plugin.getPlayerName()\n      } catch (err) {\n        Log.warn('An error occured while calling getPlayerName', err)\n      }\n      return ret\n    },\n\n    /** Returns content's Cdn */\n    getCdn: function () {\n      var ret = null\n      if (!this._controller.resourceTransform.isBlocking()) {\n        ret = this._controller.resourceTransform.getCdnName()\n      }\n      return ret || this._options['content.cdn']\n    },\n\n    /** Returns content's PluginVersion */\n    getPluginVersion: function () {\n      var ret = ''\n      try {\n        ret = this.plugin.getVersion()\n      } catch (err) {\n        Log.warn('An error occured while calling getPluginVersion', err)\n      }\n      return ret\n    },\n\n    /** Returns content's Extraparam1 */\n    getExtraparam1: function () {\n      return this._options['extraparam.1']\n    },\n\n    /** Returns content's Extraparam2 */\n    getExtraparam2: function () {\n      return this._options['extraparam.2']\n    },\n\n    /** Returns content's Extraparam3 */\n    getExtraparam3: function () {\n      return this._options['extraparam.3']\n    },\n\n    /** Returns content's Extraparam4 */\n    getExtraparam4: function () {\n      return this._options['extraparam.4']\n    },\n    /** Returns content's Extraparam5 */\n    getExtraparam5: function () {\n      return this._options['extraparam.5']\n    },\n\n    /** Returns content's Extraparam6 */\n    getExtraparam6: function () {\n      return this._options['extraparam.6']\n    },\n\n    /** Returns content's Extraparam7 */\n    getExtraparam7: function () {\n      return this._options['extraparam.7']\n    },\n\n    /** Returns content's Extraparam8 */\n    getExtraparam8: function () {\n      return this._options['extraparam.8']\n    },\n\n    /** Returns content's Extraparam9 */\n    getExtraparam9: function () {\n      return this._options['extraparam.9']\n    },\n\n    /** Returns content's Extraparam10 */\n    getExtraparam10: function () {\n      return this._options['extraparam.10']\n    },\n\n    /** Returns ad's position */\n    getAdPosition: function () {\n      var ret = null\n      if (this.plugin.adnalyzer) {\n        try {\n          ret = this.plugin.adnalyzer.getPosition()\n        } catch (err) {\n          Log.warn('An error occured while calling getAdPosition', err)\n        }\n      }\n      return ret\n    },\n\n    /** Returns ad's AdPlayhead */\n    getAdPlayhead: function () {\n      var ret = null\n      if (this.plugin.adnalyzer) {\n        try {\n          ret = this.plugin.adnalyzer.getPlayhead()\n        } catch (err) {\n          Log.warn('An error occured while calling getAdPlayhead', err)\n        }\n      }\n      return Util.parseNumber(ret, 0)\n    },\n\n    /** Returns ad's AdDuration */\n    getAdDuration: function () {\n      var ret = null\n      if (this.plugin.adnalyzer) {\n        try {\n          ret = this.plugin.adnalyzer.getDuration()\n        } catch (err) {\n          Log.warn('An error occured while calling getAdDuration', err)\n        }\n      }\n      return Util.parseNumber(ret, 0)\n    },\n\n    /** Returns ad's AdBitrate */\n    getAdBitrate: function () {\n      var ret = null\n      if (this.plugin.adnalyzer) {\n        try {\n          ret = this.plugin.adnalyzer.getBitrate()\n        } catch (err) {\n          Log.warn('An error occured while calling getAdBitrate', err)\n        }\n\n        if (!ret || ret === -1) {\n          ret = this.getWebkitAdBitrate()\n        }\n      }\n      return Util.parseNumber(ret, -1)\n    },\n\n    /**\n     * Returns bitrate as per webkitVideoDecodedByteCount\n     *\n     * @param {Object} tag Video tag DOM reference.\n     * @returns {number}\n     */\n    getWebkitAdBitrate: function () {\n      if (this.plugin.tag && this.plugin.tag.webkitVideoDecodedByteCount) {\n        var bitrate = this.plugin.tag.webkitVideoDecodedByteCount\n        if (this._lastAdBitrate) {\n          var delta = this.plugin.tag.webkitVideoDecodedByteCount - this._lastAdBitrate\n          bitrate = Math.round(((delta) / 5) * 8)\n        }\n        this._lastAdBitrate = this.plugin.tag.webkitVideoDecodedByteCount\n        return bitrate !== 0 ? bitrate : -1\n      }\n    },\n\n    /** Returns ad's AdTitle */\n    getAdTitle: function () {\n      var ret = null\n      if (this.plugin.adnalyzer) {\n        try {\n          ret = this.plugin.adnalyzer.getTitle()\n        } catch (err) {\n          Log.warn('An error occured while calling getAdTitle', err)\n        }\n      }\n      return ret\n    },\n\n    /** Returns ad's AdResource */\n    getAdResource: function () {\n      var ret = null\n      if (this.plugin.adnalyzer) {\n        try {\n          ret = this.plugin.adnalyzer.getResource()\n        } catch (err) {\n          Log.warn('An error occured while calling getAdResource', err)\n        }\n      }\n      return ret\n    },\n\n    /** Returns ad's AdPlayerVersion */\n    getAdPlayerVersion: function () {\n      var ret = null\n      if (this.plugin.adnalyzer) {\n        try {\n          ret = this.plugin.adnalyzer.getPlayerVersion()\n        } catch (err) {\n          Log.warn('An error occured while calling getAdPlayerVersion', err)\n        }\n      }\n      return ret\n    },\n\n    /** Returns ad's AdMetadata */\n    getAdMetadata: function () {\n      return this._options['ad.metadata']\n    },\n\n    /** Returns ad's AdnalyzerVersion */\n    getAdnalyzerVersion: function () {\n      var ret = null\n      if (this.plugin.adnalyzer) {\n        try {\n          ret = this.plugin.adnalyzer.getVersion()\n        } catch (err) {\n          Log.warn('An error occured while calling getAdnalyzerVersion', err)\n        }\n      }\n      return ret\n    },\n\n    /** Returns PluginInfo */\n    getPluginInfo: function () {\n      var ret = {\n        pluginVersion: this.getPluginVersion(),\n        libVersion: version,\n        adnalyzerVersion: this.getAdnalyzerVersion()\n      }\n      return ret\n    },\n\n    /** Returns Ip */\n    getIp: function () {\n      return this._options['network.ip']\n    },\n\n    /** Returns Isp */\n    getIsp: function () {\n      return this._options['network.isp']\n    },\n\n    /** Returns ConnectionType */\n    getConnectionType: function () {\n      return this._options['network.connectionType']\n    },\n\n    /** Returns DeviceCode */\n    getDeviceCode: function () {\n      return this._options['device.code']\n    },\n\n    /** Returns AccountCode */\n    getAccountCode: function () {\n      return this._options['config.accountCode']\n    },\n\n    /** Returns Username */\n    getUsername: function () {\n      return this._options['config.username']\n    },\n\n    /** Get URL referer. */\n    getReferer: function () {\n      var ret = ''\n      if (typeof window !== 'undefined' && window.location) {\n        ret = window.location.href\n      }\n      return ret\n    },\n\n    /**\n     * Returns the nodehost\n     */\n    getNodeHost: function () {\n      return this._controller.resourceTransform.getNodeHost()\n    },\n\n    /**\n     * Returns the node type id\n     */\n    getNodeType: function () {\n      return this._controller.resourceTransform.getNodeType()\n    },\n\n    /**\n     * Returns the node type string\n     */\n    getNodeTypeString: function () {\n      return this._controller.resourceTransform.getNodeTypeString()\n    },\n\n    // ---------------------------------------- CHRONOS -------------------------------------------\n\n    /** Returns JoinDuration chrono delta time */\n    getJoinDuration: function () {\n      return this.plugin.chronos.join.getDeltaTime(false)\n    },\n\n    /** Returns BufferDuration chrono delta time */\n    getBufferDuration: function () {\n      return this.plugin.chronos.buffer.getDeltaTime(false)\n    },\n\n    /** Returns SeekDuration chrono delta time */\n    getSeekDuration: function () {\n      return this.plugin.chronos.seek.getDeltaTime(false)\n    },\n\n    /** Returns pauseDuration chrono delta time */\n    getPauseDuration: function () {\n      return this.plugin.chronos.pause.getDeltaTime(false)\n    },\n\n    /** Returns preload chrono delta time */\n    getPreloadDuration: function () {\n      return this.plugin.chronos.preload.getDeltaTime(false)\n    },\n\n    /** Returns AdJoinDuration chrono delta time */\n    getAdJoinDuration: function () {\n      return this.plugin.adnalyzer ? this.plugin.adnalyzer.chronos.join.getDeltaTime(false) : -1\n    },\n\n    /** Returns AdBufferDuration chrono delta time */\n    getAdBufferDuration: function () {\n      return this.plugin.adnalyzer ? this.plugin.adnalyzer.chronos.buffer.getDeltaTime(false) : -1\n    },\n\n    /** Returns AdPauseDuration chrono delta time */\n    getAdPauseDuration: function () {\n      return this.plugin.adnalyzer ? this.plugin.adnalyzer.chronos.pause.getDeltaTime(false) : -1\n    },\n\n    /** Returns total totalAdDuration chrono delta time */\n    getTotalAdDuration: function () {\n      return this.plugin.adnalyzer ? this.plugin.adnalyzer.chronos.total.getDeltaTime(false) : -1\n    }\n  }\n)\n\nmodule.exports = InfoGatherer\n","var YouboraObject = require('./object')\n\n/**\n * This class extends YouboraObject, adding event emitting/listening functionalities.\n * @constructs Emitter\n * @extends YouboraObject\n * @memberof youbora\n */\nvar Emitter = YouboraObject.extend(\n  /** @lends Emitter.prototype */\n  {\n    /**\n     * Sets a listener to a given event. Use {@link emit} to trigger those events.\n     * Pass '*' to listen ALL events.\n     * @param {string} event Name of the event.\n     * @param {function} callback Callback of the event. Receives event and data.\n     * @return this\n     */\n    on: function (event, callback) {\n      this._listeners = this._listeners || {}\n      if (typeof callback === 'function') {\n        this._listeners[event] = this._listeners[event] || []\n        this._listeners[event].push(callback)\n        return this\n      }\n    },\n\n    /**\n     * Removes given callback from the listeners of this object.\n     * @param {string} event Name of the event.\n     * @param {function} callback Callback of the event.\n     * @return this\n     */\n    off: function (event, callback) {\n      this._listeners = this._listeners || {}\n\n      if (this._listeners[event]) {\n        var index = this._listeners[event].indexOf(callback)\n        if (index !== -1) {\n          this._listeners[event].splice(index, 1)\n        }\n      }\n      return this\n    },\n\n    /**\n     * Emits given event, triggering all the associated callbacks.\n     * @param {string} event Name of the event.\n     * @param {object} [data] Custom data to be sent to the callbacks.\n     * @return this\n     */\n    emit: function (event, data) {\n      this._listeners = this._listeners || {}\n\n      if (Array.isArray(this._listeners[event])) {\n        this._listeners[event].forEach(this._eachCallback.bind(this, event, data))\n      }\n      if (Array.isArray(this._listeners['*'])) {\n        this._listeners['*'].forEach(this._eachCallback.bind(this, event, data))\n      }\n\n      return this\n    },\n\n    _eachCallback: function (event, data, callback) {\n      if (typeof callback === 'function') {\n        callback({ type: event, data: data, target: this })\n      }\n    }\n  }\n)\n\nmodule.exports = Emitter\n","var Emitter = require('./emitter')\n\n/**\n * Static Log class for YouboraLib\n *\n * @class\n * @static\n * @memberof youbora\n */\nvar Log = {\n\n  _emitter: new Emitter(),\n\n  /** Exposes {@link youbora.EvenfulObject.on} */\n  on: function () { Log._emitter.on.apply(Log._emitter, arguments) },\n  /** Exposes {@link youbora.EvenfulObject.off} */\n  off: function () { Log._emitter.off.apply(Log._emitter, arguments) },\n  /** Exposes {@link youbora.EvenfulObject.emit} */\n  emit: function () { Log._emitter.emit.apply(Log._emitter, arguments) },\n\n  /**\n   * Enum for log levels\n   * @enum\n   */\n  Level: {\n    /** No console outputs */\n    SILENT: 6,\n    /** Console will show errors */\n    ERROR: 5,\n    /** Console will show warnings */\n    WARNING: 4,\n    /** Console will show notices (ie: life-cyrcle logs) */\n    NOTICE: 3,\n    /** Console will show debug messages (ie: player events) */\n    DEBUG: 2,\n    /** Console will show verbose messages (ie: Http Requests) */\n    VERBOSE: 1\n  },\n\n  /**\n   * Enum for events\n   * @enum\n   */\n  Event: {\n    /** Sent each time a messaged is issued, even if log level does not handle it. */\n    LOG: 'log'\n  },\n\n  /**\n   * Only logs of this imporance or higher will be shown.\n   * @default youbora.Log.Levels.ERROR\n   * @see {@link youbora.Log.Levels}\n   */\n  logLevel: 5,\n\n  /**\n   * If true, console logs will always be outputed without colors (for debbugin in devices).\n   * @default false\n   */\n  plainLogs: false,\n\n  /**\n   * Returns a console message\n   *\n   * @private\n   * @param {(string|error|array)} msg Message string, error object or array of messages.\n   * @param {Log.Levels} [level=Log.Levels.NOTICE] Defines the level of the error sent.\n   * Only errors with higher or equal level than Log.logLevel will be displayed.\n   * @param {string} [color=darkcyan] Color of the header\n   * @see {@link Youbora.Log.debugLevel}\n   */\n  report: function (msg, level, color) {\n    if (console && console.log) {\n      level = level || Log.Level.NOTICE\n      color = color || 'darkcyan'\n\n      var letters = {\n        5: 'e', // Error\n        4: 'w', // Warning\n        3: 'n', // Notice\n        2: 'd', // Debug\n        1: 'v' // Verbose\n      }\n\n      var letter = letters[level]\n      var prefix = '[Youbora]' + Log._getCurrentTime() + ' ' + letter + ':'\n\n      this.emit('log', { level: level, msg: msg, prefix: prefix })\n\n      // Show messages in actual console if level is enought\n      if (Log.logLevel <= level) {\n        if (Log.plainLogs || document.documentMode) { // document.documentMode exits only in IE\n          // Plain log for IE and devices\n          Log._plainReport(msg, prefix)\n        } else {\n          // choose log method\n          var logMethod\n          if (level === Log.Level.ERROR && console.error) {\n            logMethod = console.error\n          } else if (level === Log.Level.WARNING && console.warn) {\n            logMethod = console.warn\n          } else if (level === Log.Level.DEBUG && console.debug) {\n            logMethod = console.debug\n          } else {\n            logMethod = console.log\n          }\n\n          // print message\n          prefix = '%c' + prefix\n          if (msg instanceof Array) {\n            msg.splice(0, 0, prefix, 'color: ' + color)\n            logMethod.apply(console, msg)\n          } else {\n            logMethod.call(console, prefix, 'color: ' + color, msg)\n          }\n        }\n      }\n    }\n  },\n\n  /**\n   * Returns the current time in format hh:mm:ss.mmm (with trailing 0s)\n   * @private\n   * @return {string} Current time.\n   */\n  _getCurrentTime: function () {\n    var d = new Date()\n    var hh = ('0' + d.getDate()).slice(-2)\n    var mm = ('0' + d.getMinutes()).slice(-2)\n    var ss = ('0' + d.getSeconds()).slice(-2)\n    var mmm = ('00' + d.getMilliseconds()).slice(-3)\n    return '[' + hh + ':' + mm + ':' + ss + '.' + mmm + ']'\n  },\n\n  /**\n   * Returns a console message without style\n   *\n   * @private\n   * @param {(string|object|array)} msg Message string, object or array of messages.\n   * @param {string} prefix Prefix of the message.\n   */\n  _plainReport: function (msg, prefix) {\n    if (msg instanceof Array) {\n      for (var m in msg) {\n        Log._plainReport(msg[m], prefix)\n      }\n    } else {\n      if (typeof msg === 'string') {\n        console.log(prefix + ' ' + msg)\n      } else {\n        console.log(prefix + ' <next line>')\n        console.log(msg)\n      }\n    }\n  },\n\n  /**\n   * Sends an error (level 1) console log.\n   * Supports unlimited arguments: (\"this\", \"is\", \"a\", \"message\")\n   * @memberof $YB\n   * @see {@link $YB.report}\n   */\n  error: function () {\n    Log.report([].slice.call(arguments), Log.Level.ERROR, 'darkred')\n  },\n\n  /**\n   * Sends a warning (level 2) console log.\n   * Supports unlimited arguments: (\"this\", \"is\", \"a\", \"message\")\n   * @memberof $YB\n   * @see {@link $YB.report}\n   */\n  warn: function () {\n    Log.report([].slice.call(arguments), Log.Level.WARNING, 'darkorange')\n  },\n\n  /**\n   * Sends a notice (level 3) console log.\n   * Supports unlimited arguments: (\"this\", \"is\", \"a\", \"message\")\n   * @memberof $YB\n   * @see {@link $YB.report}\n   */\n  notice: function () {\n    Log.report([].slice.call(arguments), Log.Level.NOTICE, 'darkgreen')\n  },\n\n  /**\n   * Sends a debug message (level 4) to console.\n   * Supports unlimited arguments: (\"this\", \"is\", \"a\", \"message\")\n   * @memberof $YB\n   * @see {@link $YB.report}\n   */\n  debug: function () {\n    Log.report([].slice.call(arguments), Log.Level.DEBUG, 'indigo')\n  },\n\n  /**\n   * Sends a verbose message (level 5) to console.\n   * Supports unlimited arguments: (\"this\", \"is\", \"a\", \"message\")\n   * @memberof $YB\n   * @see {@link $YB.report}\n   */\n  verbose: function () {\n    Log.report([].slice.call(arguments), Log.Level.VERBOSE, 'navy')\n  },\n\n  /**\n   * This function is automatically executed at youboralib's init.\n   * Will search inside window.location.search for attribute 'youbora-debug=X'.\n   * X can have one of these values, that will modify LogLevel.\n   * 6: SILENT,\n   * 5: ERROR,\n   * 4: WARNING,\n   * 3: NOTICE,\n   * 2: DEBUG,\n   * 1: VERBOSE\n   *\n   * If youbora-console=plain is present, plainLogs will be set to true.\n   */\n  loadLevelFromUrl: function () {\n    if (typeof window !== 'undefined' && window.location && window.location.search) {\n      var m = /\\?.*&*youbora-debug=(.+)/i.exec(window.location.search)\n      if (m !== null) {\n        Log.logLevel = m[1]\n      }\n\n      var m2 = /\\?.*&*youbora-debug=plain/i.exec(window.location.search)\n      if (m2 !== null) {\n        Log.plainLogs = true\n      }\n    }\n  }\n}\n\nmodule.exports = Log\n","var YouboraObject = function () {}\n\nYouboraObject.prototype = {\n  /**\n   * A base class that other Classes should inherit from.\n   * It has a no-op constructor intended to be overridden by classes that extend from this.\n   *\n   * @constructs YouboraObject\n   * @abstract\n   * @memberof youbora\n   */\n  constructor: function () {}\n}\n\n/**\n * This static method allows the extension of the current class, emulating 1-level inheritance.\n * Also add a helper __super__ object poiting to the parent prototypes methods\n * @see https://github.com/SBoudrias/class-extend\n * @example\n * var A = YouboraObject.extend({ a: 1, b: 1, c: { d: 0 } });\n * var a = new A(); // { a: 1, b: 1, c: { d: 0 } }\n *\n * var B = A.extend({ b: 2, c: { e: 3 } });\n * var b = new B(); // { a: 1, b: 2, c: { e: 3 } }\n *\n * @param  {Object} protoProps  Prototype properties (available on the instances)\n * @param  {Object} staticProps Static properties (available on the contructor)\n * @return {Object}             New sub class\n */\nYouboraObject.extend = function (protoProps, staticProps) {\n  var parent = this\n  var NewClass\n\n  // The constructor function for the new subclass is either defined by you\n  // (the \"constructor\" property in your `extend` definition), or defaulted\n  // by us to simply call the parent's constructor.\n  if (protoProps && Object.prototype.hasOwnProperty.call(protoProps, 'constructor')) {\n    NewClass = protoProps.constructor\n  } else {\n    NewClass = function () { return parent.apply(this, arguments) }\n  }\n\n  // Add static properties to the constructor function, if supplied.\n  Object.assign(NewClass, parent, staticProps)\n\n  // Set the prototype chain to inherit from `parent`\n  NewClass.prototype = Object.create(parent.prototype, {\n    constructor: {\n      value: NewClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  })\n\n  // Add prototype properties (instance properties) to the subclass,\n  // if supplied.\n  if (protoProps) Object.assign(NewClass.prototype, protoProps)\n\n  // Set a convenience property in case the parent's prototype is needed\n  // later.\n  NewClass.__super__ = parent.prototype\n\n  return NewClass\n}\n\nmodule.exports = YouboraObject\n","var YouboraObject = require('./object')\nvar Log = require('./log')\n\nvar Options = YouboraObject.extend(\n  /** @lends Options.prototype */\n  {\n    /**\n     * This Class store youbora configuration settings.\n     * @constructs Options\n     * @param {Object|Options} [options] A literal containing values.\n     * @extends YouboraObject\n     * @memberof youbora\n     */\n    constructor: function (options) {\n      /** @prop {boolean} [config.enabled=true] If false, the plugin won't send NQS requests. */\n      this['config.enabled'] = true\n\n      /**\n       * @prop {boolean} [config.httpSecure=null]\n       * Define the security of NQS calls.\n       * If true it will use 'https://',\n       * if false it will use 'http://',\n       * if null it will use '//'.\n       */\n      this['config.httpSecure'] = null\n\n      /** @prop {string} [config.host='nqs.nice264.com'] Host of the Fastdata service. */\n      this['config.host'] = 'nqs.nice264.com'\n\n      /**\n       * @prop {string} [config.accountCode='nicetest']\n       * NicePeopleAtWork account code that indicates the customer account.\n       */\n      this['config.accountCode'] = 'nicetest'\n\n      /** @prop {string} [config.username] User ID value inside your system. */\n      this['config.username'] = null\n\n      /**\n       * @prop {boolean} [parse.HLS=false]\n       * If true the plugin will parse HLS files to use the first .ts file found as resource.\n       * It might slow performance down.\n       */\n      this['parse.HLS'] = false\n\n      /**\n       * @prop {string} [parse.CDNNameHeader]\n       * If defined, resource parse will try to fetch the CDN code from the custom header defined\n       * by this property. ie: 'x-cdn-forward'\n       */\n      this['parse.CDNNameHeader'] = 'x-cdn-forward'\n\n      /**\n       * @prop {boolean} [parse.CDNNode.enabled=false]\n       * If true the plugin will query the CDN to retrieve the node name.\n       * It might slow performance down.\n       */\n      this['parse.CDNNode'] = false\n\n      /**\n       * @prop {array<string>} [parse.CDNNode.list=false]\n       * If true the plugin will query the CDN to retrieve the node name.\n       * It might slow performance down.\n       */\n      this['parse.CDNNode.list'] = ['Akamai', 'Cloudfront', 'Level3', 'Fastly', 'Highwinds']\n\n      /** @prop {string} [network.ip] IP of the viewer/user. ie= '100.100.100.100'. */\n      this['network.ip'] = null\n\n      /** @prop {string} [network.isp] Name of the internet service provider of the viewer/user. */\n      this['network.isp'] = null\n\n      /**\n       * @prop {string} [network.connectionType]\n       * See a list of codes in {@link http://mapi.youbora.com:8081/connectionTypes}\n       */\n      this['network.connectionType'] = null\n\n      /**\n       * @prop {string} [device.code]\n       * Youbora's device code. If specified it will rewrite info gotten from user agent.\n       * See a list of codes in {@link http://mapi.youbora.com:8081/devices}\n       */\n      this['device.code'] = null\n\n      /** @prop {string} [content.resource] URL/path of the current media resource. */\n      this['content.resource'] = null\n\n      /** @prop {boolean} [content.isLive] True if the content is live false if VOD. */\n      this['content.isLive'] = null\n\n      /** @prop {string} [content.title] Title of the media. */\n      this['content.title'] = null\n\n      /** @prop {string} [content.title2] Secondary title of the media. */\n      this['content.title2'] = null\n\n      /** @prop {number} [content.duration] Duration of the media. */\n      this['content.duration'] = null\n\n      /** @prop {string} [content.transactionCode] Custom unique code to identify the view. */\n      this['content.transactionCode'] = null\n\n      /** @prop {int} {content.bitrate] Bitrate of the content in bits per second. */\n      this['content.bitrate'] = null\n\n      /** @prop {int} {content.throughput] Throughput of the client bandwith in bits per second. */\n      this['content.throughput'] = null\n\n      /** @prop {string} {content.rendition] Name of the current rendition of the content. */\n      this['content.rendition'] = null\n\n      /**\n       * @prop {string} [content.cdn]\n       * Codename of the CDN where the content is streaming from.\n       * See a list of codes in {@link http://mapi.youbora.com:8081/cdns}\n       * */\n      this['content.cdn'] = null\n\n      /**\n       * @prop {object} [content.metadata={}]\n       * Item containing mixed extra information about the content like: director, parental rating,\n       * device info or the audio channels.This object may store any serializable key:value info.\n       */\n      this['content.metadata'] = {}\n\n      /**\n       * @prop {object} [ad.metadata={}]\n       * Item containing mixed extra information about ads like: campaign name or request url.\n       * This object may store any serializable key:value info.\n       */\n      this['ad.metadata'] = {}\n\n      /** @prop {string} [extraparam.1] Custom parameter 1. */\n      this['extraparam.1'] = null\n\n      /** @prop {string} [extraparam.2] Custom parameter 2. */\n      this['extraparam.2'] = null\n\n      /** @prop {string} [extraparam.3] Custom parameter 3. */\n      this['extraparam.3'] = null\n\n      /** @prop {string} [extraparam.4] Custom parameter 4. */\n      this['extraparam.4'] = null\n\n      /** @prop {string} [extraparam.5] Custom parameter 5. */\n      this['extraparam.5'] = null\n\n      /** @prop {string} [extraparam.6] Custom parameter 6. */\n      this['extraparam.6'] = null\n\n      /** @prop {string} [extraparam.7] Custom parameter 7. */\n      this['extraparam.7'] = null\n\n      /** @prop {string} [extraparam.8] Custom parameter 8. */\n      this['extraparam.8'] = null\n\n      /** @prop {string} [extraparam.9] Custom parameter 9. */\n      this['extraparam.9'] = null\n\n      /** @prop {string} [extraparam.10] Custom parameter 10. */\n      this['extraparam.10'] = null\n\n      this.setOptions(options)\n    },\n\n    /**\n     * Recursively sets the properties present in the params object.\n     * ie: this.username = params.username.\n     *\n     * @param {Object} options A literal or another Data containing values.\n     * @param {Object} [base=this] Start point for recursion.\n     */\n    setOptions: function (options, base) {\n      try {\n        base = base || this\n        if (typeof options !== 'undefined') {\n          for (var key in options) {\n            if (typeof base[key] === 'object' && base[key] !== null) {\n              this.setOptions(options[key], base[key])\n            } else {\n              base[key] = options[key]\n            }\n          }\n        }\n      } catch (err) {\n        Log.error(err)\n      }\n    }\n  }\n)\n\nmodule.exports = Options\n","var YouboraObject = require('../object')\nvar Chrono = require('../chrono')\n\nvar ChronoStatus = YouboraObject.extend(\n  /** @lends ChronoStatus.prototype */\n  {\n    /**\n     * This class contains all the {@link Chrono}s related to view status.\n     * Chronos measure time lapses between events.\n     * ie: between start and join, between seek-begin and seek-end, etc.\n     * Each plugin will have an instance of this class.\n     *\n     * @constructs ChronoStatus\n     * @extends YouboraObject\n     * @memberof youbora\n     */\n    constructor: function () {\n      this.reset()\n    },\n\n    /** Reset flag values */\n    reset: function () {\n      /** Chrono between preload-begin and preload-end. */\n      this.preload = new Chrono()\n\n      /** Chrono between start and joinTime. */\n      this.join = new Chrono()\n\n      /** Chrono between seek-begin and seek-end. */\n      this.seek = new Chrono()\n\n      /** Chrono between pause and resume. */\n      this.pause = new Chrono()\n\n      /** Chrono between buffer-begin and buffer-end. */\n      this.buffer = new Chrono()\n\n      /** Chrono for the totality of the view. */\n      this.total = new Chrono()\n    }\n  }\n)\n\nmodule.exports = ChronoStatus\n","var YouboraObject = require('../object')\n\nvar FlagStatus = YouboraObject.extend(\n  /** @lends FlagStatus.prototype */\n  {\n    /**\n     * This class contains all the flags related to view status.\n     * Each plugin will have an instance of this class.\n     *\n     * @constructs FlagStatus\n     * @extends YouboraObject\n     * @memberof youbora\n     */\n    constructor: function () {\n      this.reset()\n    },\n\n    /** Reset flag values */\n    reset: function () {\n      /** Flag when player is preloading. */\n      this.isPreloading = false\n\n      /** Flag when Init has been sent. */\n      this.isInitiated = false\n\n      /** Flag when Start has been sent. */\n      this.isStarted = false\n\n      /** Flag when Join has been sent. */\n      this.isJoined = false\n\n      /** Flag when Player is paused. */\n      this.isPaused = false\n\n      /** Flag when Player is seeking. */\n      this.isSeeking = false\n\n      /** Flag when Player is buffering. */\n      this.isBuffering = false\n\n      /** Flag trued when a fatal error is thrown */\n      this.isHalted = false\n    }\n  }\n)\n\nmodule.exports = FlagStatus\n","var Emitter = require('../emitter')\nvar Options = require('../options')\nvar Controller = require('../controller/controller')\nvar Log = require('../log')\nvar version = require('../version')\nvar ChronoStatus = require('./chronostatus')\nvar FlagStatus = require('./flagstatus')\nvar PlayheadMonitor = require('./playheadmonitor')\n\nvar GenericPlugin = Emitter.extend(\n  /** @lends GenericPlugin.prototype */\n  {\n    /**\n     * This class is the generic plugin from which specifics plugins will extend.\n     *\n     * @constructs GenericPlugin\n     * @extends Emitter\n     * @memberof youbora\n     *\n     * @param {Object|bool} [options={}]\n     * An object compiling to {@link Options} constructor.\n     * If you send a true, the plugin will be created without creating its {@link Controller},\n     * this is useful for testing and creating Adnalyzers.\n     */\n    constructor: function (options) {\n      /** An instance of {@link FlagStatus} */\n      this.flags = new FlagStatus()\n\n      /** An instance of {@link ChronoStatus} */\n      this.chronos = new ChronoStatus()\n\n      if (options !== true) {\n        /** Reference to the player tag */\n        this.player = null\n\n        /** Reference to the video/object tag, could be the same as the player. */\n        this.tag = null\n\n        /**\n         * Reference to an instance of {@link GenericPlugin} that will work as an ad analyzer.\n         * @type GenericPlugin\n         */\n        this.adnalyzer = null\n\n        /**\n         * Instance of {@link Controller}, unless true is sent in constructor.\n         * WARNING: Only access this if you know what you are doing!\n         * @type Controller\n         */\n        this.controller = new Controller(this, new Options(options))\n\n        Log.notice('Plugin ' + this.getVersion() + ' with Lib ' + version + ' is ready.')\n      }\n    },\n\n    /**\n     * Begin monitoring the given player. If it is an object, it will be saved as this.player.\n     * It it is a string, it will be saved as this.player = document.getElementById(...)\n     * Calls this.registerListeners.\n     *\n     * @param {object|string} player Either an instance of the player or a string containing an ID.\n     */\n    beginMonitoring: function (player) {\n      if (typeof player === 'string') {\n        this.player = document.getElementById(player)\n      } else {\n        this.player = player\n      }\n\n      this.tag = this.player\n\n      this.resumeMonitoring()\n    },\n\n    /**\n     * Calls registerListeners if exists. Resume pings.\n     */\n    resumeMonitoring: function () {\n      if (this.controller && this.flags.isStarted) this.controller.startPings()\n      if (this.registerListeners) this.registerListeners()\n    },\n\n    /**\n     * Calls unregisterListeners. Pauses pings.\n     */\n    pauseMonitoring: function () {\n      if (this.controller && this.flags.isStarted) this.controller.stopPings()\n\n      if (this.unregisterListeners) this.unregisterListeners()\n    },\n\n    /**\n     * Removes this.player and this.tag references. Calls this.unregisterListeners.\n     */\n    endMonitoring: function () {\n      this.pauseMonitoring()\n\n      this.player = null\n      this.tag = null\n\n      if (this.controller) this.controller.reset()\n    },\n\n    /**\n     * Override to create event binders.\n     * @example\n     * registerListeners: function () {\n     *  this.player.addEventListener('start', this.onStart.bind(this))\n     * },\n     * onStart: function (e) {\n     *  this.emit('start')\n     * }\n     */\n    registerListeners: function () {},\n\n    /**\n     * Override to create event de-binders.\n     * @example\n     * registerListeners: function () {\n     *  this.player.removeEventListener('start', this.onStart)\n     * }\n     */\n    unregisterListeners: function () {},\n\n    /** Override to return current playhead of the video */\n    getPlayhead: function () { return 0 },\n\n    /** Override to return current playrate */\n    getPlayrate: function () { return !this.flags.isPaused ? 1 : 0 },\n\n    /** Override to return Frames Per Secon (FPS) */\n    getFramesPerSecond: function () { return null },\n\n    /** Override to return dropped frames since start */\n    getDroppedFrames: function () { return null },\n\n    /** Override to return video duration */\n    getDuration: function () { return 0 },\n\n    /** Override to return current bitrate */\n    getBitrate: function () { return -1 },\n\n    /** Override to return user bandwidth throughput */\n    getThroughput: function () { return -1 },\n\n    /** Override to return rendition */\n    getRendition: function () { return '' },\n\n    /** Override to return title */\n    getTitle: function () { return '' },\n\n    /** Override to return title2 */\n    getTitle2: function () { return '' },\n\n    /** Override to recurn true if live and false if VOD */\n    getIsLive: function () { return false },\n\n    /** Override to return resource URL. */\n    getResource: function () { return 'unknown' },\n\n    /** Override to return player version */\n    getPlayerVersion: function () { return null },\n\n    /** Override to return player's name */\n    getPlayerName: function () { return null },\n\n    /** Override to return plugin version. */\n    getVersion: function () { return '6.0.0-Generic' },\n\n    /** Override to return current ad position (only ads) */\n    getPosition: function () { return null },\n\n    /**\n     * Sets an adnalyzer instance.\n     *\n     * @param {GenericPlguin} adnalyer Adnalyzer to be set.\n     */\n    setAdnalyzer: function (adnalyzer) {\n      this.adnalyzer = adnalyzer\n      if (this.controller) this.controller.setAdnalyzer()\n    },\n\n    /**\n     * Sets the plugin {@link Options}.\n     *\n     * @param {Object|bool} [options={}] An object compiling to {@link Options} constructor.\n     */\n    setOptions: function (options) {\n      if (this.controller) {\n        this.controller.setOptions(options)\n      } else {\n        Log.warn('Tried to call setOptions in a plugin without controller.')\n      }\n    },\n\n    /**\n     * Get the current options.\n     *\n     * @returns {Options}\n     */\n    getOptions: function () {\n      if (this.controller) {\n        return this.controller.getOptions()\n      } else {\n        Log.warn('Tried to call getOptions in a plugin without controller.')\n      }\n    },\n\n    /**\n     * Creates a {@link PlayheadMonitor} in this.monitor. It will track buffers.\n     */\n    createBufferMonitor: function () {\n      this.monitor = new PlayheadMonitor(this, PlayheadMonitor.Type.BUFFER)\n    },\n\n    /**\n     * Creates a {@link PlayheadMonitor} in this.monitor. It will track seeks.\n     */\n    createSeekMonitor: function () {\n      this.monitor = new PlayheadMonitor(this, PlayheadMonitor.Type.SEEK)\n    },\n\n    /**\n     * Creates a {@link PlayheadMonitor} in this.monitor. It will track buffers and seeks.\n     */\n    createBufferAndSeekMonitor: function () {\n      this.monitor = new PlayheadMonitor(this,\n        PlayheadMonitor.Type.SEEK | PlayheadMonitor.Type.BUFFER\n      )\n    }\n  },\n  /** @lend GenericPlugin */\n  {\n    // Static Memebers\n    /**\n     * List of events that could be fired\n     * @enum\n     */\n    Event: {\n      INIT: 'init',\n      START: 'start',\n      JOIN: 'join',\n      PAUSE: 'pause',\n      RESUME: 'resume',\n      SEEK_BEGIN: 'seek-begin',\n      SEEK_END: 'seek-end',\n      BUFFER_BEGIN: 'buffer-begin',\n      BUFFER_END: 'buffer-end',\n      ERROR: 'error',\n      FATAL_ERROR: 'fatal-error',\n      STOP: 'stop',\n      PRELOAD_BEGIN: 'preload-begin',\n      PRELOAD_END: 'preload-end',\n\n      PRE_START: 'pre-start',\n      PRE_JOIN: 'pre-join',\n      PRE_PAUSE: 'pre-pause',\n      PRE_RESUME: 'pre-resume',\n      PRE_SEEK_BEGIN: 'pre-seek-begin',\n      PRE_SEEK_END: 'pre-seek-end',\n      PRE_BUFFER_BEGIN: 'pre-buffer-begin',\n      PRE_BUFFER_END: 'pre-buffer-end',\n      PRE_ERROR: 'pre-error',\n      PRE_FATAL_ERROR: 'pre-fatal-error',\n      PRE_STOP: 'pre-stop',\n      PRE_PRELOAD_BEGIN: 'pre-preload-begin',\n      PRE_PRELOAD_END: 'pre-preload-end'\n    }\n  }\n)\n\nmodule.exports = GenericPlugin\n","var YouboraObject = require('../object')\nvar Timer = require('../timer')\nvar Chrono = require('../chrono')\n  // var Log = require('../log')\n\nvar PlayheadMonitor = YouboraObject.extend(\n  /** @lends PlayheadMonitor.prototype */\n  {\n    /**\n     * This Class store youbora configuration settings.\n     *\n     * @constructs PlayheadMonitor\n     * @extends YouboraObject\n     * @memberof youbora\n     *\n     * @param {GenericPlugin} plugin The plugin to monitor. Must have getPlayhead defined.\n     * @param {PlayheadMonitor.Type} [type=NONE]\n     * Which metric to monitor seek and/or buffer.\n     * Use bitwise operators to join both values (Type.BUFFER | Type.SEEK)\n     * @param {int} [interval=800] How many ms will wait between progress. -1 to disable.\n     */\n    constructor: function (plugin, type, interval) {\n      this._plugin = plugin\n      this._seekEnabled = type & PlayheadMonitor.Type.SEEK\n      this._bufferEnabled = type & PlayheadMonitor.Type.BUFFER\n      this._interval = interval || 800\n\n      this._chrono = new Chrono()\n      this._jumpNextProgress = false\n      this._lastPlayhead = 0\n\n      if (this._interval > 0) {\n        this._timer = new Timer(this.progress.bind(this), this._interval)\n      }\n\n      this._registerListeners()\n    },\n\n    /**\n     * Start interval checks.\n     */\n    start: function () {\n      this._timer.start()\n    },\n\n    /**\n     * Stop interval checks.\n     */\n    stop: function () {\n      if (this._timer) this._timer.stop()\n    },\n\n    _registerListeners: function () {\n      this._plugin.on('resume', this._resumeListener.bind(this))\n    },\n\n    _resumeListener: function (e) {\n      this._jumpNextProgress = true\n    },\n\n    /**\n     * Call this method at every tick of timeupdate/progress.\n     * If you defined an interval, do not fire this method manually.\n     */\n    progress: function () {\n      if (this._jumpNextProgress) {\n        this._jumpNextProgress = false\n        return // Jump tick\n      }\n\n      // Reset timer\n      var deltaTime = this._chrono.stop()\n      this._chrono.start()\n\n      // Define thresholds\n      var seekThreshold = deltaTime * PlayheadMonitor.kTHRESHOLD_RATIO\n      var bufferThreshold = deltaTime / PlayheadMonitor.kTHRESHOLD_RATIO\n      var minBuffer = deltaTime * PlayheadMonitor.kMIN_BUFFER_RATIO\n\n      // Calculate diff playhead\n      var currentPlayhead = this._getPlayhead()\n      var diffPlayhead = Math.abs(this._lastPlayhead - currentPlayhead) * 1000\n\n      // Log.debug('curr: ' + currentPlayhead +\n      //   ' last: ' + this._lastPlayhead +\n      //   ' diff: ' + diffPlayhead)\n\n      if (diffPlayhead < bufferThreshold) {\n        // Playhead is stalling > buffer\n        if (this._bufferEnabled &&\n          this._lastPlayhead > 0 &&\n          !this._plugin.flags.isBuffering &&\n          !this._plugin.flags.isPaused &&\n          !this._plugin.flags.isSeeking\n        ) {\n          this._plugin.emit('buffer-begin')\n        }\n      } else if (diffPlayhead > seekThreshold) {\n        // Playhead has jumped > seek\n        if (this._seekEnabled && this._lastPlayhead > 0 &&\n          !this._plugin.flags.isSeeking\n        ) {\n          this._plugin.emit('seek-begin')\n        }\n      } else {\n        // Healthy\n        if (this._seekEnabled &&\n          this._plugin.flags.isSeeking\n        ) {\n          this._plugin.emit('seek-end')\n        } else if (\n          this._bufferEnabled &&\n          this._plugin.flags.isBuffering &&\n          this._plugin.chronos.buffer.getDeltaTime(false) > minBuffer\n        ) {\n          this._plugin.emit('buffer-end')\n        }\n      }\n\n      // Update Playhead\n      this._lastPlayhead = currentPlayhead\n    },\n    /**\n     * Returns plugin's playhead. Override to add a custom playhead getter.\n     * @private\n     * @returns {double} Playhead in seconds\n     */\n    _getPlayhead: function () {\n      return this._plugin.getPlayhead()\n    }\n  }, {\n    // Static methods\n\n    /**\n     * Enum for monitoring type\n     * @enum\n     */\n    Type: {\n      /** Would not monitor */\n      NONE: 0,\n      /** Sends buffer-begin/end */\n      BUFFER: 1,\n      /** Sends seek-begin/end */\n      SEEK: 2\n    },\n\n    /** Threshold multiplier */\n    kTHRESHOLD_RATIO: 2,\n\n    /** Ignore small buffers under this ratio */\n    kMIN_BUFFER_RATIO: 1.1\n\n  })\n\nmodule.exports = PlayheadMonitor\n","/* eslint no-extend-native: \"off\" */\n\n/**\n * Youboralib applies polyfills (if needed) to the following functionalities:\n * Function.prototype.bind,\n * Object.assign,\n * Object.create,\n * Array.prototype.forEach,\n * Array.isArray,\n */\nvar applyPolyfills = function () {\n  // Bind\n  Function.prototype.bind = Function.prototype.bind || function (b) {\n    if (typeof this !== 'function') {\n      throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable')\n    }\n    var a = Array.prototype.slice\n    var f = a.call(arguments, 1)\n    var e = this\n    var C = function () {}\n    var d = function () {\n      return e.apply(this instanceof C ? this : b || window, f.concat(a.call(arguments)))\n    }\n    C.prototype = this.prototype\n    d.prototype = new C()\n    return d\n  }\n\n  // Assign\n  Object.assign = Object.assign || function (target) {\n    if (target === undefined || target === null) {\n      throw new TypeError('Cannot convert undefined or null to object')\n    }\n\n    var output = Object(target)\n    for (var index = 1; index < arguments.length; index++) {\n      var source = arguments[index]\n      if (source !== undefined && source !== null) {\n        for (var nextKey in source) {\n          if (source.hasOwnProperty(nextKey)) {\n            output[nextKey] = source[nextKey]\n          }\n        }\n      }\n    }\n    return output\n  }\n\n  // Create\n  Object.create = Object.create || (function () {\n    var Temp = function () {}\n    return function (prototype, propertiesObject) {\n      if (prototype !== Object(prototype) && prototype !== null) {\n        throw TypeError('Argument must be an object, or null')\n      }\n      Temp.prototype = prototype || {}\n      var result = new Temp()\n      Temp.prototype = null\n      if (propertiesObject !== undefined) {\n        Object.defineProperties(result, propertiesObject)\n      }\n\n      // to imitate the case of Object.create(null)\n      if (prototype === null) {\n        result.prototype = null\n      }\n      return result\n    }\n  })()\n\n  // Foreach\n  Array.prototype.forEach = Array.prototype.forEach || function (callback, thisArg) {\n    if (typeof (callback) !== 'function') {\n      throw new TypeError(callback + ' is not a function!')\n    }\n    var len = this.length\n    for (var i = 0; i < len; i++) {\n      callback.call(thisArg, this[i], i, this)\n    }\n  }\n\n  // isArray\n  Array.isArray = Array.isArray || function (obj) {\n    return Object.prototype.toString.call(obj) === '[object Array]'\n  }\n}\n\nmodule.exports = applyPolyfills\n","var YouboraObject = require('./object')\nvar Chrono = require('./chrono')\n\nvar Timer = YouboraObject.extend(\n  /** @lends Timer.prototype */\n  {\n    /**\n     * Instances of this class will call a callback every setted interval.\n     *\n     * @param {function} callback The callback to call every due interval.\n     * Callback will receive lapsed ms between calls.\n     * @param {int} [interval=5000] Milliseconds between each call.\n     *\n     * @constructs Timer\n     * @extends YouboraObject\n     * @memberof youbora\n     */\n    constructor: function (callback, interval) {\n      this.callback = callback\n      this.interval = interval || 5000\n      this.isRunning = false\n      this._timer = null\n\n      this.chrono = new Chrono()\n    },\n\n    /**\n     * Starts the timer.\n     */\n    start: function () {\n      this.isRunning = true\n      this._setTick()\n    },\n\n    /**\n     * Stops the timer.\n     */\n    stop: function () {\n      this.isRunning = false\n      if (this._timer) clearTimeout(this._timer)\n    },\n\n    _setTick: function () {\n      this.chrono.start()\n      this.timer = setTimeout(function () {\n        this.callback(this.chrono.stop())\n        this._setTick()\n      }.bind(this), this.interval)\n    }\n  }\n)\n\nmodule.exports = Timer\n","var Transform = require('./transform')\nvar Log = require('../log')\nvar YBRequest = require('../comm/request')\n\nvar CdnTransform = Transform.extend(\n  /** @lends CdnTransform.prototype */\n  {\n    /**\n     * Extend this class to implement your own ResourceTransform parser task.\n     *\n     * @constructs CdnTransform\n     * @extends Transform\n     * @memberof youbora\n     * @abstract\n     */\n    constructor: function (options) {\n      this._options = Object.assign({\n        cdnName: null,\n        parsers: [],\n        requestHeaders: {},\n        parseType: function () { return 0 }\n      }, options)\n    },\n\n    addParser: function (parser) {\n      this._options.parsers.push(parser)\n      return this\n    },\n\n    setCdnName: function (name) {\n      this._options.cdnName = name\n      return this\n    },\n\n    setRequestHeader: function (key, value) {\n      this._options.requestHeaders[key] = value\n      return this\n    },\n\n    setParseType: function (parser) {\n      this._options.parseType = parser\n      return this\n    },\n\n    getCdnName: function () {\n      return this._cdnName\n    },\n\n    getNodeHost: function () {\n      return this._cdnNodeHost\n    },\n\n    getNodeTypeString: function () {\n      return this._cdnNodeTypeString\n    },\n\n    getNodeType: function () {\n      return this._cdnNodeType\n    },\n\n    /**\n     * Parses given headers to check for matches.\n     */\n    parse: function (url, responses) {\n      responses = responses || {}\n      var headerString = JSON.stringify(this._options.requestHeaders)\n      if (responses[headerString]) {\n        this._parseResponse(responses[headerString])\n      } else {\n        this._requestResponse(url, responses)\n      }\n    },\n\n    _requestResponse: function (url, responses) {\n      var headerString = JSON.stringify(this._options.requestHeaders)\n\n      var request = new YBRequest(url, null, null, {\n        method: 'HEAD',\n        maxRetries: 0,\n        requestHeaders: this._options.requestHeaders\n      })\n\n      request.on(YBRequest.Event.SUCCESS, function (resp) {\n        responses[headerString] = resp.getXHR().getAllResponseHeaders()\n        this._parseResponse(responses[headerString])\n      }.bind(this))\n\n      request.on(YBRequest.Event.ERROR, function (resp) {\n        this.done()\n      }.bind(this))\n\n      request.send()\n    },\n\n    _parseResponse: function (headers) {\n      this._options.parsers.forEach(function (parser) {\n        headers.split('\\n').forEach(function (line) {\n          var index = line.indexOf(':')\n          if (index !== -1) {\n            var key = line.slice(0, index)\n            if (key === parser.headerName) {\n              this._executeParser(parser, line.slice(index + 1))\n            }\n          }\n        }.bind(this))\n      }.bind(this))\n      this.done()\n    },\n\n    _executeParser: function (parser, value) {\n      try {\n        var matches = parser.regex.exec(value.trim())\n        if (matches !== null) {\n          if (this._options.cdnName) this._cdnName = this._options.cdnName\n          switch (parser.element) {\n            case 'host':\n              this._cdnNodeHost = matches[1]\n              break\n            case 'type':\n              this._cdnNodeTypeString = matches[1]\n              this._cdnNodeType = this._options.parseType(this._cdnNodeTypeString)\n              break\n            case 'host+type':\n              this._cdnNodeHost = matches[1]\n              this._cdnNodeTypeString = matches[2]\n              this._cdnNodeType = this._options.parseType(this._cdnNodeTypeString)\n              break\n            case 'type+host':\n              this._cdnNodeTypeString = matches[1]\n              this._cdnNodeType = this._options.parseType(this._cdnNodeTypeString)\n              this._cdnNodeHost = matches[2]\n              break\n            case 'name':\n              this._cdnName = matches[1].toUpperCase()\n              break\n          }\n        }\n      } catch (err) {\n        Log.warn('CDN parsing for ' + this._options.cdnName +\n          ' could not parse header value ' + value)\n      }\n    }\n\n  },\n\n  /** @lends CdnParser */\n  {\n    // Static members\n    _cdns: {\n      Level3: {\n        cdnName: 'LEVEL3',\n        parsers: [{\n          element: 'host+type',\n          headerName: 'X-WR-DIAG',\n          regex: /Host:(.+)\\sType:(.+)/\n        }],\n        requestHeaders: {\n          'X-WR-DIAG': 'host'\n        },\n        parseType: function (type) {\n          switch (type) {\n            case 'TCP_HIT':\n            case 'TCP_MEM_HIT':\n            case 'TCP_IMS_HIT':\n              return 1\n            case 'TCP_MISS':\n              return 2\n            default:\n              return 0\n          }\n        }\n      },\n      Cloudfront: {\n        cdnName: 'CLOUDFRT',\n        parsers: [{\n          element: 'host',\n          headerName: 'X-Amz-Cf-Id',\n          regex: /(.+)/\n        }, {\n          element: 'type',\n          headerName: 'X-Cache',\n          regex: /(\\S+)\\s.+/\n        }],\n        parseType: function (type) {\n          switch (type) {\n            case 'Hit':\n              return 1\n            case 'Miss':\n              return 2\n            default:\n              return 0\n          }\n        }\n      },\n      Akamai: {\n        cdnName: 'AKAMAI',\n        parsers: [{\n          element: 'type+host',\n          headerName: 'X-Cache',\n          regex: /(.+)\\sfrom\\s.+\\(.+\\/(.+)\\).*/\n        }],\n        parseType: function (type) {\n          switch (type) {\n            case 'TCP_HIT':\n              return 1\n            case 'TCP_MISS':\n              return 2\n            default:\n              return 0\n          }\n        }\n      },\n      Highwinds: {\n        cdnName: 'HIGHNEGR',\n        parsers: [{\n          element: 'host+type',\n          headerName: 'X-HW',\n          regex: /.+,[0-9]+\\.(.+)\\.(.+)/\n        }],\n        parseType: function (type) {\n          switch (type) {\n            case 'c':\n            case 'x':\n              return 1\n            default:\n              return 2\n          }\n        }\n      },\n      Fastly: {\n        cdnName: 'FASTLY',\n        parsers: [{\n          element: 'host',\n          headerName: 'X-Served-By',\n          regex: /([^,\\s]+)$/\n        }, {\n          element: 'type',\n          headerName: 'X-Cache',\n          regex: /([^,\\s]+)$/\n        }],\n        parseType: function (type) {\n          switch (type) {\n            case 'HIT':\n              return 1\n            case 'MISS':\n              return 2\n            default:\n              return 0\n          }\n        }\n      },\n      Balancer: {\n        parsers: [{\n          element: 'name',\n          headerName: null,\n          regex: /(.+)/\n        }]\n      }\n    },\n\n    setBalancerHeaderName: function (name) {\n      CdnTransform._cdns.Balancer.parsers[0].headerName = name\n    },\n\n    create: function (key) {\n      if (CdnTransform._cdns[key]) {\n        return new CdnTransform(CdnTransform._cdns[key])\n      } else {\n        Log.warn('Tried to create an unexisting CdnTransform named ' + key)\n      }\n    },\n\n    add: function (key, parser) {\n      CdnTransform._cdns[key] = parser\n    }\n  }\n)\n\nmodule.exports = CdnTransform\n","var Transform = require('./transform')\nvar YBRequest = require('../comm/request')\nvar Log = require('../log')\n\nvar HlsTransform = Transform.extend(\n  /** @lends HlsTransform.prototype */\n  {\n    /**\n     * Extend this class to implement your own ResourceTransform parser task.\n     *\n     * @constructs HlsTransform\n     * @extends Transform\n     * @memberof youbora\n     * @abstract\n     */\n    constructor: function () {\n      this._realResource = null\n    },\n\n    /**\n     *\n     *\n     * @param {string} resource Either the resource url or the manifest body.\n     * @param {string} parentResource Parent resource in case relative paths are sent.\n     */\n    parse: function (resource, parentResource) {\n      parentResource = parentResource || ''\n\n      try {\n        var matches = /((\\S*?)(\\.m3u8|\\.m3u|\\.ts|\\.mp4)(\\?\\S*|\\n|\\r|$))/i.exec(resource)\n      } catch (err) {\n        Log.warn('Parse HLS Regex failed', err)\n        this.done()\n      }\n\n      if (matches !== null) { // get first line ending in .m3u8, .m3u, .mp4 or .ts\n        var res = matches[1].trim()\n\n        var index = parentResource.lastIndexOf('/')\n        if (res.indexOf('http') !== 0 && index !== -1) {\n          // If does not start with http, add parentResource relative route.\n          res = parentResource.slice(0, index) + '/' + res\n        }\n\n        if (matches[3] === '.m3u8' || matches[3] === '.m3u') { // It is m3u8 or m3u...\n          var request = new YBRequest(res, null, null, { cache: true })\n\n          request.on(YBRequest.Event.SUCCESS, function (resp) {\n            this.parse(resp.getXHR().responseText, matches[2])\n          }.bind(this))\n\n          request.on(YBRequest.Event.ERROR, function (resp) {\n            this.done()\n          }.bind(this))\n\n          request.send()\n        } else { // It is mp4 or ts...\n          this._realResource = res\n          this.done()\n        }\n      } else {\n        this.done()\n      }\n    },\n\n    getResource: function () {\n      return this._realResource\n    }\n  }\n)\n\nmodule.exports = HlsTransform\n","var Transform = require('./transform')\n\nvar Nqs6Transform = Transform.extend(\n  /** @lends Nqs6Transform.prototype */\n  {\n\n    /**\n     * This class ensures NQS6 retrocompatibility\n     *\n     * @constructs\n     * @extends Transform\n     * @memberof youbora\n     */\n    constructor: function () {\n      this.done()\n    },\n\n    /**\n     * Transform requests\n     * @param {YBRequest} request YBRequest to transform.\n     */\n    parse: function (request) {\n      this._cloneParam(request, 'accountCode', 'system')\n      this._cloneParam(request, 'transactionCode', 'transcode')\n      this._cloneParam(request, 'username', 'user')\n      this._cloneParam(request, 'mediaResource', 'resource')\n      this._cloneParam(request, 'errorMsg', 'msg')\n\n      if (request.service !== '/joinTime') {\n        this._cloneParam(request, 'playhead', 'time')\n      }\n\n      switch (request.service) {\n        case '/start':\n          this._cloneParam(request, 'mediaDuration', 'duration')\n          break\n\n        case '/joinTime':\n          this._cloneParam(request, 'joinDuration', 'time')\n          this._cloneParam(request, 'playhead', 'eventTime')\n          break\n\n        case '/seek':\n          this._cloneParam(request, 'seekDuration', 'duration')\n          break\n\n        case '/bufferUnderrun':\n          this._cloneParam(request, 'bufferDuration', 'duration')\n          break\n\n        case '/ping':\n          for (var key in request.params.entities) {\n            request.params.entityType = key\n            request.params.entityValue = request.params.entities[key]\n            break\n          }\n          break\n      }\n    },\n\n    _cloneParam: function (request, from, to) {\n      request.params[to] = request.params[from]\n    }\n  })\n\nmodule.exports = Nqs6Transform\n","var Transform = require('./transform')\nvar HlsTransform = require('./hls')\nvar CdnTransform = require('./cdn')\nvar Log = require('../log')\n\nvar ResourceTransform = Transform.extend(\n  /** @lends ResourceTransform.prototype */\n  {\n    /**\n     * This class parses resource to fetch transportstreams, CDNs and Node info.\n     *\n     * @constructs ResourceTransform\n     * @extends Transform\n     * @memberof youbora\n     *\n     * @param {Otions} options Instance of {@link Options}\n     */\n    constructor: function (options, info) {\n      ResourceTransform.__super__.constructor.apply(this, arguments)\n\n      this._hlsEnabled = options['parse.HLS']\n      this._cdnEnabled = options['parse.CDNNode']\n      this._cdnList = options['parse.CDNNode.list']\n      this._cdnNameHeader = options['parse.CDNNameHeader']\n      CdnTransform.setBalancerHeaderName(this._cdnNameHeader)\n      this._info = info\n\n      this._isBusy = false\n    },\n\n    getResource: function () {\n      return this._realResource || this._initResource\n    },\n\n    getCdnName: function () {\n      return this._cdnName\n    },\n\n    getNodeHost: function () {\n      return this._cdnNodeHost\n    },\n\n    getNodeTypeString: function () {\n      return this._cdnNodeTypeString\n    },\n\n    getNodeType: function () {\n      return this._cdnNodeType\n    },\n\n    init: function (resource) {\n      if (!this._isBusy) {\n        this._isBusy = true\n\n        this._initResource = resource\n\n        this._setTimeout()\n\n        if (this._hlsEnabled) {\n          this._parseHLS()\n        } else if (this._cdnEnabled) {\n          this._parseCDN()\n        } else {\n          this.done()\n        }\n      }\n    },\n\n    _setTimeout: function () {\n      // Abort operation after 3s\n      this._parseTimeout = setTimeout(function () {\n        if (this._isBusy) {\n          this.done()\n          Log.warn(\n            'ResourceTransform has exceded the maximum execution time (3s) and will be aborted.'\n          )\n        }\n      }.bind(this), 3000)\n    },\n\n    _parseHLS: function () {\n      var hlsTransform = new HlsTransform()\n      hlsTransform.on(HlsTransform.Event.DONE, function () {\n        this._realResource = this._hlsTransform.getResource()\n        if (this._cdnEnabled) {\n          this._parseCDN()\n        } else {\n          this.done()\n        }\n      }.bind(this))\n      hlsTransform.parse(this._initResource)\n    },\n\n    _parseCDN: function () {\n      var cdnList = this._cdnList.slice()\n      cdnList.forEach(function (cdn) {\n        if (this.getNodeHost()) return // break\n\n        var cdnTransform = CdnTransform.create(cdn)\n        cdnTransform.on(CdnTransform.Event.DONE, function () {\n          this._cdnName = cdnTransform.getCdnName()\n          this._cdnNodeHost = cdnTransform.getNodeHost()\n          this._cdnNodeTypeString = cdnTransform.getNodeTypeString()\n          this._cdnNodeType = cdnTransform.getNodeType()\n\n          if (this.getNodeHost()) this.done()\n        }.bind(this))\n        cdnTransform.parse(this.getResource())\n      }.bind(this))\n    },\n\n    /**\n     * Transform requests\n     * @param {YBRequest} request YBRequest to transform.\n     */\n    parse: function (request) {\n      if (request.service === '/start') {\n        this._info.lastSent.mediaResource = request.params.mediaResource = this.getResource()\n\n        if (this._cdnEnabled) {\n          this._info.lastSent.cdn = request.params.cdn = request.params.cdn || this.getCdnName()\n          this._info.lastSent.nodeHost = request.params.nodeHost = this.getNodeHost()\n          this._info.lastSent.nodeType = request.params.nodeType = this.getNodeType()\n          request.params.nodeTypeString = this.getNodeTypeString()\n          this._info.lastSent.nodeTypeString = request.params.nodeTypeString\n        }\n      }\n    }\n  })\n\nmodule.exports = ResourceTransform\n","var Emitter = require('../emitter')\n\nvar Transform = Emitter.extend(\n  /** @lends Parser.prototype */\n\n  /**\n   * Transform classes among youbora helps the library parse and work with data.\n   * HLSParser, CDNParser, ResourceTransform or ViewTransform all extend from this class.\n   *\n   * @constructs Parser\n   * @extends Emitter\n   * @memberof youbora\n   * @abstract\n   */\n  {\n    constructor: function () {\n      this._isBusy = true\n    },\n\n    /**\n     * Override this method to transform info.\n     */\n    parse: function () {},\n\n    /**\n     * Returns if transform is blocking\n     * @param {YBRequest} request Request to transform.\n     * @return {bool} True if queue shall be blocked.\n     */\n    isBlocking: function (request) {\n      return this._isBusy\n    },\n\n    /**\n     * Emits DONE event\n     */\n    done: function () {\n      this._isBusy = false\n      this.emit(Transform.Event.DONE)\n    }\n  },\n\n  /** @lends Parser */\n  {\n    // Static members\n\n    /**\n     * List of events that could be fired from this class.\n     * @enum\n     */\n    Event: {\n      /**\n       * Notifies that this parser is done processing.\n       */\n      DONE: 'done'\n    }\n  }\n)\n\nmodule.exports = Transform\n","var YBRequest = require('../comm/request')\nvar Transform = require('./transform')\nvar Log = require('../log')\nvar Util = require('../util')\nvar DataActionBuilder = require('../actionbuilder/data')\n\nvar ViewTransform = Transform.extend(\n  /** @lends ViewTransform.prototype */\n  {\n    /**\n     * This class manages Fastdata service and view index.\n     *\n     * @constructs\n     * @extends Transform\n     * @memberof youbora\n     *\n     * @param {Otions} options Instance of {@link InfoGatherer}\n     */\n    constructor: function (info) {\n      ViewTransform.__super__.constructor.apply(this, arguments)\n\n      /** /data response */\n      this.response = {}\n\n      this._viewIndex = -1\n\n      var request = new DataActionBuilder(info).buildRequest()\n      request.host = info.getHost()\n      this._requestData(request)\n    },\n\n    _requestData: function (request) {\n      request\n        .on(YBRequest.Event.SUCCESS, this._receiveData.bind(this))\n        .on(YBRequest.Event.ERROR, this._failedData.bind(this))\n        .send()\n\n      if (request.params.system === 'nicetest') {\n        Log.error(\n          'No accountCode has been set. Please set your accountCode inside plugin\\'s options.'\n        )\n      }\n    },\n\n    _receiveData: function (req, e) {\n      try {\n        var msg = req.getXHR().response\n        var resp = JSON.parse(msg.slice(msg.indexOf('(') + 1, msg.lastIndexOf(')')))\n\n        this.response.host = Util.addProtocol(resp.q.h)\n        this.response.code = resp.q.c\n        this.response.pingTime = resp.q.pt\n\n        this.done()\n      } catch (err) {\n        Log.error('Fastdata response is invalid.')\n      }\n    },\n\n    _failedData: function (req, e) {\n      Log.error('Fastdata request failed.')\n    },\n\n    /**\n     * Call this method when a new content begins, it will increment the view index (_0, _1, _2...)\n     * @return {string} new viewcode\n     */\n    nextView: function () {\n      this._viewIndex += 1\n      return this.getViewCode()\n    },\n\n    /**\n     * Returns current viewcode\n     * @return {string} viewcode\n     */\n    getViewCode: function () {\n      return this.response.code + '_' + this._viewIndex\n    },\n\n    /**\n     * Transform requests\n     * @param {youbora.comm.YBRequest} request YBRequest to transform.\n     */\n    parse: function (request) {\n      request.host = request.host || this.response.host\n      request.params.code = request.params.code || this.getViewCode()\n      if (request.service === '/ping' || request.service === '/start') {\n        request.params.pingTime = request.params.pingTime || this.response.pingTime\n      }\n    }\n  })\n\nmodule.exports = ViewTransform\n","var Log = require('./log')\n\n/**\n * This static class provides utilities\n * @class\n * @static\n * @memberof youbora\n */\nvar Util = {\n  /**\n   * Strip {protocol}:// and // from the begining of the string.\n   *\n   * @param {string} url\n   * @returns {string} stripped url\n   */\n  stripProtocol: function (url) {\n    try {\n      return url.replace(/^(.*?:\\/\\/|\\/\\/)/i, '')\n    } catch (err) {\n      Log.warn(err)\n      return url\n    }\n  },\n\n  /**\n   * Adds specific protocol. ie: [http[s]:]//nqs.nice264.com\n   *\n   * @param {string} url Domain of the service.\n   * @param {boolean|null} [httpSecure]\n   * If true will add https, if false http.\n   * Otherwise will add //\n   * @return Return the complete service URL.\n   */\n  addProtocol: function (url, httpSecure) {\n    try {\n      if (httpSecure === true) {\n        return 'https://' + url\n      } else if (window.location.protocol.indexOf('http') === 0) {\n        return '//' + url\n      } else {\n        return 'http://' + url\n      }\n    } catch (err) {\n      Log.warn(err)\n      return 'http://localhost/'\n    }\n  },\n\n  /**\n   * Return n if it isn't NaN, negative, Infinity, null or undefined.\n   * In any other case, return def.\n   *\n   * @param {mixed} n Number to be parsed.\n   * @param {number} defl Number to return if n is not correct.\n   */\n  parseNumber: function (n, def) {\n    if (!isNaN(n) && n >= 0 && n !== Infinity && n !== null && typeof n !== 'undefined') {\n      return n\n    } else {\n      return def\n    }\n  },\n\n  /**\n   * This utility function will add most of the HTML5 event listener to the player sent.\n   * This common events will be listened: 'canplay', 'buffering', 'waiting', 'ended', 'play',\n   * 'playing', 'pause', 'resume', 'error', 'abort', 'seek', 'seeking', 'seeked', 'stalled',\n   * 'dispose', 'loadeddata', 'loadstart'.\n   *\n   * Events will be reported as DEBUG level messages.\n   *\n   * @param {object|function} o Object to attach the events.\n   * @param {array} [extraEvents]\n   * An array of extra events to watch. ie:  ['timeupdate', 'progress'].\n   * If the first item is null, no common events will be added.\n   * @param {function} [report] Callback function called to report events.\n   * Default calls Log.debug()\n   */\n  listenAllEvents: function (o, extraEvents, report) {\n    try {\n      if (Log.logLevel <= Log.Level.DEBUG) {\n        report = report || function (e) {\n          Log.debug('Event: ' + e.type)\n        }\n\n        var playerEvents = [\n          'canplay', 'buffering', 'waiting', 'ended', 'play', 'playing',\n          'pause', 'resume', 'error', 'abort', 'seek', 'seeking', 'seeked',\n          'stalled', 'dispose', 'loadeddata', 'loadstart'\n        ]\n        if (extraEvents) {\n          if (extraEvents[0] === null) {\n            extraEvents.shift()\n            playerEvents = extraEvents\n          } else {\n            playerEvents = playerEvents.concat(extraEvents)\n          }\n        }\n\n        for (var i = 0; i < playerEvents.length; i++) {\n          if (typeof o === 'function') {\n            o.call(window, playerEvents[i], report)\n          } else if (o.on) {\n            o.on(playerEvents[i], report)\n          } else if (o.addEventListener) {\n            o.addEventListener(playerEvents[i], report)\n          }\n        }\n      }\n    } catch (err) {\n      Log.error(err)\n    }\n  },\n\n  /**\n   * Builds a string that represents the rendition.\n   *\n   * The returned string will have the following format: <width>x<height>@bitrate<suffix?>.\n   * If either the width or height are < 1, only the bitrate will be returned.\n   * If bitrate is < 1, only the dimensions will be returned.\n   * If bitrate is < and there is no dimensions, a null will be returned.\n   * The bitrate will also have one of the following suffixes dependin on its\n   * magnitude: bps, Kbps, Mbps\n   *\n   * @param {any} width The width of the asset. If only 1 argument is sent, it will be treated\n   * as bitrate.\n   * @param {any} height The height of the asset.\n   * @param {any} bitrate The indicated bitrate (in the manifest) of the asset.\n   * @returns {string} A string with the following format: <width>x<height>@<bitrate><suffix>\n   */\n  buildRenditionString: function (width, height, bitrate) {\n    if (arguments.length === 1) {\n      bitrate = width\n      width = null\n      height = null\n    }\n\n    var ret = ''\n    if (width && height) {\n      ret = width + 'x' + height\n      if (bitrate > 0) {\n        ret += '@'\n      }\n    }\n\n    if (bitrate < 1) {\n      return ret\n    } else if (bitrate < 1e3) {\n      ret += Math.round(bitrate) + 'bps'\n    } else if (bitrate < 1e6) {\n      bitrate = Math.round(bitrate / 1e3)\n      ret += bitrate + 'Kbps'\n    } else {\n      bitrate = Math.round(bitrate / 1e4) / 1e2\n      ret += bitrate + 'Mbps'\n    }\n\n    return ret || null\n  }\n\n}\n\nmodule.exports = Util\n","// No-Conflict\nvar previousYoubora = youbora\nvar youbora = {}\n\n/**\n * This allows you to run multiple instances of YouboraLib on the same webapp.\n * After loading the new version, call `noConflict()` to get a reference to it.\n * At the same time the old version will be returned to Youbora.\n */\nyoubora.noConflict = function () {\n  youbora = previousYoubora\n  return this\n}\n\n// Info\nyoubora.VERSION = require('./version')\n\n// Polyfills\nrequire('./polyfills')() // Apply pollyfills\n\n// Classes\nyoubora.Object = require('./object')\nyoubora.Emitter = require('./emitter')\nyoubora.Log = require('./log')\nyoubora.Util = require('./util')\nyoubora.Chrono = require('./chrono')\nyoubora.Timer = require('./timer')\nyoubora.Options = require('./options')\n\n// Comm classes\nyoubora.Request = require('./comm/request')\nyoubora.Communication = require('./comm/communication')\n\n// Resource Transform\nyoubora.Transform = require('./transform/transform')\nyoubora.ResourceTransform = require('./transform/resource')\nyoubora.CdnTransform = require('./transform/cdn')\n\n// Controller Classes\nyoubora.Controller = require('./controller/controller')\n\n// Plugin helper Classes\nyoubora.ChronoStatus = require('./plugin/chronostatus')\nyoubora.FlagStatus = require('./plugin/flagstatus')\nyoubora.PlayheadMonitor = require('./plugin/playheadmonitor')\n\n// Plugins\nyoubora.plugins = {\n  Generic: require('./plugin/generic')\n}\n\n// Load LogLevel from url\nyoubora.Log.loadLevelFromUrl()\n\nmodule.exports = youbora\n","module.exports={\n  \"name\": \"youbora-html5-js\",\n  \"version\": \"6.0.0-beta\",\n  \"description\": \"\",\n  \"main\": \"src/plugin.js\",\n  \"scripts\": {\n    \"build\": \"gulp build\",\n    \"version\": \"npm run build && git add -A\",\n    \"postversion\": \"git push && git push --tags\"\n  },\n  \"dependencies\": {\n    \"youboralib\": \"../../youboralib/\"\n  },\n  \"devDependencies\": {\n    \"browserify\": \"^13.1.0\",\n    \"del\": \"^2.2.2\",\n    \"eslint\": \"^3.7.1\",\n    \"eslint-config-standard\": \"^6.2.0\",\n    \"eslint-plugin-node\": \"^2.1.2\",\n    \"eslint-plugin-promise\": \"^3.4.0\",\n    \"eslint-plugin-standard\": \"^2.0.1\",\n    \"gulp\": \"^3.9.1\",\n    \"gulp-load-plugins\": \"^1.3.0\",\n    \"gulp-rename\": \"^1.2.2\",\n    \"gulp-sourcemaps\": \"^1.6.0\",\n    \"gulp-streamify\": \"^1.0.2\",\n    \"gulp-uglify\": \"^2.0.0\",\n    \"gulp-util\": \"^3.0.7\",\n    \"through2\": \"^2.0.1\",\n    \"vinyl-buffer\": \"^1.0.0\",\n    \"vinyl-source-stream\": \"^1.1.0\",\n    \"watchify\": \"^3.7.0\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git+https://github.com/NicePeopleAtWork/Youbora-Html5-JS.git\"\n  },\n  \"author\": \"Jordi Aguilar\",\n  \"license\": \"MIT\",\n  \"bugs\": {\n    \"email\": \"support@nicepeopleatwork.com\"\n  },\n  \"homepage\": \"https://github.com/NicePeopleAtWork/Youbora-Html5-JS#readme\"\n}\n","var youbora = require('youboralib')\nvar pkg = require('../package.json')\n\nyoubora.plugins.Html5 = youbora.plugins.Generic.extend({\n  getVersion: function () {\n    return pkg.version + '-html5'\n  },\n\n  getPlayhead: function () {\n    return this.player ? this.player.currentTime : 0\n  },\n\n  getDuration: function () {\n    return this.player ? this.player.duration : 0\n  },\n\n  getResource: function () {\n    return this.player ? this.player.currentSrc : 'unknown'\n  },\n\n  getPlayerName: function () {\n    return 'html5'\n  },\n\n  getPlayerVersion: function () {\n    return this.getPlayerName()\n  },\n\n  registerListeners: function () {\n    youbora.Util.listenAllEvents(this.player)\n\n    // Enable playhead monitor\n    this.createBufferMonitor()\n\n    // Register listeners\n    this.player.addEventListener('play', this.playListener.bind(this))\n    this.player.addEventListener('timeupdate', this.timeupdateListener.bind(this))\n    this.player.addEventListener('pause', this.pauseListener.bind(this))\n    this.player.addEventListener('playing', this.playingListener.bind(this))\n    this.player.addEventListener('error', this.errorListener.bind(this))\n    this.player.addEventListener('seeking', this.seekingListener.bind(this))\n    this.player.addEventListener('ended', this.endedListener.bind(this))\n  },\n\n  unregisterListeners: function () {\n    // Disable playhead monitoring\n    this.monitor.stop()\n\n    // unregister listeners\n    this.player.removeEventListener('play', this.onPlay)\n    this.player.removeEventListener('timeupdate', this.onTimeupdate)\n    this.player.removeEventListener('pause', this.onPause)\n    this.player.removeEventListener('playing', this.onPlaying)\n    this.player.removeEventListener('error', this.onError)\n    this.player.removeEventListener('seeking', this.onSeeking)\n    this.player.removeEventListener('ended', this.onEnded)\n  },\n\n  playListener: function (e) {\n    this.emit('start')\n  },\n\n  timeupdateListener: function (e) {\n    if (this.getPlayhead() > 0.1) {\n      this.emit('join')\n    }\n  },\n\n  pauseListener: function (e) {\n    this.emit('pause')\n  },\n\n  playingListener: function (e) {\n    this.emit('resume')\n    this.emit('seek-end')\n  },\n\n  errorListener: function (e) {\n    this.emit('error', {\n      msg: 'PLAY_FAILURE'\n    })\n  },\n\n  seekingListener: function (e) {\n    this.emit('seek-begin')\n  },\n\n  endedListener: function (e) {\n    this.emit('stop')\n  }\n\n})\n\nmodule.exports = youbora\n"]}